import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{$t as t,At as n,Bt as r,Ct as i,Dt as a,Ft as o,G as s,H as c,Ht as l,K as u,L as d,Mt as f,N as p,Nt as m,Ot as h,St as g,Xt as _,Y as v,Zt as y,at as b,ct as x,gt as S,it as C,kt as w,mt as T,st as E}from"./vendor-BGrLWuzF.js";import{Vt as D}from"./libs-eJHw-jrC.js";import"./tanstack-CjdblyHw.js";import"./supabase-CBM4FLKd.js";import{C as ee,_ as O,b as k,c as A,m as te,v as j,w as ne,x as M,y as N}from"./index-CerAWixy.js";import{t as re}from"./useFollowUser-CPfbrqXX.js";var P=o(),F=e(t(),1),I=l(),L=e=>{let t=(0,P.c)(24),{title:n,users:r,onClose:i,theme:a,onUserClick:o,glassModal:s,loading:c}=e,l=`w-full max-w-md rounded-xl overflow-hidden shadow-2xl ${s} ${a===`dark`?`text-white`:`text-black`}`,u=`p-3 border-b text-center font-bold relative ${a===`dark`?`border-zinc-800`:`border-zinc-200`}`,d;t[0]===i?d=t[1]:(d=(0,I.jsx)(p,{className:`absolute right-3 top-3 cursor-pointer`,onClick:i}),t[0]=i,t[1]=d);let f;t[2]!==u||t[3]!==d||t[4]!==n?(f=(0,I.jsxs)(`div`,{className:u,children:[n,d]}),t[2]=u,t[3]=d,t[4]=n,t[5]=f):f=t[5];let m;t[6]!==c||t[7]!==o||t[8]!==a||t[9]!==r?(m=c?(0,I.jsx)(`div`,{className:`flex items-center justify-center h-full`,children:(0,I.jsx)(`div`,{className:`w-8 h-8 border-4 border-[#006a4e] border-t-transparent rounded-full animate-spin`})}):r.map((e,t)=>(0,I.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded-lg ${a===`dark`?`hover:bg-white/5`:`hover:bg-black/5`} cursor-pointer`,onClick:()=>o(e),children:[(0,I.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,I.jsxs)(N,{className:`w-12 h-12`,children:[(0,I.jsx)(M,{src:e.avatar}),(0,I.jsx)(k,{children:e.username?.[0]?.toUpperCase()||`?`})]}),(0,I.jsxs)(`div`,{className:`flex flex-col`,children:[(0,I.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,I.jsx)(`span`,{className:`text-sm font-semibold`,children:e.username}),e.isVerified&&(0,I.jsx)(A,{})]}),(0,I.jsx)(`span`,{className:`text-xs opacity-70`,children:e.name||e.username})]})]}),(0,I.jsx)(`button`,{className:`px-4 py-1.5 rounded-lg text-sm font-semibold bg-[#006a4e] text-white hover:bg-[#00523c]`,children:`Follow`})]},t)),t[6]=c,t[7]=o,t[8]=a,t[9]=r,t[10]=m):m=t[10];let h;t[11]!==c||t[12]!==r?(h=!c&&r.length===0&&(0,I.jsx)(`div`,{className:`text-center py-10 text-sm opacity-60`,children:`List is empty`}),t[11]=c,t[12]=r,t[13]=h):h=t[13];let g;t[14]!==m||t[15]!==h?(g=(0,I.jsxs)(`div`,{className:`h-80 overflow-y-auto p-2`,children:[m,h]}),t[14]=m,t[15]=h,t[16]=g):g=t[16];let _;t[17]!==l||t[18]!==f||t[19]!==g?(_=(0,I.jsxs)(`div`,{className:l,onClick:R,children:[f,g]}),t[17]=l,t[18]=f,t[19]=g,t[20]=_):_=t[20];let v;return t[21]!==i||t[22]!==_?(v=(0,I.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4 animate-fade-in`,onClick:i,children:_}),t[21]=i,t[22]=_,t[23]=v):v=t[23],v};function R(e){return e.stopPropagation()}var z=o();const B=(e,t)=>{let n=(0,z.c)(8),i,a;n[0]!==t||n[1]!==e?(i=[`follows`,e,t],a=async()=>{if(!e||!t)return[];let n=O.from(`follows`).select(`
        follower_id,
        following_id,
        follower:profiles!follower_id(username, full_name, avatar_url, id, is_verified),
        following:profiles!following_id(username, full_name, avatar_url, id, is_verified)
      `);n=t===`followers`?n.eq(`following_id`,e):n.eq(`follower_id`,e);let{data:r,error:i}=await n;if(i)throw i;return(r||[]).map(e=>{let n=t===`followers`?e.follower:e.following;return n?{username:n.username,name:n.full_name||n.username||`User`,avatar:n.avatar_url||``,id:n.id,isVerified:n.is_verified||!1,stats:{posts:0,followers:0,following:0},isFollowing:!1}:null}).filter(Boolean)},n[0]=t,n[1]=e,n[2]=i,n[3]=a):(i=n[2],a=n[3]);let o=!!e&&!!t,s;return n[4]!==i||n[5]!==a||n[6]!==o?(s={queryKey:i,queryFn:a,enabled:o},n[4]=i,n[5]=a,n[6]=o,n[7]=s):s=n[7],r(s)};var V=o(),H=e(D(),1);const U=[`savedPosts`],W=e=>{let t=(0,V.c)(8),n;t[0]===e?n=t[1]:(n=[...U,e],t[0]=e,t[1]=n);let i=!!e,a;t[2]===e?a=t[3]:(a=async()=>{if(!e)return[];let{data:t,error:n}=await O.from(`saves`).select(`
            created_at,
            post:posts (
                *,
                likes (count),
                comments (count),
                user:profiles (
                    username, full_name, avatar_url, is_verified
                )
            )
        `).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n)throw n;return t.map(G).filter(Boolean)},t[2]=e,t[3]=a);let o;return t[4]!==n||t[5]!==i||t[6]!==a?(o={queryKey:n,enabled:i,queryFn:a},t[4]=n,t[5]=i,t[6]=a,t[7]=o):o=t[7],r(o)};function G(e){let t=e.post;return t?{id:t.id,user:{username:t.user?.username||`Unknown`,name:t.user?.full_name||``,avatar:t.user?.avatar_url||``,isVerified:t.user?.is_verified||!1},content:{type:`image`,src:t.image_url},likes:t.likes?.[0]?.count||0,caption:t.caption||``,comments:t.comments?.[0]?.count||0,time:(0,H.default)(t.created_at).fromNow(),hasLiked:!1,hasSaved:!0,isVerified:t.user?.is_verified||!1}:null}var K=o(),ie=e(D(),1);const ae=[`taggedPosts`],oe=e=>{let t=(0,K.c)(8),n;t[0]===e?n=t[1]:(n=[...ae,e],t[0]=e,t[1]=n);let i=!!e,a;t[2]===e?a=t[3]:(a=async()=>{if(!e)return[];let{data:t,error:n}=await O.from(`post_tags`).select(`
            post:posts (
                *,
                likes (count),
                comments (count),
                user:profiles (
                    username, full_name, avatar_url, is_verified
                )
            )
        `).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n){if(n.code===`42P01`)return[];throw n}return t.map(se).filter(Boolean)},t[2]=e,t[3]=a);let o;return t[4]!==n||t[5]!==i||t[6]!==a?(o={queryKey:n,enabled:i,queryFn:a},t[4]=n,t[5]=i,t[6]=a,t[7]=o):o=t[7],r(o)};function se(e){let t=e.post;return t?{id:t.id,user:{username:t.user?.username||`Unknown`,name:t.user?.full_name||``,avatar:t.user?.avatar_url||``,isVerified:t.user?.is_verified||!1},content:{type:`image`,src:t.image_url},likes:t.likes?.[0]?.count||0,caption:t.caption||``,comments:t.comments?.[0]?.count||0,time:(0,ie.default)(t.created_at).fromNow(),hasLiked:!1,hasSaved:!1,isVerified:t.user?.is_verified||!1}:null}var ce=o(),le=e=>{let t=(0,ce.c)(52),{onClose:n}=e,{theme:r,showToast:i}=ne(),{signOut:a}=ee(),o=r===`dark`?`bg-[#121212]/90 backdrop-blur-2xl border border-white/10`:`bg-white/90 backdrop-blur-2xl border border-black/10`,c;t[0]!==n||t[1]!==a?(c=async()=>{await a(),n()},t[0]=n,t[1]=a,t[2]=c):c=t[2];let l=c,u;t[3]===i?u=t[4]:(u=e=>{i(`${e} - Coming soon`)},t[3]=i,t[4]=u);let d=u,f,h,g;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(f={opacity:0},h={opacity:1},g={opacity:0},t[5]=f,t[6]=h,t[7]=g):(f=t[5],h=t[6],g=t[7]);let _,v,y;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(_={scale:.9,opacity:0},v={scale:1,opacity:1},y={scale:.9,opacity:0},t[8]=_,t[9]=v,t[10]=y):(_=t[8],v=t[9],y=t[10]);let b=`w-full max-w-sm rounded-xl overflow-hidden shadow-2xl ${o} ${r===`dark`?`text-white`:`text-black`}`,S=`p-4 border-b font-bold flex justify-between items-center ${r===`dark`?`border-zinc-800`:`border-zinc-200`}`,C;t[11]===Symbol.for(`react.memo_cache_sentinel`)?(C=(0,I.jsx)(`span`,{children:`Settings`}),t[11]=C):C=t[11];let T;t[12]===Symbol.for(`react.memo_cache_sentinel`)?(T=(0,I.jsx)(p,{className:`h-5 w-5`}),t[12]=T):T=t[12];let D;t[13]===n?D=t[14]:(D=(0,I.jsx)(j,{variant:`ghost`,size:`icon`,onClick:n,children:T}),t[13]=n,t[14]=D);let O;t[15]!==S||t[16]!==D?(O=(0,I.jsxs)(`div`,{className:S,children:[C,D]}),t[15]=S,t[16]=D,t[17]=O):O=t[17];let k;t[18]===d?k=t[19]:(k=()=>d(`Notifications`),t[18]=d,t[19]=k);let A,te;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(A=(0,I.jsx)(w,{size:20}),te=(0,I.jsx)(`span`,{children:`Notifications and Sounds`}),t[20]=A,t[21]=te):(A=t[20],te=t[21]);let M;t[22]===k?M=t[23]:(M=(0,I.jsxs)(j,{variant:`ghost`,onClick:k,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[A,te]}),t[22]=k,t[23]=M);let N;t[24]===d?N=t[25]:(N=()=>d(`Privacy`),t[24]=d,t[25]=N);let re,P;t[26]===Symbol.for(`react.memo_cache_sentinel`)?(re=(0,I.jsx)(x,{size:20}),P=(0,I.jsx)(`span`,{children:`Privacy and Security`}),t[26]=re,t[27]=P):(re=t[26],P=t[27]);let F;t[28]===N?F=t[29]:(F=(0,I.jsxs)(j,{variant:`ghost`,onClick:N,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[re,P]}),t[28]=N,t[29]=F);let L;t[30]===d?L=t[31]:(L=()=>d(`Account`),t[30]=d,t[31]=L);let R,z;t[32]===Symbol.for(`react.memo_cache_sentinel`)?(R=(0,I.jsx)(s,{size:20}),z=(0,I.jsx)(`span`,{children:`Account Center`}),t[32]=R,t[33]=z):(R=t[32],z=t[33]);let B;t[34]===L?B=t[35]:(B=(0,I.jsxs)(j,{variant:`ghost`,onClick:L,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[R,z]}),t[34]=L,t[35]=B);let V,H;t[36]===Symbol.for(`react.memo_cache_sentinel`)?(V=(0,I.jsx)(E,{size:20}),H=(0,I.jsx)(`span`,{children:`Log Out`}),t[36]=V,t[37]=H):(V=t[36],H=t[37]);let U;t[38]===l?U=t[39]:(U=(0,I.jsxs)(j,{variant:`ghost`,onClick:l,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none text-red-500 hover:text-red-600 hover:bg-red-500/10`,children:[V,H]}),t[38]=l,t[39]=U);let W;t[40]!==O||t[41]!==M||t[42]!==F||t[43]!==B||t[44]!==U?(W=(0,I.jsxs)(`div`,{className:`flex flex-col`,children:[O,M,F,B,U]}),t[40]=O,t[41]=M,t[42]=F,t[43]=B,t[44]=U,t[45]=W):W=t[45];let G;t[46]!==W||t[47]!==b?(G=(0,I.jsx)(m.div,{initial:_,animate:v,exit:y,className:b,onClick:ue,children:W}),t[46]=W,t[47]=b,t[48]=G):G=t[48];let K;return t[49]!==n||t[50]!==G?(K=(0,I.jsx)(m.div,{initial:f,animate:h,exit:g,className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4`,onClick:n,children:G}),t[49]=n,t[50]=G,t[51]=K):K=t[51],K};function ue(e){return e.stopPropagation()}var de=o(),fe=e=>{let t=(0,de.c)(26),{onClose:n}=e,{theme:r}=ne(),i=r===`dark`?`bg-[#121212]/90 backdrop-blur-2xl border border-white/10`:`bg-white/90 backdrop-blur-2xl border border-black/10`,a,o,s;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(a={opacity:0},o={opacity:1},s={opacity:0},t[0]=a,t[1]=o,t[2]=s):(a=t[0],o=t[1],s=t[2]);let c,l,u;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(c={scale:.9,opacity:0},l={scale:1,opacity:1},u={scale:.9,opacity:0},t[3]=c,t[4]=l,t[5]=u):(c=t[3],l=t[4],u=t[5]);let d=`w-full max-w-sm rounded-xl overflow-hidden shadow-2xl ${i} ${r===`dark`?`text-white`:`text-black`}`,h=`p-4 border-b font-bold flex justify-between items-center ${r===`dark`?`border-zinc-800`:`border-zinc-200`}`,g;t[6]===Symbol.for(`react.memo_cache_sentinel`)?(g=(0,I.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,I.jsx)(`span`,{children:`Archive`}),(0,I.jsx)(f,{size:16,className:`opacity-50`})]}),t[6]=g):g=t[6];let _;t[7]===n?_=t[8]:(_=(0,I.jsx)(p,{className:`cursor-pointer`,onClick:n}),t[7]=n,t[8]=_);let v;t[9]!==_||t[10]!==h?(v=(0,I.jsxs)(`div`,{className:h,children:[g,_]}),t[9]=_,t[10]=h,t[11]=v):v=t[11];let y=`p-4 rounded-full mb-4 ${r===`dark`?`bg-zinc-800`:`bg-gray-100`}`,b;t[12]===Symbol.for(`react.memo_cache_sentinel`)?(b=(0,I.jsx)(f,{size:32}),t[12]=b):b=t[12];let x;t[13]===y?x=t[14]:(x=(0,I.jsx)(`div`,{className:y,children:b}),t[13]=y,t[14]=x);let S,C;t[15]===Symbol.for(`react.memo_cache_sentinel`)?(S=(0,I.jsx)(`h3`,{className:`font-bold text-lg mb-1`,children:`Archive is empty`}),C=(0,I.jsx)(`p`,{className:`text-sm`,children:`When you archive posts or stories, they will appear here.`}),t[15]=S,t[16]=C):(S=t[15],C=t[16]);let w;t[17]===x?w=t[18]:(w=(0,I.jsxs)(`div`,{className:`h-64 flex flex-col items-center justify-center p-6 text-center opacity-70`,children:[x,S,C]}),t[17]=x,t[18]=w);let T;t[19]!==v||t[20]!==w||t[21]!==d?(T=(0,I.jsxs)(m.div,{initial:c,animate:l,exit:u,className:d,onClick:pe,children:[v,w]}),t[19]=v,t[20]=w,t[21]=d,t[22]=T):T=t[22];let E;return t[23]!==n||t[24]!==T?(E=(0,I.jsx)(m.div,{initial:a,animate:o,exit:s,className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4`,onClick:n,children:T}),t[23]=n,t[24]=T,t[25]=E):E=t[25],E};function pe(e){return e.stopPropagation()}var me=o(),he=()=>{let e=(0,me.c)(193),{currentUser:t,theme:r,setViewingPost:o,setEditProfileOpen:s,addStory:l,setCreateModalOpen:f}=ne(),{username:p}=y(),m=_(),{user:x}=ee(),w=!p||p===x?.user_metadata?.username,[E,D]=(0,F.useState)(`posts`),[P,R]=(0,F.useState)(null),[z,V]=(0,F.useState)(!1),[H,U]=(0,F.useState)(!1),{data:G,isLoading:K,isError:ie}=te(p||x?.user_metadata?.username||t.username,x?.id),{mutate:ae}=re(),{data:se,isLoading:ce}=B(G?.user?.id||``,P),ue;e[0]===se?ue=e[1]:(ue=se===void 0?[]:se,e[0]=se,e[1]=ue);let de=ue,{data:pe}=W(w?x?.id:void 0),he;e[2]===pe?he=e[3]:(he=pe===void 0?[]:pe,e[2]=pe,e[3]=he);let _e=he,{data:ve}=oe(G?.user?.id),ye;e[4]===ve?ye=e[5]:(ye=ve===void 0?[]:ve,e[4]=ve,e[5]=ye);let be=ye,q=G?.user,xe;e[6]===G?.posts?xe=e[7]:(xe=G?.posts||[],e[6]=G?.posts,e[7]=xe);let Se=xe,J=q?.isFollowing||!1,Ce;e[8]!==w||e[9]!==q?(Ce=()=>{q?.id&&!w&&O.rpc(`track_user_interaction`,{target_user_id:q.id,interaction_type:`visit`}).then(ge)},e[8]=w,e[9]=q,e[10]=Ce):Ce=e[10];let we=q?.id,Te;e[11]!==w||e[12]!==we?(Te=[we,w],e[11]=w,e[12]=we,e[13]=Te):Te=e[13],F.useEffect(Ce,Te);let Ee=r===`dark`?`border-zinc-800`:`border-zinc-200`,Y=r===`dark`?`text-[#a8a8a8]`:`text-zinc-500`,De=E===`saved`?_e:E===`tagged`?be:Se,Oe;e[14]===Symbol.for(`react.memo_cache_sentinel`)?(Oe=e=>R(e),e[14]=Oe):Oe=e[14];let ke=Oe,Ae;e[15]===Symbol.for(`react.memo_cache_sentinel`)?(Ae=()=>R(null),e[15]=Ae):Ae=e[15];let je=Ae,Me;e[16]===m?Me=e[17]:(Me=e=>{m(`/profile/${e.username}`)},e[16]=m,e[17]=Me);let Ne=Me,Pe;e[18]!==x||e[19]!==G?.user?.id||e[20]!==ae||e[21]!==q||e[22]!==J?(Pe=()=>{!q?.username||!x?.id||!q.id||ae({targetUserId:G?.user?.id||``,currentUserId:x.id,isFollowing:J,targetUsername:q.username})},e[18]=x,e[19]=G?.user?.id,e[20]=ae,e[21]=q,e[22]=J,e[23]=Pe):Pe=e[23];let Fe=Pe,Ie;e[24]===l?Ie=e[25]:(Ie=e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],n=new FileReader;n.onload=e=>{l(e.target?.result)},n.readAsDataURL(t)}},e[24]=l,e[25]=Ie);let Le=Ie;if(K){let t;return e[26]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,I.jsx)(`div`,{className:`flex justify-center p-10`,children:`Loading...`}),e[26]=t):t=e[26],t}if(ie||!q){let t;return e[27]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,I.jsx)(`div`,{className:`flex justify-center p-10`,children:`Profile not found`}),e[27]=t):t=e[27],t}let X;e[28]!==de||e[29]!==ce||e[30]!==P||e[31]!==Ne||e[32]!==r?(X=P&&(0,I.jsx)(L,{title:P===`followers`?`Followers`:`Following`,users:de,loading:ce,onClose:je,theme:r,onUserClick:e=>{Ne(e),je()},glassModal:r===`dark`?`bg-[#121212]/90 backdrop-blur-2xl border border-white/10`:`bg-white/90 backdrop-blur-2xl border border-black/10`}),e[28]=de,e[29]=ce,e[30]=P,e[31]=Ne,e[32]=r,e[33]=X):X=e[33];let Z;e[34]===z?Z=e[35]:(Z=z&&(0,I.jsx)(le,{onClose:()=>V(!1)}),e[34]=z,e[35]=Z);let Q;e[36]===H?Q=e[37]:(Q=H&&(0,I.jsx)(fe,{onClose:()=>U(!1)}),e[36]=H,e[37]=Q);let Re=`md:hidden sticky top-0 z-10 border-b ${Ee} px-4 h-[44px] flex items-center justify-between ${r===`dark`?`bg-black/90 backdrop-blur-md`:`bg-white/90 backdrop-blur-md`}`,$;e[38]!==w||e[39]!==m?($=!w&&(0,I.jsx)(g,{size:24,onClick:()=>m(-1),className:`cursor-pointer mr-2`}),e[38]=w,e[39]=m,e[40]=$):$=e[40];let ze;e[41]===q.isVerified?ze=e[42]:(ze=q.isVerified&&(0,I.jsx)(A,{}),e[41]=q.isVerified,e[42]=ze);let Be;e[43]===w?Be=e[44]:(Be=w&&(0,I.jsx)(i,{size:16}),e[43]=w,e[44]=Be);let Ve;e[45]!==q.username||e[46]!==$||e[47]!==ze||e[48]!==Be?(Ve=(0,I.jsxs)(`div`,{className:`flex items-center gap-1 font-bold text-lg`,children:[$,q.username,ze,Be]}),e[45]=q.username,e[46]=$,e[47]=ze,e[48]=Be,e[49]=Ve):Ve=e[49];let He;e[50]!==w||e[51]!==f?(He=(0,I.jsx)(c,{size:24,onClick:()=>{w&&f(!0)}}),e[50]=w,e[51]=f,e[52]=He):He=e[52];let Ue;e[53]===Symbol.for(`react.memo_cache_sentinel`)?(Ue=(0,I.jsx)(b,{size:24}),e[53]=Ue):Ue=e[53];let We;e[54]===He?We=e[55]:(We=(0,I.jsxs)(`div`,{className:`flex gap-6`,children:[He,Ue]}),e[54]=He,e[55]=We);let Ge;e[56]!==Re||e[57]!==Ve||e[58]!==We?(Ge=(0,I.jsxs)(`div`,{className:Re,children:[Ve,We]}),e[56]=Re,e[57]=Ve,e[58]=We,e[59]=Ge):Ge=e[59];let Ke;e[60]===q.avatar?Ke=e[61]:(Ke=(0,I.jsx)(M,{src:q.avatar}),e[60]=q.avatar,e[61]=Ke);let qe;e[62]===q.username[0]?qe=e[63]:(qe=q.username[0].toUpperCase(),e[62]=q.username[0],e[63]=qe);let Je;e[64]===qe?Je=e[65]:(Je=(0,I.jsx)(k,{className:`text-2xl`,children:qe}),e[64]=qe,e[65]=Je);let Ye;e[66]!==Ke||e[67]!==Je?(Ye=(0,I.jsxs)(N,{className:`w-[77px] h-[77px] md:w-[150px] md:h-[150px] border border-zinc-800 cursor-pointer`,children:[Ke,Je]}),e[66]=Ke,e[67]=Je,e[68]=Ye):Ye=e[68];let Xe;e[69]!==Le||e[70]!==w?(Xe=w&&(0,I.jsxs)(`label`,{className:`absolute bottom-0 right-10 md:right-16 bg-[#0095f6] rounded-full p-1 border-2 border-black cursor-pointer`,children:[(0,I.jsx)(v,{size:16,className:`text-white`}),(0,I.jsx)(`input`,{type:`file`,className:`hidden`,accept:`image/*`,onChange:Le})]}),e[69]=Le,e[70]=w,e[71]=Xe):Xe=e[71];let Ze;e[72]!==Ye||e[73]!==Xe?(Ze=(0,I.jsxs)(`div`,{className:`flex-shrink-0 md:w-[290px] flex justify-start md:justify-center relative`,children:[Ye,Xe]}),e[72]=Ye,e[73]=Xe,e[74]=Ze):Ze=e[74];let Qe=q.stats?.posts||0,$e;e[75]===Qe?$e=e[76]:($e=(0,I.jsx)(`span`,{className:`font-semibold text-lg`,children:Qe}),e[75]=Qe,e[76]=$e);let et=`text-sm ${Y}`,tt;e[77]===et?tt=e[78]:(tt=(0,I.jsx)(`span`,{className:et,children:`posts`}),e[77]=et,e[78]=tt);let nt;e[79]!==$e||e[80]!==tt?(nt=(0,I.jsxs)(`div`,{className:`flex flex-col`,children:[$e,tt]}),e[79]=$e,e[80]=tt,e[81]=nt):nt=e[81];let rt;e[82]===Symbol.for(`react.memo_cache_sentinel`)?(rt=()=>ke(`followers`),e[82]=rt):rt=e[82];let it=q.stats?.followers||0,at;e[83]===it?at=e[84]:(at=(0,I.jsx)(`span`,{className:`font-semibold text-lg`,children:it}),e[83]=it,e[84]=at);let ot=`text-sm ${Y}`,st;e[85]===ot?st=e[86]:(st=(0,I.jsx)(`span`,{className:ot,children:`followers`}),e[85]=ot,e[86]=st);let ct;e[87]!==at||e[88]!==st?(ct=(0,I.jsxs)(`div`,{className:`flex flex-col cursor-pointer`,onClick:rt,children:[at,st]}),e[87]=at,e[88]=st,e[89]=ct):ct=e[89];let lt;e[90]===Symbol.for(`react.memo_cache_sentinel`)?(lt=()=>ke(`following`),e[90]=lt):lt=e[90];let ut=q.stats?.following||0,dt;e[91]===ut?dt=e[92]:(dt=(0,I.jsx)(`span`,{className:`font-semibold text-lg`,children:ut}),e[91]=ut,e[92]=dt);let ft=`text-sm ${Y}`,pt;e[93]===ft?pt=e[94]:(pt=(0,I.jsx)(`span`,{className:ft,children:`following`}),e[93]=ft,e[94]=pt);let mt;e[95]!==dt||e[96]!==pt?(mt=(0,I.jsxs)(`div`,{className:`flex flex-col cursor-pointer`,onClick:lt,children:[dt,pt]}),e[95]=dt,e[96]=pt,e[97]=mt):mt=e[97];let ht;e[98]!==nt||e[99]!==ct||e[100]!==mt?(ht=(0,I.jsxs)(`div`,{className:`flex md:hidden justify-around flex-grow text-center`,children:[nt,ct,mt]}),e[98]=nt,e[99]=ct,e[100]=mt,e[101]=ht):ht=e[101];let gt;e[102]!==Ze||e[103]!==ht?(gt=(0,I.jsxs)(`div`,{className:`flex flex-row md:flex-col items-center gap-8 md:gap-0 w-full md:w-auto`,children:[Ze,ht]}),e[102]=Ze,e[103]=ht,e[104]=gt):gt=e[104];let _t;e[105]===q.isVerified?_t=e[106]:(_t=q.isVerified&&(0,I.jsx)(A,{}),e[105]=q.isVerified,e[106]=_t);let vt;e[107]!==q.username||e[108]!==_t?(vt=(0,I.jsxs)(`h2`,{className:`text-xl font-normal mr-2 hidden md:flex items-center gap-1`,children:[q.username,_t]}),e[107]=q.username,e[108]=_t,e[109]=vt):vt=e[109];let yt;e[110]!==Fe||e[111]!==w||e[112]!==m||e[113]!==q||e[114]!==s||e[115]!==J?(yt=(0,I.jsx)(`div`,{className:`flex gap-2 w-full md:w-auto`,children:w?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(j,{variant:`secondary`,onClick:()=>s(!0),className:`text-sm font-semibold h-8`,children:`Edit profile`}),(0,I.jsx)(j,{variant:`secondary`,onClick:()=>U(!0),className:`text-sm font-semibold h-8`,children:`View Archive`})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(j,{onClick:Fe,className:`${J?`bg-secondary text-secondary-foreground hover:bg-secondary/80`:`bg-[#006a4e] text-white hover:bg-[#00523c]`} text-sm font-semibold h-8`,variant:J?`secondary`:`default`,children:J?`Following`:`Follow`}),(0,I.jsx)(j,{variant:`secondary`,onClick:()=>m(`/messages/${q.username}`,{state:{user:q}}),className:`text-sm font-semibold h-8`,children:`Message`})]})}),e[110]=Fe,e[111]=w,e[112]=m,e[113]=q,e[114]=s,e[115]=J,e[116]=yt):yt=e[116];let bt;e[117]!==w||e[118]!==r?(bt=w&&(0,I.jsx)(j,{variant:`ghost`,size:`icon`,onClick:()=>V(!0),className:`hidden md:flex ${r===`dark`?`text-white`:`text-black`}`,children:(0,I.jsx)(u,{size:24})}),e[117]=w,e[118]=r,e[119]=bt):bt=e[119];let xt;e[120]!==vt||e[121]!==yt||e[122]!==bt?(xt=(0,I.jsxs)(`div`,{className:`flex flex-col md:flex-row items-start md:items-center gap-4`,children:[vt,yt,bt]}),e[120]=vt,e[121]=yt,e[122]=bt,e[123]=xt):xt=e[123];let St=q.stats?.posts||0,Ct;e[124]===St?Ct=e[125]:(Ct=(0,I.jsxs)(`span`,{children:[(0,I.jsx)(`span`,{className:`font-semibold`,children:St}),` `,`Posts`]}),e[124]=St,e[125]=Ct);let wt;e[126]===Symbol.for(`react.memo_cache_sentinel`)?(wt=()=>ke(`followers`),e[126]=wt):wt=e[126];let Tt=q.stats?.followers||0,Et;e[127]===Tt?Et=e[128]:(Et=(0,I.jsxs)(`span`,{className:`cursor-pointer`,onClick:wt,children:[(0,I.jsx)(`span`,{className:`font-semibold`,children:Tt}),` `,`Followers`]}),e[127]=Tt,e[128]=Et);let Dt;e[129]===Symbol.for(`react.memo_cache_sentinel`)?(Dt=()=>ke(`following`),e[129]=Dt):Dt=e[129];let Ot=q.stats?.following||0,kt;e[130]===Ot?kt=e[131]:(kt=(0,I.jsxs)(`span`,{className:`cursor-pointer`,onClick:Dt,children:[(0,I.jsx)(`span`,{className:`font-semibold`,children:Ot}),` `,`Following`]}),e[130]=Ot,e[131]=kt);let At;e[132]!==Ct||e[133]!==Et||e[134]!==kt?(At=(0,I.jsxs)(`div`,{className:`hidden md:flex gap-10 text-base`,children:[Ct,Et,kt]}),e[132]=Ct,e[133]=Et,e[134]=kt,e[135]=At):At=e[135];let jt;e[136]===q.name?jt=e[137]:(jt=(0,I.jsx)(`div`,{className:`font-semibold`,children:q.name}),e[136]=q.name,e[137]=jt);let Mt;e[138]===Symbol.for(`react.memo_cache_sentinel`)?(Mt=(0,I.jsx)(n,{size:10}),e[138]=Mt):Mt=e[138];let Nt;e[139]===Symbol.for(`react.memo_cache_sentinel`)?(Nt=(0,I.jsxs)(`div`,{className:`flex items-center gap-1 bg-[#262626] w-fit px-2 py-1 rounded-full text-xs text-[#a8a8a8] mt-1 mb-2 cursor-pointer hover:bg-[#363636]`,children:[Mt,` `,(0,I.jsx)(`span`,{children:`Threads`})]}),e[139]=Nt):Nt=e[139];let Pt=q.bio||``,Ft;e[140]===Pt?Ft=e[141]:(Ft=(0,I.jsx)(`div`,{className:`whitespace-pre-wrap`,children:Pt}),e[140]=Pt,e[141]=Ft);let It;e[142]!==jt||e[143]!==Ft?(It=(0,I.jsxs)(`div`,{className:`text-sm px-1 md:px-0`,children:[jt,Nt,Ft]}),e[142]=jt,e[143]=Ft,e[144]=It):It=e[144];let Lt;e[145]!==xt||e[146]!==At||e[147]!==It?(Lt=(0,I.jsxs)(`div`,{className:`flex-grow flex flex-col gap-4 w-full`,children:[xt,At,It]}),e[145]=xt,e[146]=At,e[147]=It,e[148]=Lt):Lt=e[148];let Rt;e[149]!==gt||e[150]!==Lt?(Rt=(0,I.jsxs)(`header`,{className:`flex flex-col md:flex-row gap-6 md:gap-12 mb-4 md:mb-10 items-start md:items-stretch px-4 md:px-0 pt-4 md:pt-0`,children:[gt,Lt]}),e[149]=gt,e[150]=Lt,e[151]=Rt):Rt=e[151];let zt;e[152]!==Ee||e[153]!==w||e[154]!==r?(zt=w&&(0,I.jsx)(`div`,{className:`mb-10 flex gap-4 overflow-x-auto pb-2 scrollbar-hide px-4 md:px-0`,children:(0,I.jsxs)(`div`,{className:`flex flex-col items-center gap-2 cursor-pointer group`,children:[(0,I.jsx)(`div`,{className:`w-[64px] h-[64px] md:w-[77px] md:h-[77px] rounded-full border ${Ee} ${r===`dark`?`bg-black`:`bg-white`} flex items-center justify-center group-hover:bg-zinc-900 transition-colors`,children:(0,I.jsx)(`div`,{className:`w-[60px] h-[60px] md:w-[74px] md:h-[74px] rounded-full border-[2px] border-inherit flex items-center justify-center`,children:(0,I.jsx)(c,{size:24,strokeWidth:1,className:`text-zinc-400 md:w-8 md:h-8`})})}),(0,I.jsx)(`span`,{className:`text-xs font-semibold`,children:`New`})]})}),e[152]=Ee,e[153]=w,e[154]=r,e[155]=zt):zt=e[155];let Bt=`border-t ${Ee}`,Vt;e[156]===Symbol.for(`react.memo_cache_sentinel`)?(Vt=()=>D(`posts`),e[156]=Vt):Vt=e[156];let Ht=`flex items-center justify-center gap-2 h-[44px] md:h-[52px] border-t-2 md:border-t flex-1 md:flex-none text-xs font-semibold tracking-widest transition-colors ${E===`posts`?r===`dark`?`border-white text-white`:`border-black text-black`:`border-transparent text-[#a8a8a8]`}`,Ut,Wt;e[157]===Symbol.for(`react.memo_cache_sentinel`)?(Ut=(0,I.jsx)(S,{size:12,className:`md:size-3 size-6`}),Wt=(0,I.jsx)(`span`,{className:`hidden md:block`,children:`Posts`}),e[157]=Ut,e[158]=Wt):(Ut=e[157],Wt=e[158]);let Gt;e[159]===Ht?Gt=e[160]:(Gt=(0,I.jsxs)(`button`,{onClick:Vt,className:Ht,children:[Ut,Wt]}),e[159]=Ht,e[160]=Gt);let Kt;e[161]!==E||e[162]!==w||e[163]!==r?(Kt=w&&(0,I.jsxs)(`button`,{onClick:()=>D(`saved`),className:`flex items-center justify-center gap-2 h-[44px] md:h-[52px] border-t-2 md:border-t flex-1 md:flex-none text-xs font-semibold tracking-widest transition-colors ${E===`saved`?r===`dark`?`border-white text-white`:`border-black text-black`:`border-transparent text-[#a8a8a8]`}`,children:[(0,I.jsx)(h,{size:12,className:`md:size-3 size-6`}),(0,I.jsx)(`span`,{className:`hidden md:block`,children:`Saved`})]}),e[161]=E,e[162]=w,e[163]=r,e[164]=Kt):Kt=e[164];let qt;e[165]===Symbol.for(`react.memo_cache_sentinel`)?(qt=()=>D(`tagged`),e[165]=qt):qt=e[165];let Jt=`flex items-center justify-center gap-2 h-[44px] md:h-[52px] border-t-2 md:border-t flex-1 md:flex-none text-xs font-semibold tracking-widest transition-colors ${E===`tagged`?r===`dark`?`border-white text-white`:`border-black text-black`:`border-transparent text-[#a8a8a8]`}`,Yt,Xt;e[166]===Symbol.for(`react.memo_cache_sentinel`)?(Yt=(0,I.jsx)(d,{size:12,className:`md:size-3 size-6`}),Xt=(0,I.jsx)(`span`,{className:`hidden md:block`,children:`Tagged`}),e[166]=Yt,e[167]=Xt):(Yt=e[166],Xt=e[167]);let Zt;e[168]===Jt?Zt=e[169]:(Zt=(0,I.jsxs)(`button`,{onClick:qt,className:Jt,children:[Yt,Xt]}),e[168]=Jt,e[169]=Zt);let Qt;e[170]!==Gt||e[171]!==Kt||e[172]!==Zt?(Qt=(0,I.jsxs)(`div`,{className:`flex justify-around md:justify-center gap-0 md:gap-12`,children:[Gt,Kt,Zt]}),e[170]=Gt,e[171]=Kt,e[172]=Zt,e[173]=Qt):Qt=e[173];let $t;e[174]!==Bt||e[175]!==Qt?($t=(0,I.jsx)(`div`,{className:Bt,children:Qt}),e[174]=Bt,e[175]=Qt,e[176]=$t):$t=e[176];let en;e[177]!==E||e[178]!==De||e[179]!==w||e[180]!==o||e[181]!==Y||e[182]!==r?(en=De.length>0?(0,I.jsx)(`div`,{className:`grid grid-cols-3 gap-1 md:gap-8`,children:De.map(e=>(0,I.jsxs)(`div`,{className:`relative aspect-square group cursor-pointer overflow-hidden`,onClick:()=>o(e),children:[(0,I.jsx)(`img`,{src:e.content.src||e.content.poster,className:`w-full h-full object-cover transition-transform duration-300 group-hover:scale-110`,alt:`post grid`,loading:`lazy`}),(0,I.jsxs)(`div`,{className:`absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-6 text-white font-bold z-20`,children:[(0,I.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,I.jsx)(T,{fill:`white`,size:20}),` `,e.likes]}),(0,I.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,I.jsx)(C,{fill:`white`,size:20,className:`-scale-x-100`}),` `,e.comments]})]})]},e.id))}):(0,I.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-20 text-center`,children:[w&&(0,I.jsx)(`div`,{className:`w-16 h-16 rounded-full border-2 flex items-center justify-center mb-4 ${r===`dark`?`border-white`:`border-black`}`,children:(0,I.jsx)(a,{size:34,strokeWidth:1})}),(0,I.jsx)(`h2`,{className:`text-xl font-bold mb-2 text-[#a8a8a8]`,children:E===`saved`?`No saved posts`:`Nothing yet`}),w&&E===`posts`&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(`p`,{className:`text-sm ${Y} mb-4`,children:`When you share photos, they will appear here.`}),(0,I.jsx)(j,{className:`bg-[#006a4e] text-white hover:bg-[#00523c] font-semibold text-sm h-9`,children:`Share your first photo`})]})]}),e[177]=E,e[178]=De,e[179]=w,e[180]=o,e[181]=Y,e[182]=r,e[183]=en):en=e[183];let tn;return e[184]!==X||e[185]!==Z||e[186]!==Q||e[187]!==Ge||e[188]!==Rt||e[189]!==zt||e[190]!==$t||e[191]!==en?(tn=(0,I.jsxs)(`div`,{className:`w-full max-w-[935px] px-0 md:px-5 py-0 md:py-[30px]`,children:[X,Z,Q,Ge,Rt,zt,$t,en]}),e[184]=X,e[185]=Z,e[186]=Q,e[187]=Ge,e[188]=Rt,e[189]=zt,e[190]=$t,e[191]=en,e[192]=tn):tn=e[192],tn};function ge(e){let{error:t}=e;t&&console.error(`Tracking error`,t)}export{he as default};