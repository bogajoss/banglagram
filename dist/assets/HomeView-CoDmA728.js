import{a as e}from"./rolldown-runtime-DDUpfMIz.js";import{Jt as t,Kt as n,Tt as ee,fn as r,ht as te,it as ne,ln as re,m as ie,tn as i}from"./vendor-DrLGO_UJ.js";import{gr as a,hr as ae,k as oe}from"./libs-CiQH4q1H.js";import"./supabase-CCh8m61e.js";import{S as o,T as se,_ as ce,a as le,b as ue,f as de,w as fe,x as pe,y as me}from"./index-DYy0HzK1.js";import"./ShareModal-DNzvMFFt.js";import{t as he}from"./useGetSuggestedUsers-DUlc0jCn.js";import{t as ge}from"./PostItem-D9qfu0vh.js";import{t as _e}from"./useFollowUser-I72NBQLu.js";var ve=t(),ye=e(r(),1),s=e(a(),1),c=e(ae(),1);oe();var l=e(i(),1);s.default.extend(c.default),s.default.locale(`bn`);var u=()=>{let e=(0,ve.c)(115),{currentUser:t,theme:r,showToast:i,setViewingStory:a,setViewingPost:ae,setCreateModalOpen:oe}=se(),{user:s}=fe(),c=re(),u;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(u={rootMargin:`1000px`},e[0]=u):u=e[0];let{ref:Se,inView:Ce}=ie(u),{data:we,isLoading:Te,isError:Ee,fetchNextPage:d,hasNextPage:f,isFetchingNextPage:De}=ce(s?.id),{data:Oe}=de(s?.id),ke=Oe===void 0?[]:Oe,p=ke.filter(be),Ae=ke.filter(xe),{data:je}=he(s?.id),Me=je===void 0?[]:je,{mutate:Ne}=_e(),{mutate:Pe}=le(),m,h;e[1]!==d||e[2]!==f||e[3]!==Ce?(m=()=>{Ce&&f&&d()},h=[Ce,f,d],e[1]=d,e[2]=f,e[3]=Ce,e[4]=m,e[5]=h):(m=e[4],h=e[5]),(0,ye.useEffect)(m,h);let Fe=r===`dark`?`border-zinc-800`:`border-zinc-200`,g=r===`dark`?`text-[#a8a8a8]`:`text-zinc-500`,_;e[6]===c?_=e[7]:(_=e=>{c(`/profile/${e.username}`)},e[6]=c,e[7]=_);let v=_,Ie=()=>{p.length>0?a(p[0].id):oe(!0)},y;e[8]===Symbol.for(`react.memo_cache_sentinel`)?(y={opacity:0},e[8]=y):y=e[8];let b;e[9]===Symbol.for(`react.memo_cache_sentinel`)?(b={hidden:y,visible:{opacity:1,transition:{staggerChildren:.1}}},e[9]=b):b=e[9];let x=b,S;e[10]===Symbol.for(`react.memo_cache_sentinel`)?(S={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},e[10]=S):S=e[10];let Le=S;if(Te){let t;return e[11]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,l.jsxs)(`div`,{className:`w-full max-w-[630px] pt-10 flex flex-col items-center`,children:[(0,l.jsx)(`div`,{className:`w-full h-96 bg-gray-200 dark:bg-gray-800 animate-pulse rounded-md mb-4`}),(0,l.jsx)(`div`,{className:`w-full h-96 bg-gray-200 dark:bg-gray-800 animate-pulse rounded-md`})]}),e[11]=t):t=e[11],t}if(Ee){let t;return e[12]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,l.jsx)(`div`,{className:`p-4 text-center`,children:`Error loading feed. Please try again.`}),e[12]=t):t=e[12],t}let Re=`md:hidden sticky top-0 z-10 border-b ${Fe} px-4 h-[60px] flex items-center justify-between ${r===`dark`?`bg-black`:`bg-white`}`,C;e[13]===Symbol.for(`react.memo_cache_sentinel`)?(C=(0,l.jsx)(`h1`,{className:`text-2xl font-bold tracking-tight text-[#006a4e]`,children:`SysMed`}),e[13]=C):C=e[13];let w;e[14]===Symbol.for(`react.memo_cache_sentinel`)?(w={scale:.9},e[14]=w):w=e[14];let T;e[15]===i?T=e[16]:(T=(0,l.jsx)(n.div,{whileTap:w,children:(0,l.jsx)(ee,{size:24,onClick:()=>i(`নোটিফিকেশন`)})}),e[15]=i,e[16]=T);let E;e[17]===c?E=e[18]:(E=()=>c(`/messages`),e[17]=c,e[18]=E);let D,O,k;e[19]===Symbol.for(`react.memo_cache_sentinel`)?(D={scale:.9},O=(0,l.jsx)(te,{size:24}),k=(0,l.jsx)(`div`,{className:`absolute -top-1 -right-1 bg-[#f42a41] text-[10px] w-4 h-4 rounded-full flex items-center justify-center font-bold text-white`,children:`1`}),e[19]=D,e[20]=O,e[21]=k):(D=e[19],O=e[20],k=e[21]);let A;e[22]===E?A=e[23]:(A=(0,l.jsxs)(n.div,{className:`relative`,onClick:E,whileTap:D,children:[O,k]}),e[22]=E,e[23]=A);let j;e[24]!==T||e[25]!==A?(j=(0,l.jsxs)(`div`,{className:`flex items-center gap-5`,children:[T,A]}),e[24]=T,e[25]=A,e[26]=j):j=e[26];let M;e[27]!==j||e[28]!==Re?(M=(0,l.jsxs)(`div`,{className:Re,children:[C,j]}),e[27]=j,e[28]=Re,e[29]=M):M=e[29];let N;e[30]===Symbol.for(`react.memo_cache_sentinel`)?(N={y:-5},e[30]=N):N=e[30];let ze=`w-[66px] h-[66px] rounded-full p-[2px] ${p.length>0?`bg-gradient-to-tr from-[#006a4e] to-[#004d39]`:`border border-zinc-500`} group-hover:scale-105 transition-transform duration-200 relative`,Be=`w-full h-full rounded-full p-[2px] ${r===`dark`?`bg-black`:`bg-white`}`,P;e[31]===t.avatar?P=e[32]:(P=(0,l.jsx)(o,{src:t.avatar}),e[31]=t.avatar,e[32]=P);let F;e[33]===t.username?.[0]?F=e[34]:(F=t.username?.[0]?.toUpperCase()||`?`,e[33]=t.username?.[0],e[34]=F);let I;e[35]===F?I=e[36]:(I=(0,l.jsx)(pe,{children:F}),e[35]=F,e[36]=I);let L;e[37]!==P||e[38]!==I?(L=(0,l.jsxs)(ue,{className:`w-full h-full`,children:[P,I]}),e[37]=P,e[38]=I,e[39]=L):L=e[39];let R;e[40]!==Be||e[41]!==L?(R=(0,l.jsx)(`div`,{className:Be,children:L}),e[40]=Be,e[41]=L,e[42]=R):R=e[42];let Ve=p.length===0&&(0,l.jsx)(`div`,{className:`absolute bottom-0 right-0 bg-[#0095f6] border-2 border-white dark:border-black rounded-full p-0.5 text-white`,children:(0,l.jsx)(ne,{size:14,strokeWidth:4})}),He;e[43]!==ze||e[44]!==R||e[45]!==Ve?(He=(0,l.jsxs)(`div`,{className:ze,children:[R,Ve]}),e[43]=ze,e[44]=R,e[45]=Ve,e[46]=He):He=e[46];let Ue=`text-xs truncate w-full text-center ${r===`dark`?`text-[#a8a8a8]`:`text-zinc-500`}`,We;e[47]===Ue?We=e[48]:(We=(0,l.jsx)(`span`,{className:Ue,children:`আপনার স্টোরি`}),e[47]=Ue,e[48]=We);let Ge;e[49]!==a||e[50]!==r?(Ge=e=>(0,l.jsxs)(n.div,{variants:Le,whileHover:{y:-5},className:`flex flex-col items-center gap-1 cursor-pointer flex-shrink-0 w-[66px] group`,onClick:()=>a(e.id),children:[(0,l.jsxs)(`div`,{className:`w-[66px] h-[66px] rounded-full p-[2px] bg-gradient-to-tr from-[#006a4e] to-[#004d39] group-hover:scale-105 transition-transform duration-200`,children:[(0,l.jsx)(`div`,{className:`w-full h-full rounded-full p-[2px] ${r===`dark`?`bg-black`:`bg-white`}`,children:(0,l.jsxs)(ue,{className:`w-full h-full`,children:[(0,l.jsx)(o,{src:e.userAvatar||e.img}),(0,l.jsx)(pe,{children:e.username?.[0]?.toUpperCase()||`?`})]})}),`              `]}),(0,l.jsx)(`span`,{className:`text-xs truncate w-full text-center ${r===`dark`?`text-[#f5f5f5]`:`text-black`}`,children:e.username})]},e.id),e[49]=a,e[50]=r,e[51]=Ge):Ge=e[51];let z;e[52]!==we?.pages||e[53]!==v||e[54]!==ae||e[55]!==Pe||e[56]!==s?.id?(z=we?.pages.map((e,t)=>(0,l.jsx)(ye.Fragment,{children:e.map(e=>(0,l.jsx)(ge,{post:e,isSaved:!!e.hasSaved,onToggleSave:()=>Pe({postId:e.id,userId:s?.id||``,hasSaved:!!e.hasSaved}),onUserClick:v,onPostClick:ae},e.id))},t)),e[52]=we?.pages,e[53]=v,e[54]=ae,e[55]=Pe,e[56]=s?.id,e[57]=z):z=e[57];let Ke=De?`Loading more...`:f?`Load more`:`No more posts`,B;e[58]!==Se||e[59]!==Ke?(B=(0,l.jsx)(`div`,{ref:Se,className:`h-10 text-center text-gray-500`,children:Ke}),e[58]=Se,e[59]=Ke,e[60]=B):B=e[60];let qe;e[61]!==z||e[62]!==B?(qe=(0,l.jsxs)(`div`,{className:`flex flex-col gap-4 pb-20`,children:[z,B]}),e[61]=z,e[62]=B,e[63]=qe):qe=e[63];let Je,Ye;e[64]===Symbol.for(`react.memo_cache_sentinel`)?(Je={opacity:0,x:20},Ye={opacity:1,x:0},e[64]=Je,e[65]=Ye):(Je=e[64],Ye=e[65]);let V;e[66]===t.avatar?V=e[67]:(V=(0,l.jsx)(o,{src:t.avatar}),e[66]=t.avatar,e[67]=V);let H;e[68]===t.username?.[0]?H=e[69]:(H=t.username?.[0]?.toUpperCase()||`?`,e[68]=t.username?.[0],e[69]=H);let U;e[70]===H?U=e[71]:(U=(0,l.jsx)(pe,{children:H}),e[70]=H,e[71]=U);let W;e[72]!==V||e[73]!==U?(W=(0,l.jsxs)(ue,{className:`w-11 h-11`,children:[V,U]}),e[72]=V,e[73]=U,e[74]=W):W=e[74];let G;e[75]===t.username?G=e[76]:(G=(0,l.jsx)(`div`,{className:`font-semibold`,children:t.username}),e[75]=t.username,e[76]=G);let K;e[77]!==t.name||e[78]!==g?(K=(0,l.jsx)(`div`,{className:g,children:t.name}),e[77]=t.name,e[78]=g,e[79]=K):K=e[79];let q;e[80]!==G||e[81]!==K?(q=(0,l.jsxs)(`div`,{className:`text-sm`,children:[G,K]}),e[80]=G,e[81]=K,e[82]=q):q=e[82];let J;e[83]!==W||e[84]!==q?(J=(0,l.jsxs)(`div`,{className:`flex items-center gap-3`,children:[W,q]}),e[83]=W,e[84]=q,e[85]=J):J=e[85];let Xe;e[86]===Symbol.for(`react.memo_cache_sentinel`)?(Xe=(0,l.jsx)(me,{variant:`ghost`,className:`text-xs font-semibold text-[#006a4e] hover:text-[#004d39] h-auto p-0`,children:`Switch`}),e[86]=Xe):Xe=e[86];let Y;e[87]===J?Y=e[88]:(Y=(0,l.jsxs)(n.div,{initial:Je,animate:Ye,className:`flex items-center justify-between mb-6 mt-2`,children:[J,Xe]}),e[87]=J,e[88]=Y);let Ze=`text-sm font-semibold ${g}`,X;e[89]===Ze?X=e[90]:(X=(0,l.jsx)(`div`,{className:`flex justify-between items-center mb-4`,children:(0,l.jsx)(`span`,{className:Ze,children:`আপনার জন্য প্রস্তাবিত`})}),e[89]=Ze,e[90]=X);let Qe=n,$e;e[91]!==Ne||e[92]!==v||e[93]!==g||e[94]!==s?($e=(e,t)=>(0,l.jsxs)(n.div,{variants:Le,className:`flex items-center justify-between hover:bg-white/5 p-2 rounded-lg transition-colors cursor-pointer`,onClick:()=>v(e),children:[(0,l.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,l.jsxs)(ue,{className:`w-8 h-8`,children:[(0,l.jsx)(o,{src:e.avatar}),(0,l.jsx)(pe,{children:e.username?.[0]?.toUpperCase()||`?`})]}),(0,l.jsxs)(`div`,{className:`flex flex-col`,children:[(0,l.jsx)(`span`,{className:`text-xs font-semibold`,children:e.username}),(0,l.jsx)(`span`,{className:`text-[10px] ${g}`,children:e.subtitle})]})]}),(0,l.jsx)(me,{className:`bg-[#006a4e] text-white hover:bg-[#00523c] h-8 px-4 text-sm font-semibold whitespace-nowrap`,onClick:t=>{t.stopPropagation(),s&&e.id&&Ne({targetUserId:e.id,currentUserId:s.id,isFollowing:!1,targetUsername:e.username})},children:`ফলো`})]},t),e[91]=Ne,e[92]=v,e[93]=g,e[94]=s,e[95]=$e):$e=e[95];let et=Me.slice(0,5).map($e),Z;e[96]!==x||e[97]!==Qe.div||e[98]!==et?(Z=(0,l.jsx)(Qe.div,{variants:x,initial:`hidden`,animate:`visible`,className:`flex flex-col gap-3`,children:et}),e[96]=x,e[97]=Qe.div,e[98]=et,e[99]=Z):Z=e[99];let tt=`mt-8 text-xs ${g} space-y-4`,nt;e[100]===Symbol.for(`react.memo_cache_sentinel`)?(nt=(0,l.jsx)(`span`,{children:`About`}),e[100]=nt):nt=e[100];let rt;e[101]===Symbol.for(`react.memo_cache_sentinel`)?(rt=(0,l.jsx)(`span`,{children:`Help`}),e[101]=rt):rt=e[101];let it;e[102]===Symbol.for(`react.memo_cache_sentinel`)?(it=(0,l.jsx)(`span`,{children:`Press`}),e[102]=it):it=e[102];let at;e[103]===Symbol.for(`react.memo_cache_sentinel`)?(at=(0,l.jsx)(`span`,{children:`API`}),e[103]=at):at=e[103];let ot;e[104]===Symbol.for(`react.memo_cache_sentinel`)?(ot=(0,l.jsx)(`span`,{children:`Jobs`}),e[104]=ot):ot=e[104];let st;e[105]===Symbol.for(`react.memo_cache_sentinel`)?(st=(0,l.jsx)(`span`,{children:`Privacy`}),e[105]=st):st=e[105];let ct,lt;e[106]===Symbol.for(`react.memo_cache_sentinel`)?(ct=(0,l.jsxs)(`div`,{className:`flex flex-wrap gap-1`,children:[nt,`•`,rt,`•`,it,`•`,at,`•`,ot,`•`,st,`•`,(0,l.jsx)(`span`,{children:`Terms`})]}),lt=(0,l.jsx)(`div`,{children:`© 2026 INSTAGRAM FROM META (BD)`}),e[106]=ct,e[107]=lt):(ct=e[106],lt=e[107]);let Q;e[108]===tt?Q=e[109]:(Q=(0,l.jsxs)(`div`,{className:tt,children:[ct,lt]}),e[108]=tt,e[109]=Q);let $;return e[110]!==Y||e[111]!==X||e[112]!==Z||e[113]!==Q?($=(0,l.jsxs)(`div`,{className:`hidden lg:block w-[319px]`,children:[Y,X,Z,Q]}),e[110]=Y,e[111]=X,e[112]=Z,e[113]=Q,e[114]=$):$=e[114],(0,l.jsxs)(`div`,{className:`w-full max-w-[630px] pt-0 md:pt-[30px] flex flex-col`,children:[M,(0,l.jsxs)(`div`,{className:`flex-grow w-full max-w-[470px] mx-auto px-0 md:px-0`,children:[(0,l.jsxs)(n.div,{variants:x,initial:`hidden`,animate:`visible`,className:`flex gap-4 mb-6 overflow-x-auto scrollbar-hide py-4 px-4 md:px-0`,children:[(0,l.jsxs)(n.div,{variants:Le,whileHover:N,className:`flex flex-col items-center gap-1 cursor-pointer flex-shrink-0 w-[66px] group`,onClick:Ie,children:[He,We]}),Ae.map(Ge)]}),qe]}),$]})};function be(e){return e.isUser}function xe(e){return!e.isUser}export{u as default};