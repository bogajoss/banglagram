import{$t as e,Yt as t,tn as n}from"./vendor-mxsVw6Vm.js";import{m as r,v as i}from"./index-CADF9kA4.js";var a=t();const o=()=>{let t=(0,a.c)(2),i=n(),o;return t[0]===i?o=t[1]:(o={mutationFn:s,onSuccess:(e,t)=>{i.invalidateQueries({queryKey:r(t.targetUsername)})}},t[0]=i,t[1]=o),e(o)};async function s(e){let{targetUserId:t,currentUserId:n,isFollowing:r}=e;if(r){let{error:e}=await i.from(`follows`).delete().match({follower_id:n,following_id:t});if(e)throw e}else{let{error:e}=await i.from(`follows`).insert({follower_id:n,following_id:t});if(e)throw e}}export{o as t};