import{a as e}from"./rolldown-runtime-DDUpfMIz.js";import{$t as t,F as n,Ft as r,Ht as i,W as ee,X as a,Xt as o,yt as s}from"./vendor-BGsbkvy4.js";import{_ as c,b as l,x as u}from"./index-BKVcvD9D.js";import{t as d}from"./useGetSuggestedUsers-CqFdk20m.js";var f=r(),p=e(t(),1),m=e(i(),1),h=e=>{let t=(0,f.c)(32),{onClose:n,showToast:r,theme:i,glassModal:ee,shareUrl:a,isOwner:o,onEdit:s}=e,c=`w-full max-w-[300px] rounded-xl overflow-hidden shadow-2xl ${ee} ${i===`dark`?`text-white`:`text-black`}`,l;t[0]!==o||t[1]!==n||t[2]!==s?(l=o&&(0,m.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{s?.(),n()},children:`এডিট করুন`}),t[0]=o,t[1]=n,t[2]=s,t[3]=l):l=t[3];let u;t[4]!==n||t[5]!==r?(u=(0,m.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`রিপোর্ট করা হয়েছে`),n()},children:`রিপোর্ট করুন`}),t[4]=n,t[5]=r,t[6]=u):u=t[6];let d;t[7]!==n||t[8]!==r?(d=(0,m.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`আনফলো করা হয়েছে`),n()},children:`আনফলো`}),t[7]=n,t[8]=r,t[9]=d):d=t[9];let p;t[10]!==n||t[11]!==r?(p=(0,m.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`ফেভারিটে যোগ করা হয়েছে`),n()},children:`ফেভারিটে যোগ করুন`}),t[10]=n,t[11]=r,t[12]=p):p=t[12];let h;t[13]!==n||t[14]!==a||t[15]!==r?(h=(0,m.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{let e=a||window.location.href;navigator.clipboard.writeText(e),r(`লিঙ্ক কপি করা হয়েছে`),n()},children:`লিঙ্ক কপি করুন`}),t[13]=n,t[14]=a,t[15]=r,t[16]=h):h=t[16];let _;t[17]===n?_=t[18]:(_=(0,m.jsx)(`button`,{className:`py-3.5 hover:bg-white/5 transition-colors`,onClick:n,children:`বাতিল করুন`}),t[17]=n,t[18]=_);let v;t[19]!==l||t[20]!==u||t[21]!==d||t[22]!==p||t[23]!==h||t[24]!==_?(v=(0,m.jsxs)(`div`,{className:`flex flex-col text-sm font-semibold`,children:[l,u,d,p,h,_]}),t[19]=l,t[20]=u,t[21]=d,t[22]=p,t[23]=h,t[24]=_,t[25]=v):v=t[25];let y;t[26]!==c||t[27]!==v?(y=(0,m.jsx)(`div`,{className:c,onClick:g,children:v}),t[26]=c,t[27]=v,t[28]=y):y=t[28];let b;return t[29]!==n||t[30]!==y?(b=(0,m.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4`,onClick:n,children:y}),t[29]=n,t[30]=y,t[31]=b):b=t[31],b};function g(e){return e.stopPropagation()}var _=r(),v=e=>{let t=(0,_.c)(70),{onClose:r,theme:i,showToast:f,glassModal:h,shareUrl:g}=e,v=o(),{user:te}=u(),{data:x}=d(te?.id),S;t[0]===x?S=t[1]:(S=x===void 0?[]:x,t[0]=x,t[1]=S);let C=S,[w,ne]=(0,p.useState)(``),T;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(T=[],t[2]=T):T=t[2];let[re,ie]=(0,p.useState)(T),[ae,oe]=(0,p.useState)(!1),E,D;t[3]===w?(E=t[4],D=t[5]):(E=()=>{let e=setTimeout(async()=>{if(w.trim().length>0){oe(!0);let{data:e}=await c.from(`profiles`).select(`id, username, full_name, avatar_url, is_verified`).ilike(`username`,`%${w}%`).limit(10);e&&ie(e.map(y)),oe(!1)}else ie([])},300);return()=>clearTimeout(e)},D=[w],t[3]=w,t[4]=E,t[5]=D),(0,p.useEffect)(E,D);let O;t[6]!==w||t[7]!==re||t[8]!==C?(O=w.trim()?re:C.slice(0,8),t[6]=w,t[7]=re,t[8]=C,t[9]=O):O=t[9];let k=O,se=`w-full max-w-md rounded-xl overflow-hidden shadow-2xl ${h} ${i===`dark`?`text-white`:`text-black`}`,ce=`p-3 border-b text-center font-bold relative ${i===`dark`?`border-zinc-800`:`border-zinc-200`}`,A;t[10]===r?A=t[11]:(A=(0,m.jsx)(n,{className:`absolute right-3 top-3 cursor-pointer`,onClick:r}),t[10]=r,t[11]=A);let j;t[12]!==ce||t[13]!==A?(j=(0,m.jsxs)(`div`,{className:ce,children:[`শেয়ার করুন`,A]}),t[12]=ce,t[13]=A,t[14]=j):j=t[14];let le=`p-4 border-b ${i===`dark`?`border-zinc-700/50`:`border-zinc-200`}`,ue=`flex items-center gap-2 px-3 py-2 rounded-lg ${i===`dark`?`bg-[#262626]`:`bg-gray-100`}`,M;t[15]===Symbol.for(`react.memo_cache_sentinel`)?(M=(0,m.jsx)(a,{size:18,className:`text-[#8e8e8e]`}),t[15]=M):M=t[15];let N;t[16]===Symbol.for(`react.memo_cache_sentinel`)?(N=e=>ne(e.target.value),t[16]=N):N=t[16];let P,F;t[17]===w?(P=t[18],F=t[19]):(P=(0,m.jsx)(`input`,{type:`text`,placeholder:`অনুসন্ধান`,value:w,onChange:N,className:`bg-transparent border-none outline-none text-sm w-full`}),F=w&&(0,m.jsx)(n,{size:18,className:`cursor-pointer text-[#8e8e8e]`,onClick:()=>ne(``)}),t[17]=w,t[18]=P,t[19]=F);let I;t[20]!==ue||t[21]!==P||t[22]!==F?(I=(0,m.jsxs)(`div`,{className:ue,children:[M,P,F]}),t[20]=ue,t[21]=P,t[22]=F,t[23]=I):I=t[23];let L;t[24]!==le||t[25]!==I?(L=(0,m.jsx)(`div`,{className:le,children:I}),t[24]=le,t[25]=I,t[26]=L):L=t[26];let R;t[27]!==ae||t[28]!==v||t[29]!==r||t[30]!==f||t[31]!==i||t[32]!==k?(R=ae?(0,m.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`অনুসন্ধান করা হচ্ছে...`}):k.length===0?(0,m.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`কোনো ফলাফল পাওয়া যায়নি`}):k.map((e,t)=>(0,m.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded-lg ${i===`dark`?`hover:bg-white/5`:`hover:bg-black/5`} cursor-pointer transition-colors`,children:[(0,m.jsxs)(`div`,{className:`flex items-center gap-3 flex-grow`,onClick:()=>{r(),v(`/profile/${e.username}`)},children:[(0,m.jsx)(`div`,{className:`w-10 h-10 rounded-full overflow-hidden`,children:(0,m.jsx)(l,{src:e.avatar,className:`w-full h-full`,alt:e.username})}),(0,m.jsxs)(`div`,{className:`flex flex-col`,children:[(0,m.jsx)(`span`,{className:`text-sm font-semibold`,children:e.username}),(0,m.jsx)(`span`,{className:`text-xs opacity-70`,children:e.name||e.username})]})]}),(0,m.jsx)(`button`,{className:`px-4 py-1.5 rounded-lg text-sm font-semibold bg-[#006a4e] text-white hover:bg-[#00523c] transition-colors`,onClick:t=>{t.stopPropagation(),f(`${e.username}-কে পাঠানো হয়েছে`),r()},children:`পাঠান`})]},t)),t[27]=ae,t[28]=v,t[29]=r,t[30]=f,t[31]=i,t[32]=k,t[33]=R):R=t[33];let z;t[34]===R?z=t[35]:(z=(0,m.jsx)(`div`,{className:`h-64 overflow-y-auto p-2`,children:R}),t[34]=R,t[35]=z);let de=`p-4 border-t ${i===`dark`?`border-zinc-800`:`border-zinc-200`} flex gap-4 overflow-x-auto`,B;t[36]!==r||t[37]!==g||t[38]!==f?(B=()=>{let e=g||window.location.href;navigator.clipboard.writeText(e),f(`লিঙ্ক কপি করা হয়েছে`),r()},t[36]=r,t[37]=g,t[38]=f,t[39]=B):B=t[39];let V=`w-12 h-12 rounded-full border flex items-center justify-center ${i===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,H;t[40]===Symbol.for(`react.memo_cache_sentinel`)?(H=(0,m.jsx)(s,{size:20}),t[40]=H):H=t[40];let U;t[41]===V?U=t[42]:(U=(0,m.jsx)(`div`,{className:V,children:H}),t[41]=V,t[42]=U);let W;t[43]===Symbol.for(`react.memo_cache_sentinel`)?(W=(0,m.jsx)(`span`,{className:`text-xs`,children:`লিঙ্ক কপি`}),t[43]=W):W=t[43];let G;t[44]!==B||t[45]!==U?(G=(0,m.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:B,children:[U,W]}),t[44]=B,t[45]=U,t[46]=G):G=t[46];let K;t[47]!==r||t[48]!==f?(K=()=>{f(`আপনার স্টোরিতে যোগ করা হয়েছে`),r()},t[47]=r,t[48]=f,t[49]=K):K=t[49];let fe=`w-12 h-12 rounded-full border flex items-center justify-center ${i===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,q;t[50]===Symbol.for(`react.memo_cache_sentinel`)?(q=(0,m.jsx)(ee,{size:20}),t[50]=q):q=t[50];let J;t[51]===fe?J=t[52]:(J=(0,m.jsx)(`div`,{className:fe,children:q}),t[51]=fe,t[52]=J);let Y;t[53]===Symbol.for(`react.memo_cache_sentinel`)?(Y=(0,m.jsx)(`span`,{className:`text-xs`,children:`স্টোরিতে দিন`}),t[53]=Y):Y=t[53];let X;t[54]!==K||t[55]!==J?(X=(0,m.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:K,children:[J,Y]}),t[54]=K,t[55]=J,t[56]=X):X=t[56];let Z;t[57]!==de||t[58]!==G||t[59]!==X?(Z=(0,m.jsxs)(`div`,{className:de,children:[G,X]}),t[57]=de,t[58]=G,t[59]=X,t[60]=Z):Z=t[60];let Q;t[61]!==j||t[62]!==L||t[63]!==z||t[64]!==Z||t[65]!==se?(Q=(0,m.jsxs)(`div`,{className:se,onClick:b,children:[j,L,z,Z]}),t[61]=j,t[62]=L,t[63]=z,t[64]=Z,t[65]=se,t[66]=Q):Q=t[66];let $;return t[67]!==r||t[68]!==Q?($=(0,m.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4 animate-fade-in`,onClick:r,children:Q}),t[67]=r,t[68]=Q,t[69]=$):$=t[69],$};function y(e){return{id:e.id,username:e.username,name:e.full_name||e.username,avatar:e.avatar_url||``,isVerified:e.is_verified||!1}}function b(e){return e.stopPropagation()}export{h as n,v as t};