import{Gt as e,Ht as t,zt as n}from"./vendor-Cmsjy3MZ.js";import{_ as r,p as i}from"./index-DVw--mUP.js";var a=n();const o=()=>{let n=(0,a.c)(2),r=e(),o;return n[0]===r?o=n[1]:(o={mutationFn:s,onSuccess:(e,t)=>{r.invalidateQueries({queryKey:i(t.targetUsername)})}},n[0]=r,n[1]=o),t(o)};async function s(e){let{targetUserId:t,currentUserId:n,isFollowing:i}=e;if(i){let{error:e}=await r.from(`follows`).delete().match({follower_id:n,following_id:t});if(e)throw e}else{let{error:e}=await r.from(`follows`).insert({follower_id:n,following_id:t});if(e)throw e}}export{o as t};