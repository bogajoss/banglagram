import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{$t as t,Bt as n,C as r,Et as i,Ft as a,Ht as o,Nt as s,Ot as c,Pt as l,S as u,Vt as d,W as f,_t as p,ft as m,it as h,mt as g,q as _,rt as ee,zt as v}from"./vendor-BGrLWuzF.js";import{Bt as y,Vt as b,j as x}from"./libs-eJHw-jrC.js";import{C as te,_ as S,b as ne,c as re,h as C,i as w,n as T,o as E,s as D,w as ie,x as ae,y as oe}from"./index-qR2YstvC.js";import{n as O,r as k,t as A}from"./useViewTracker-D4u-iMqX.js";var j=a(),M=e(t(),1),N=o(),se=e=>{let t=(0,j.c)(24),n,r,i,a,o;t[0]===e?(n=t[1],r=t[2],i=t[3],a=t[4],o=t[5]):({src:o,alt:n,className:r,fallbacknode:i,...a}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o);let[s,c]=(0,M.useState)(!1),[l,u]=(0,M.useState)(!0);if(!o||s){if(i){let e;return t[6]===i?e=t[7]:(e=(0,N.jsx)(N.Fragment,{children:i}),t[6]=i,t[7]=e),e}let e=`flex items-center justify-center bg-gray-100 dark:bg-zinc-800 text-gray-400 ${r}`,n;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,N.jsx)(m,{size:24}),t[8]=n):n=t[8];let a;return t[9]===e?a=t[10]:(a=(0,N.jsx)(`div`,{className:e,children:n}),t[9]=e,t[10]=a),a}let d;t[11]!==r||t[12]!==l?(d=l&&(0,N.jsx)(T,{className:`absolute inset-0 ${r}`}),t[11]=r,t[12]=l,t[13]=d):d=t[13];let f=`${r} ${l?`opacity-0`:`opacity-100`} transition-opacity duration-300`,p,h;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(p=()=>{c(!0),u(!1)},h=()=>u(!1),t[14]=p,t[15]=h):(p=t[14],h=t[15]);let g;t[16]!==n||t[17]!==a||t[18]!==o||t[19]!==f?(g=(0,N.jsx)(`img`,{src:o,alt:n,className:f,onError:p,onLoad:h,...a}),t[16]=n,t[17]=a,t[18]=o,t[19]=f,t[20]=g):g=t[20];let _;return t[21]!==d||t[22]!==g?(_=(0,N.jsxs)(N.Fragment,{children:[d,g]}),t[21]=d,t[22]=g,t[23]=_):_=t[23],_},P=a(),F=e(b(),1);const I=e=>[`post`,e],L=(e,t)=>{let r=(0,P.c)(9),i=e||``,a;r[0]===i?a=r[1]:(a=I(i),r[0]=i,r[1]=a);let o=!!e,s;r[2]!==t||r[3]!==e?(s=async()=>{if(!e)throw Error(`Post ID required`);let{data:n,error:r}=await S.from(`posts`).select(`
          id,
          created_at,
          caption,
          image_url,
          user_id,
          profiles (username, full_name, avatar_url, is_verified),
          likes (count),
          comments (count)
        `).eq(`id`,e).single();if(r)throw r;let i=n,a=!1,o=!1;if(t){let{count:n}=await S.from(`likes`).select(`*`,{count:`exact`,head:!0}).eq(`post_id`,e).eq(`user_id`,t);a=!!n&&n>0;let{count:r}=await S.from(`saves`).select(`*`,{count:`exact`,head:!0}).eq(`post_id`,e).eq(`user_id`,t);o=!!r&&r>0}return{id:i.id,user:{id:i.user_id,username:i.profiles?.username||`Unknown`,name:i.profiles?.full_name||`Unknown`,avatar:i.profiles?.avatar_url||``,isVerified:i.profiles?.is_verified||!1},content:{type:`image`,src:i.image_url},likes:i.likes[0]?.count||0,caption:i.caption||``,comments:i.comments[0]?.count||0,time:(0,F.default)(i.created_at).fromNow(),hasLiked:a,hasSaved:o}},r[2]=t,r[3]=e,r[4]=s):s=r[4];let c;return r[5]!==a||r[6]!==o||r[7]!==s?(c={queryKey:a,enabled:o,queryFn:s},r[5]=a,r[6]=o,r[7]=s,r[8]=c):c=r[8],n(c)};var R=a();const ce=()=>{let e=(0,R.c)(2),t=d(),n;return e[0]===t?n=e[1]:(n={mutationFn:le,onSuccess:(e,n)=>{t.invalidateQueries({queryKey:C}),t.invalidateQueries({queryKey:I(n.postId)}),t.invalidateQueries({queryKey:[`profile`]})}},e[0]=t,e[1]=n),v(n)};async function le(e){let{postId:t,caption:n}=e,{data:r,error:i}=await S.from(`posts`).update({caption:n}).eq(`id`,t).select().single();if(i)throw i;return r}var ue=a(),de=e=>{let t=(0,ue.c)(57),{post:n,onClose:r,theme:i,glassModal:a}=e,{showToast:o}=ie(),[c,l]=(0,M.useState)(n.caption||``),{mutate:u,isPending:d}=ce(),f;t[0]!==c||t[1]!==r||t[2]!==n.id||t[3]!==o||t[4]!==u?(f=()=>{if(!c.trim()){o(`Caption cannot be empty`);return}u({postId:n.id,caption:c},{onSuccess:()=>{o(`Post updated`),r()},onError:()=>o(`Failed to update post`)})},t[0]=c,t[1]=r,t[2]=n.id,t[3]=o,t[4]=u,t[5]=f):f=t[5];let p=f,m,h,g;t[6]===Symbol.for(`react.memo_cache_sentinel`)?(m={opacity:0},h={opacity:1},g={opacity:0},t[6]=m,t[7]=h,t[8]=g):(m=t[6],h=t[7],g=t[8]);let _,ee,v;t[9]===Symbol.for(`react.memo_cache_sentinel`)?(_={scale:.95,opacity:0},ee={scale:1,opacity:1},v={scale:.95,opacity:0},t[9]=_,t[10]=ee,t[11]=v):(_=t[9],ee=t[10],v=t[11]);let y=`w-full max-w-2xl rounded-xl overflow-hidden shadow-2xl flex flex-col md:flex-row ${a} ${i===`dark`?`text-white`:`text-black`}`,b;t[12]!==n.content.poster||t[13]!==n.content.src||t[14]!==n.content.type?(b=(0,N.jsx)(`div`,{className:`md:w-1/2 bg-black flex items-center justify-center relative aspect-square md:aspect-auto`,children:n.content.type===`video`?(0,N.jsx)(`video`,{src:n.content.src,className:`max-h-full max-w-full`}):(0,N.jsx)(`img`,{src:n.content.src||n.content.poster,className:`max-h-full max-w-full object-contain`,alt:`preview`,loading:`lazy`})}),t[12]=n.content.poster,t[13]=n.content.src,t[14]=n.content.type,t[15]=b):b=t[15];let x=`md:w-1/2 flex flex-col ${i===`dark`?`bg-zinc-900`:`bg-white`}`,te=`p-3 border-b flex justify-between items-center ${i===`dark`?`border-zinc-800`:`border-zinc-200`}`,S;t[16]===Symbol.for(`react.memo_cache_sentinel`)?(S=(0,N.jsx)(`span`,{className:`font-semibold text-sm`,children:`Edit Info`}),t[16]=S):S=t[16];let re=d?`Saving...`:`Done`,C;t[17]!==p||t[18]!==d||t[19]!==re?(C=(0,N.jsx)(`button`,{onClick:p,disabled:d,className:`text-[#0095f6] font-bold text-sm hover:text-white disabled:opacity-50`,children:re}),t[17]=p,t[18]=d,t[19]=re,t[20]=C):C=t[20];let w;t[21]!==te||t[22]!==C?(w=(0,N.jsxs)(`div`,{className:te,children:[S,C]}),t[21]=te,t[22]=C,t[23]=w):w=t[23];let T;t[24]===n.user.avatar?T=t[25]:(T=(0,N.jsx)(ae,{src:n.user.avatar}),t[24]=n.user.avatar,t[25]=T);let E;t[26]===n.user.username?.[0]?E=t[27]:(E=n.user.username?.[0]?.toUpperCase()||`?`,t[26]=n.user.username?.[0],t[27]=E);let D;t[28]===E?D=t[29]:(D=(0,N.jsx)(ne,{children:E}),t[28]=E,t[29]=D);let O;t[30]!==T||t[31]!==D?(O=(0,N.jsxs)(oe,{className:`w-8 h-8`,children:[T,D]}),t[30]=T,t[31]=D,t[32]=O):O=t[32];let k;t[33]===n.user.username?k=t[34]:(k=(0,N.jsx)(`span`,{className:`font-semibold text-sm`,children:n.user.username}),t[33]=n.user.username,t[34]=k);let A;t[35]!==O||t[36]!==k?(A=(0,N.jsxs)(`div`,{className:`p-4 flex items-center gap-3`,children:[O,k]}),t[35]=O,t[36]=k,t[37]=A):A=t[37];let j=`flex-grow p-4 bg-transparent outline-none resize-none text-sm ${i===`dark`?`placeholder-zinc-500`:`placeholder-zinc-400`}`,se;t[38]===Symbol.for(`react.memo_cache_sentinel`)?(se=e=>l(e.target.value),t[38]=se):se=t[38];let P;t[39]!==c||t[40]!==j?(P=(0,N.jsx)(`textarea`,{className:j,placeholder:`Write a caption...`,value:c,onChange:se,rows:6}),t[39]=c,t[40]=j,t[41]=P):P=t[41];let F;t[42]===r?F=t[43]:(F=(0,N.jsx)(`div`,{className:`p-4 flex justify-end`,children:(0,N.jsx)(`button`,{onClick:r,className:`text-sm font-semibold hover:opacity-70`,children:`Cancel`})}),t[42]=r,t[43]=F);let I;t[44]!==x||t[45]!==w||t[46]!==A||t[47]!==P||t[48]!==F?(I=(0,N.jsxs)(`div`,{className:x,children:[w,A,P,F]}),t[44]=x,t[45]=w,t[46]=A,t[47]=P,t[48]=F,t[49]=I):I=t[49];let L;t[50]!==I||t[51]!==y||t[52]!==b?(L=(0,N.jsxs)(s.div,{initial:_,animate:ee,exit:v,className:y,onClick:fe,children:[b,I]}),t[50]=I,t[51]=y,t[52]=b,t[53]=L):L=t[53];let R;return t[54]!==r||t[55]!==L?(R=(0,N.jsx)(s.div,{initial:m,animate:h,exit:g,className:`fixed inset-0 z-[110] bg-black/60 flex items-center justify-center p-4`,onClick:r,children:L}),t[54]=r,t[55]=L,t[56]=R):R=t[56],R};function fe(e){return e.stopPropagation()}var pe=a(),me=e(b(),1),z=e(y(),1);x(),me.default.extend(z.default),me.default.locale(`en`);var he=(0,M.memo)(e=>{let t=(0,pe.c)(163),{post:n,isSaved:a,onToggleSave:o,onUserClick:d,onPostClick:m}=e,{theme:v,showToast:y}=ie(),{user:b}=te(),{mutate:x}=D(),{mutate:S,isPending:C}=E(),{ref:T}=A(n.id,`post`),[j,P]=(0,M.useState)(!1),[F,I]=(0,M.useState)(``),[L,R]=(0,M.useState)(!1),[ce,le]=(0,M.useState)(!1),[ue,fe]=(0,M.useState)(!1),[z,he]=(0,M.useState)(!1),[ge,_e]=(0,M.useState)(!1),ve=M.useRef(null),ye=n.hasLiked||!1,be,xe;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(be=()=>{let e=e=>{ve.current&&!ve.current.contains(e.target)&&he(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},xe=[],t[0]=be,t[1]=xe):(be=t[0],xe=t[1]),M.useEffect(be,xe);let Se;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(Se=e=>{I(t=>t+e.emoji)},t[2]=Se):Se=t[2];let Ce=Se,B=`${window.location.origin}/post/${n.id}`,we=b?.id===n.user.id,Te;t[3]!==ye||t[4]!==n.id||t[5]!==y||t[6]!==x||t[7]!==b?(Te=()=>{if(!b){y(`Log in to like`);return}x({targetId:String(n.id),type:`post`,userId:b.id,hasLiked:ye})},t[3]=ye,t[4]=n.id,t[5]=y,t[6]=x,t[7]=b,t[8]=Te):Te=t[8];let V=Te,Ee;t[9]===V?Ee=t[10]:(Ee=()=>{V(),P(!0),setTimeout(()=>P(!1),1e3)},t[9]=V,t[10]=Ee);let De=Ee,Oe;t[11]!==S||t[12]!==F||t[13]!==n.id||t[14]!==y||t[15]!==b?(Oe=(e,t)=>{e&&e.preventDefault(),b&&(!F.trim()&&!t||S({targetId:String(n.id),type:`post`,text:t?`Voice Message`:F,userId:b.id,audioBlob:t},{onSuccess:()=>{y(`Comment added`),I(``),_e(!1)},onError:()=>y(`Failed to add comment`)}))},t[11]=S,t[12]=F,t[13]=n.id,t[14]=y,t[15]=b,t[16]=Oe):Oe=t[16];let ke=Oe,Ae=v===`dark`?`border-zinc-800`:`border-zinc-200`,H=v===`dark`?`bg-[#121212]/90 backdrop-blur-2xl border border-white/10`:`bg-white/90 backdrop-blur-2xl border border-black/10`,je,Me,Ne,Pe;t[17]===Symbol.for(`react.memo_cache_sentinel`)?(Me={opacity:0,y:20},Ne={opacity:1,y:0},Pe={once:!0,margin:`-50px`},je={duration:.4},t[17]=je,t[18]=Me,t[19]=Ne,t[20]=Pe):(je=t[17],Me=t[18],Ne=t[19],Pe=t[20]);let Fe=`border-b pb-5 mb-4 ${Ae}`,U;t[21]!==H||t[22]!==L||t[23]!==we||t[24]!==B||t[25]!==y||t[26]!==v?(U=L&&(0,N.jsx)(k,{onClose:()=>R(!1),showToast:y,theme:v,glassModal:H,shareUrl:B,isOwner:we,onEdit:()=>fe(!0)}),t[21]=H,t[22]=L,t[23]=we,t[24]=B,t[25]=y,t[26]=v,t[27]=U):U=t[27];let W;t[28]!==H||t[29]!==ce||t[30]!==B||t[31]!==y||t[32]!==v?(W=ce&&(0,N.jsx)(O,{onClose:()=>le(!1),theme:v,showToast:y,glassModal:H,shareUrl:B}),t[28]=H,t[29]=ce,t[30]=B,t[31]=y,t[32]=v,t[33]=W):W=t[33];let G;t[34]!==H||t[35]!==ue||t[36]!==n||t[37]!==v?(G=ue&&(0,N.jsx)(de,{post:n,onClose:()=>fe(!1),theme:v,glassModal:H}),t[34]=H,t[35]=ue,t[36]=n,t[37]=v,t[38]=G):G=t[38];let K;t[39]!==d||t[40]!==n.user?(K=()=>d(n.user),t[39]=d,t[40]=n.user,t[41]=K):K=t[41];let q;t[42]===n.user.avatar?q=t[43]:(q=(0,N.jsx)(ae,{src:n.user.avatar}),t[42]=n.user.avatar,t[43]=q);let J;t[44]===n.user.username[0]?J=t[45]:(J=n.user.username[0].toUpperCase(),t[44]=n.user.username[0],t[45]=J);let Y;t[46]===J?Y=t[47]:(Y=(0,N.jsx)(ne,{children:J}),t[46]=J,t[47]=Y);let X;t[48]!==q||t[49]!==Y?(X=(0,N.jsxs)(oe,{className:`w-8 h-8 group-hover:scale-105 transition-transform`,children:[q,Y]}),t[48]=q,t[49]=Y,t[50]=X):X=t[50];let Z;t[51]===n.user.username?Z=t[52]:(Z=(0,N.jsx)(`span`,{className:`group-hover:opacity-70 transition-opacity`,children:n.user.username}),t[51]=n.user.username,t[52]=Z);let Ie;t[53]===n.user.isVerified?Ie=t[54]:(Ie=n.user.isVerified&&(0,N.jsx)(re,{}),t[53]=n.user.isVerified,t[54]=Ie);let Le=`${v===`dark`?`text-zinc-500`:`text-zinc-400`} font-normal`,Re;t[55]!==n.createdAt||t[56]!==n.time?(Re=n.createdAt?(0,me.default)(n.createdAt).fromNow(!0):n.time,t[55]=n.createdAt,t[56]=n.time,t[57]=Re):Re=t[57];let ze;t[58]!==Le||t[59]!==Re?(ze=(0,N.jsxs)(`span`,{className:Le,children:[`â€¢ `,Re]}),t[58]=Le,t[59]=Re,t[60]=ze):ze=t[60];let Be;t[61]!==Z||t[62]!==Ie||t[63]!==ze?(Be=(0,N.jsxs)(`div`,{className:`flex items-center gap-1 text-sm font-semibold`,children:[Z,Ie,ze]}),t[61]=Z,t[62]=Ie,t[63]=ze,t[64]=Be):Be=t[64];let Ve;t[65]!==K||t[66]!==X||t[67]!==Be?(Ve=(0,N.jsxs)(`div`,{className:`flex items-center gap-2 cursor-pointer group`,onClick:K,children:[X,Be]}),t[65]=K,t[66]=X,t[67]=Be,t[68]=Ve):Ve=t[68];let He,Ue;t[69]===Symbol.for(`react.memo_cache_sentinel`)?(He={scale:1.1},Ue={scale:.9},t[69]=He,t[70]=Ue):(He=t[69],Ue=t[70]);let We;t[71]===Symbol.for(`react.memo_cache_sentinel`)?(We=(0,N.jsx)(s.div,{whileHover:He,whileTap:Ue,children:(0,N.jsx)(p,{size:20,className:`cursor-pointer hover:opacity-70`,onClick:()=>R(!0)})}),t[71]=We):We=t[71];let Ge;t[72]===Ve?Ge=t[73]:(Ge=(0,N.jsxs)(`div`,{className:`flex items-center justify-between mb-3 px-3 md:px-0`,children:[Ve,We]}),t[72]=Ve,t[73]=Ge);let Ke=`w-full ${v===`dark`?`bg-zinc-900`:`bg-gray-100`} md:rounded-[4px] md:border ${Ae} overflow-hidden mb-3 aspect-square md:aspect-auto relative cursor-pointer`,qe=n.content.src||n.content.poster,Je;t[74]===qe?Je=t[75]:(Je=(0,N.jsx)(se,{src:qe,className:`w-full h-full object-cover`,alt:`Post content`,loading:`lazy`}),t[74]=qe,t[75]=Je);let Ye;t[76]===j?Ye=t[77]:(Ye=j&&(0,N.jsx)(s.div,{initial:{scale:0,opacity:0},animate:{scale:1.2,opacity:1},exit:{scale:0,opacity:0},className:`absolute inset-0 flex items-center justify-center pointer-events-none z-10`,children:(0,N.jsx)(g,{size:100,className:`text-white fill-white drop-shadow-lg`})}),t[76]=j,t[77]=Ye);let Xe;t[78]===Ye?Xe=t[79]:(Xe=(0,N.jsx)(l,{children:Ye}),t[78]=Ye,t[79]=Xe);let Ze;t[80]!==De||t[81]!==Ke||t[82]!==Je||t[83]!==Xe?(Ze=(0,N.jsxs)(`div`,{className:Ke,onDoubleClick:De,children:[Je,Xe]}),t[80]=De,t[81]=Ke,t[82]=Je,t[83]=Xe,t[84]=Ze):Ze=t[84];let Qe,$e;t[85]===Symbol.for(`react.memo_cache_sentinel`)?(Qe={scale:1.1},$e={scale:.9},t[85]=Qe,t[86]=$e):(Qe=t[85],$e=t[86]);let et=`cursor-pointer transition-colors ${ye?`fill-[#f42a41] text-[#f42a41]`:``}`,tt;t[87]!==V||t[88]!==et?(tt=(0,N.jsx)(s.div,{whileHover:Qe,whileTap:$e,children:(0,N.jsx)(g,{size:24,className:et,onClick:V})}),t[87]=V,t[88]=et,t[89]=tt):tt=t[89];let nt,rt;t[90]===Symbol.for(`react.memo_cache_sentinel`)?(nt={scale:1.1},rt={scale:.9},t[90]=nt,t[91]=rt):(nt=t[90],rt=t[91]);let it;t[92]!==m||t[93]!==n?(it=(0,N.jsx)(s.div,{whileHover:nt,whileTap:rt,children:(0,N.jsx)(h,{size:24,className:`-scale-x-100 cursor-pointer hover:opacity-70 transition-opacity`,onClick:()=>m(n)})}),t[92]=m,t[93]=n,t[94]=it):it=t[94];let at,ot;t[95]===Symbol.for(`react.memo_cache_sentinel`)?(at={scale:1.1},ot={scale:.9},t[95]=at,t[96]=ot):(at=t[95],ot=t[96]);let st;t[97]===Symbol.for(`react.memo_cache_sentinel`)?(st=(0,N.jsx)(s.div,{whileHover:at,whileTap:ot,children:(0,N.jsx)(_,{size:24,className:`cursor-pointer hover:opacity-70 transition-opacity`,onClick:()=>le(!0)})}),t[97]=st):st=t[97];let ct;t[98]===Symbol.for(`react.memo_cache_sentinel`)?(ct=(0,N.jsx)(i,{size:22,className:``}),t[98]=ct):ct=t[98];let lt;t[99]===n.views?lt=t[100]:(lt=Intl.NumberFormat(`en-US`,{notation:`compact`,maximumFractionDigits:1}).format(n.views||0),t[99]=n.views,t[100]=lt);let ut;t[101]===lt?ut=t[102]:(ut=(0,N.jsxs)(`div`,{className:`flex items-center gap-1 ml-2 opacity-60`,title:`Views`,children:[ct,(0,N.jsx)(`span`,{className:`text-sm font-medium`,children:lt})]}),t[101]=lt,t[102]=ut);let dt;t[103]!==tt||t[104]!==it||t[105]!==ut?(dt=(0,N.jsxs)(`div`,{className:`flex items-center gap-4`,children:[tt,it,st,ut]}),t[103]=tt,t[104]=it,t[105]=ut,t[106]=dt):dt=t[106];let ft,pt;t[107]===Symbol.for(`react.memo_cache_sentinel`)?(ft={scale:1.1},pt={scale:.9},t[107]=ft,t[108]=pt):(ft=t[107],pt=t[108]);let mt=`cursor-pointer hover:opacity-70 transition-all ${a?`fill-current`:``}`,ht;t[109]!==o||t[110]!==mt?(ht=(0,N.jsx)(s.div,{whileHover:ft,whileTap:pt,children:(0,N.jsx)(c,{size:24,className:mt,onClick:o})}),t[109]=o,t[110]=mt,t[111]=ht):ht=t[111];let gt;t[112]!==dt||t[113]!==ht?(gt=(0,N.jsxs)(`div`,{className:`flex items-center justify-between mb-2 px-3 md:px-0`,children:[dt,ht]}),t[112]=dt,t[113]=ht,t[114]=gt):gt=t[114];let _t;t[115]===n.likes?_t=t[116]:(_t=(0,N.jsxs)(`div`,{className:`font-semibold mb-1`,children:[n.likes,` likes`]}),t[115]=n.likes,t[116]=_t);let vt;t[117]!==d||t[118]!==n.user?(vt=()=>d(n.user),t[117]=d,t[118]=n.user,t[119]=vt):vt=t[119];let yt;t[120]!==n.user.username||t[121]!==vt?(yt=(0,N.jsx)(`span`,{className:`font-semibold mr-2 cursor-pointer hover:opacity-70`,onClick:vt,children:n.user.username}),t[120]=n.user.username,t[121]=vt,t[122]=yt):yt=t[122];let bt;t[123]===n.caption?bt=t[124]:(bt=(0,N.jsx)(`span`,{className:`whitespace-pre-wrap`,children:n.caption}),t[123]=n.caption,t[124]=bt);let Q;t[125]!==yt||t[126]!==bt?(Q=(0,N.jsxs)(`div`,{className:`mb-1`,children:[yt,bt]}),t[125]=yt,t[126]=bt,t[127]=Q):Q=t[127];let xt;t[128]!==m||t[129]!==n?(xt=()=>m(n),t[128]=m,t[129]=n,t[130]=xt):xt=t[130];let St;t[131]!==n.comments||t[132]!==xt?(St=(0,N.jsxs)(`div`,{className:`text-zinc-500 cursor-pointer hover:underline`,onClick:xt,children:[`View all `,n.comments,` comments`]}),t[131]=n.comments,t[132]=xt,t[133]=St):St=t[133];let Ct;t[134]!==n.createdAt||t[135]!==n.time?(Ct=n.createdAt?(0,me.default)(n.createdAt).fromNow():n.time,t[134]=n.createdAt,t[135]=n.time,t[136]=Ct):Ct=t[136];let wt;t[137]===Ct?wt=t[138]:(wt=(0,N.jsx)(`div`,{className:`text-[10px] text-zinc-500 uppercase mt-1`,children:Ct}),t[137]=Ct,t[138]=wt);let Tt;t[139]===Symbol.for(`react.memo_cache_sentinel`)?(Tt=(0,N.jsx)(`div`,{className:`flex gap-4 mt-2 mb-1 overflow-x-auto scrollbar-hide py-1`,children:[`â¤ï¸`,`ðŸ™Œ`,`ðŸ”¥`,`ðŸ‘`,`ðŸ˜¢`,`ðŸ˜`,`ðŸ˜®`,`ðŸ˜‚`].map(e=>(0,N.jsx)(`span`,{className:`text-xl cursor-pointer hover:scale-125 transition-transform`,onClick:()=>I(t=>t+e),children:e},e))}),t[139]=Tt):Tt=t[139];let Et;t[140]!==ke||t[141]!==C||t[142]!==F||t[143]!==z||t[144]!==ge||t[145]!==v?(Et=ge?(0,N.jsx)(`div`,{className:`mt-2 bg-zinc-900/50 p-2 rounded-xl`,children:(0,N.jsx)(w,{onRecordingComplete:e=>ke(void 0,e),onCancel:()=>_e(!1)})}):(0,N.jsxs)(`form`,{onSubmit:ke,className:`flex gap-2 mt-2 items-center relative`,children:[z&&(0,N.jsx)(`div`,{ref:ve,className:`absolute bottom-full left-0 z-50 shadow-2xl mb-2`,children:(0,N.jsx)(r,{theme:v===`dark`?u.DARK:u.LIGHT,onEmojiClick:Ce,lazyLoadEmojis:!0,skinTonesDisabled:!0,searchDisabled:!1,width:280,height:350})}),(0,N.jsx)(f,{size:20,className:`cursor-pointer transition-colors ${z?`text-[#006a4e]`:`text-zinc-500 hover:text-zinc-300`}`,onClick:()=>he(!z)}),(0,N.jsx)(`input`,{type:`text`,placeholder:`Add a comment...`,className:`bg-transparent text-sm w-full outline-none ${v===`dark`?`text-white`:`text-black`}`,value:F,onChange:e=>I(e.target.value),onFocus:()=>he(!1),disabled:C}),!F&&(0,N.jsx)(ee,{size:20,className:`text-zinc-500 cursor-pointer hover:text-zinc-300`,onClick:()=>_e(!0)}),(0,N.jsx)(`button`,{type:`submit`,className:`text-[#006a4e] text-sm font-semibold disabled:opacity-50 hover:text-[#004d39]`,disabled:!F||C,children:`Post`})]}),t[140]=ke,t[141]=C,t[142]=F,t[143]=z,t[144]=ge,t[145]=v,t[146]=Et):Et=t[146];let $;t[147]!==_t||t[148]!==Q||t[149]!==St||t[150]!==wt||t[151]!==Et?($=(0,N.jsxs)(`div`,{className:`text-sm px-3 md:px-0`,children:[_t,Q,St,wt,Tt,Et]}),t[147]=_t,t[148]=Q,t[149]=St,t[150]=wt,t[151]=Et,t[152]=$):$=t[152];let Dt;return t[153]!==Fe||t[154]!==U||t[155]!==W||t[156]!==G||t[157]!==Ge||t[158]!==Ze||t[159]!==gt||t[160]!==$||t[161]!==T?(Dt=(0,N.jsxs)(s.div,{ref:T,initial:Me,whileInView:Ne,viewport:Pe,transition:je,className:Fe,children:[U,W,G,Ge,Ze,gt,$]}),t[153]=Fe,t[154]=U,t[155]=W,t[156]=G,t[157]=Ge,t[158]=Ze,t[159]=gt,t[160]=$,t[161]=T,t[162]=Dt):Dt=t[162],Dt});export{L as n,he as t};