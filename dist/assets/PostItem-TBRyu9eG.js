import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{At as t,D as n,E as r,Ht as i,M as a,Nt as o,O as s,Ot as c,Wt as ee,Xt as l,Yt as u,Zt as d,bt as f,hn as p,in as m,lt as h,nn as g,ot as te,rn as _,tn as v,yt as y}from"./vendor-CF4zx1nW.js";import{A as b,M as x,Xt as S,Yt as C,j as w}from"./libs-CDFYUT-j.js";import{A as ne,D as re,E as T,M as E,N as ie,O as ae,_ as oe,c as D,d as se,f as O,g as ce,i as k,k as le,l as ue,m as A,n as de,o as fe,s as pe,u as j,v as me,w as he,y as ge}from"./index-BOeOaC4J.js";import{n as _e,r as ve,t as ye}from"./useViewTracker-CPUAlGov.js";var be=d(),M=e(p(),1),N=m(),xe=e=>{let t=(0,be.c)(24),n,r,i,a,o;t[0]===e?(n=t[1],r=t[2],i=t[3],a=t[4],o=t[5]):({src:o,alt:n,className:r,fallbacknode:i,...a}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o);let[s,ee]=(0,M.useState)(!1),[l,u]=(0,M.useState)(!0);if(!o||s){if(i){let e;return t[6]===i?e=t[7]:(e=(0,N.jsx)(N.Fragment,{children:i}),t[6]=i,t[7]=e),e}let e=`flex items-center justify-center bg-gray-100 dark:bg-zinc-800 text-gray-400 ${r}`,n;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,N.jsx)(c,{size:24}),t[8]=n):n=t[8];let a;return t[9]===e?a=t[10]:(a=(0,N.jsx)(`div`,{className:e,children:n}),t[9]=e,t[10]=a),a}let d;t[11]!==r||t[12]!==l?(d=l&&(0,N.jsx)(de,{className:`absolute inset-0 ${r}`}),t[11]=r,t[12]=l,t[13]=d):d=t[13];let f=`${r} ${l?`opacity-0`:`opacity-100`} transition-opacity duration-300`,p,m;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(p=()=>{ee(!0),u(!1)},m=()=>u(!1),t[14]=p,t[15]=m):(p=t[14],m=t[15]);let h;t[16]!==n||t[17]!==a||t[18]!==o||t[19]!==f?(h=(0,N.jsx)(`img`,{src:o,alt:n,className:f,onError:p,onLoad:m,...a}),t[16]=n,t[17]=a,t[18]=o,t[19]=f,t[20]=h):h=t[20];let g;return t[21]!==d||t[22]!==h?(g=(0,N.jsxs)(N.Fragment,{children:[d,h]}),t[21]=d,t[22]=h,t[23]=g):g=t[23],g},Se=d(),Ce=e(S(),1);const P=e=>[`post`,e],we=(e,t)=>{let n=(0,Se.c)(9),r=e||``,i;n[0]===r?i=n[1]:(i=P(r),n[0]=r,n[1]=i);let a=!!e,o;n[2]!==t||n[3]!==e?(o=async()=>{if(!e)throw Error(`Post ID required`);let{data:n,error:r}=await T.from(`posts`).select(`
          id,
          created_at,
          caption,
          image_url,
          user_id,
          profiles (username, full_name, avatar_url, is_verified),
          likes (count),
          comments (count)
        `).eq(`id`,e).single();if(r)throw r;let i=n,a=!1,o=!1;if(t){let{count:n}=await T.from(`likes`).select(`*`,{count:`exact`,head:!0}).eq(`post_id`,e).eq(`user_id`,t);a=!!n&&n>0;let{count:r}=await T.from(`saves`).select(`*`,{count:`exact`,head:!0}).eq(`post_id`,e).eq(`user_id`,t);o=!!r&&r>0}return{id:i.id,user:{id:i.user_id,username:i.profiles?.username||`Unknown`,name:i.profiles?.full_name||`Unknown`,avatar:i.profiles?.avatar_url||``,isVerified:i.profiles?.is_verified||!1},content:{type:`image`,src:i.image_url},likes:i.likes[0]?.count||0,caption:i.caption||``,comments:i.comments[0]?.count||0,time:(0,Ce.default)(i.created_at).fromNow(),hasLiked:a,hasSaved:o}},n[2]=t,n[3]=e,n[4]=o):o=n[4];let s;return n[5]!==i||n[6]!==a||n[7]!==o?(s={queryKey:i,enabled:a,queryFn:o},n[5]=i,n[6]=a,n[7]=o,n[8]=s):s=n[8],g(s)};var Te=d();const F=()=>{let e=(0,Te.c)(2),t=_(),n;return e[0]===t?n=e[1]:(n={mutationFn:Ee,onSuccess:(e,n)=>{t.invalidateQueries({queryKey:he}),t.invalidateQueries({queryKey:P(n.postId)}),t.invalidateQueries({queryKey:[`profile`]})}},e[0]=t,e[1]=n),v(n)};async function Ee(e){let{postId:t,caption:n}=e,{data:r,error:i}=await T.from(`posts`).update({caption:n}).eq(`id`,t).select().single();if(i)throw i;return r}var De=d(),I=w({caption:x().min(1,`Caption cannot be empty`).max(2200)}),Oe=e=>{let t=(0,De.c)(54),{post:n,onClose:r}=e,{showToast:i}=ie(),{mutate:o,isPending:c}=F(),ee;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(ee=s(I),t[0]=ee):ee=t[0];let l=n.caption||``,u;t[1]===l?u=t[2]:(u={resolver:ee,defaultValues:{caption:l}},t[1]=l,t[2]=u);let d=a(u),f;t[3]!==r||t[4]!==n.id||t[5]!==i||t[6]!==o?(f=e=>{o({postId:n.id,caption:e.caption},{onSuccess:()=>{i(`Post updated`),r()},onError:()=>i(`Failed to update post`)})},t[3]=r,t[4]=n.id,t[5]=i,t[6]=o,t[7]=f):f=t[7];let p=f,m;t[8]===r?m=t[9]:(m=e=>!e&&r(),t[8]=r,t[9]=m);let h;t[10]!==n.content.poster||t[11]!==n.content.src||t[12]!==n.content.type?(h=(0,N.jsx)(`div`,{className:`md:w-1/2 bg-black flex items-center justify-center relative aspect-square md:aspect-auto`,children:n.content.type===`video`?(0,N.jsx)(`video`,{src:n.content.src,className:`max-h-full max-w-full`}):(0,N.jsx)(`img`,{src:n.content.src||n.content.poster,className:`max-h-full max-w-full object-contain`,alt:`preview`,loading:`lazy`})}),t[10]=n.content.poster,t[11]=n.content.src,t[12]=n.content.type,t[13]=h):h=t[13];let g;t[14]!==d||t[15]!==p?(g=d.handleSubmit(p),t[14]=d,t[15]=p,t[16]=g):g=t[16];let te;t[17]===Symbol.for(`react.memo_cache_sentinel`)?(te=(0,N.jsx)(ge,{className:`font-semibold text-sm`,children:`Edit Info`}),t[17]=te):te=t[17];let _=c?`Saving...`:`Done`,v;t[18]!==c||t[19]!==_?(v=(0,N.jsxs)(me,{className:`p-3 border-b flex flex-row justify-between items-center space-y-0`,children:[te,(0,N.jsx)(re,{type:`submit`,variant:`ghost`,disabled:c,className:`text-[#0095f6] font-bold text-sm hover:bg-transparent h-auto p-0`,children:_})]}),t[18]=c,t[19]=_,t[20]=v):v=t[20];let y;t[21]===n.user.avatar?y=t[22]:(y=(0,N.jsx)(ne,{src:n.user.avatar}),t[21]=n.user.avatar,t[22]=y);let b;t[23]===n.user.username?.[0]?b=t[24]:(b=n.user.username?.[0]?.toUpperCase()||`?`,t[23]=n.user.username?.[0],t[24]=b);let x;t[25]===b?x=t[26]:(x=(0,N.jsx)(le,{children:b}),t[25]=b,t[26]=x);let S;t[27]!==y||t[28]!==x?(S=(0,N.jsxs)(ae,{className:`w-8 h-8`,children:[y,x]}),t[27]=y,t[28]=x,t[29]=S):S=t[29];let C;t[30]===n.user.username?C=t[31]:(C=(0,N.jsx)(`span`,{className:`font-semibold text-sm`,children:n.user.username}),t[30]=n.user.username,t[31]=C);let w;t[32]!==S||t[33]!==C?(w=(0,N.jsxs)(`div`,{className:`p-4 flex items-center gap-3`,children:[S,C]}),t[32]=S,t[33]=C,t[34]=w):w=t[34];let T;t[35]===d.control?T=t[36]:(T=(0,N.jsx)(se,{control:d.control,name:`caption`,render:ke}),t[35]=d.control,t[36]=T);let E;t[37]===r?E=t[38]:(E=(0,N.jsx)(`div`,{className:`p-4 flex justify-end`,children:(0,N.jsx)(re,{type:`button`,variant:`ghost`,onClick:r,className:`text-sm font-semibold h-auto p-0 hover:bg-transparent`,children:`Cancel`})}),t[37]=r,t[38]=E);let D;t[39]!==v||t[40]!==w||t[41]!==T||t[42]!==E||t[43]!==g?(D=(0,N.jsxs)(`form`,{onSubmit:g,className:`flex flex-col h-full`,children:[v,w,T,E]}),t[39]=v,t[40]=w,t[41]=T,t[42]=E,t[43]=g,t[44]=D):D=t[44];let O;t[45]!==d||t[46]!==D?(O=(0,N.jsx)(`div`,{className:`md:w-1/2 flex flex-col bg-background`,children:(0,N.jsx)(ue,{...d,children:D})}),t[45]=d,t[46]=D,t[47]=O):O=t[47];let k;t[48]!==O||t[49]!==h?(k=(0,N.jsx)(oe,{className:`max-w-2xl p-0 overflow-hidden border-none sm:rounded-xl`,children:(0,N.jsxs)(`div`,{className:`flex flex-col md:flex-row h-full`,children:[h,O]})}),t[48]=O,t[49]=h,t[50]=k):k=t[50];let A;return t[51]!==k||t[52]!==m?(A=(0,N.jsx)(ce,{open:!0,onOpenChange:m,children:k}),t[51]=k,t[52]=m,t[53]=A):A=t[53],A};function ke(e){let{field:t}=e;return(0,N.jsxs)(O,{className:`flex-grow`,children:[(0,N.jsx)(j,{children:(0,N.jsx)(`textarea`,{...t,className:`w-full h-full p-4 bg-transparent outline-none resize-none text-sm placeholder:text-muted-foreground`,placeholder:`Write a caption...`,rows:6})}),(0,N.jsx)(A,{className:`px-4`})]})}var Ae=d(),je=e(S(),1),Me=e(C(),1);b(),je.default.extend(Me.default),je.default.locale(`en`);var Ne=(0,M.memo)(e=>{let a=(0,Ae.c)(153),{post:s,isSaved:c,onToggleSave:d,onUserClick:p,onPostClick:m}=e,{theme:g,showToast:_}=ie(),{user:v}=E(),{mutate:b}=pe(),{mutate:x,isPending:S}=fe(),{ref:C}=ye(s.id,`post`),[w,re]=(0,M.useState)(!1),[T,oe]=(0,M.useState)(``),[se,O]=(0,M.useState)(!1),[ce,ue]=(0,M.useState)(!1),[A,de]=(0,M.useState)(!1),[j,me]=(0,M.useState)(!1),[he,ge]=(0,M.useState)(!1),be=M.useRef(null),Se=s.hasLiked||!1,Ce,P;a[0]===Symbol.for(`react.memo_cache_sentinel`)?(Ce=()=>{let e=e=>{be.current&&!be.current.contains(e.target)&&me(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},P=[],a[0]=Ce,a[1]=P):(Ce=a[0],P=a[1]),M.useEffect(Ce,P);let we;a[2]===Symbol.for(`react.memo_cache_sentinel`)?(we=e=>{oe(t=>t+e.emoji)},a[2]=we):we=a[2];let Te=we,F=`${window.location.origin}/post/${s.id}`,Ee=v?.id===s.user.id,De;a[3]!==Se||a[4]!==s.id||a[5]!==_||a[6]!==b||a[7]!==v?(De=()=>{if(!v){_(`Log in to like`);return}b({targetId:String(s.id),type:`post`,userId:v.id,hasLiked:Se})},a[3]=Se,a[4]=s.id,a[5]=_,a[6]=b,a[7]=v,a[8]=De):De=a[8];let I=De,ke;a[9]===I?ke=a[10]:(ke=()=>{I(),re(!0),setTimeout(()=>re(!1),1e3)},a[9]=I,a[10]=ke);let Me=ke,Ne;a[11]!==x||a[12]!==T||a[13]!==s.id||a[14]!==_||a[15]!==v?(Ne=(e,t)=>{e&&e.preventDefault(),v&&(!T.trim()&&!t||x({targetId:String(s.id),type:`post`,text:t?`Voice Message`:T,userId:v.id,audioBlob:t},{onSuccess:()=>{_(`Comment added`),oe(``),ge(!1)},onError:()=>_(`Failed to add comment`)}))},a[11]=x,a[12]=T,a[13]=s.id,a[14]=_,a[15]=v,a[16]=Ne):Ne=a[16];let Pe=Ne,Fe,Ie,Le,Re;a[17]===Symbol.for(`react.memo_cache_sentinel`)?(Ie={opacity:0,y:20},Le={opacity:1,y:0},Re={once:!0,margin:`-50px`},Fe={duration:.4},a[17]=Fe,a[18]=Ie,a[19]=Le,a[20]=Re):(Fe=a[17],Ie=a[18],Le=a[19],Re=a[20]);let L;a[21]!==se||a[22]!==Ee||a[23]!==F||a[24]!==_?(L=se&&(0,N.jsx)(ve,{onClose:()=>O(!1),showToast:_,shareUrl:F,isOwner:Ee,onEdit:()=>de(!0)}),a[21]=se,a[22]=Ee,a[23]=F,a[24]=_,a[25]=L):L=a[25];let R;a[26]!==ce||a[27]!==F?(R=ce&&(0,N.jsx)(_e,{onClose:()=>ue(!1),shareUrl:F}),a[26]=ce,a[27]=F,a[28]=R):R=a[28];let z;a[29]!==A||a[30]!==s?(z=A&&(0,N.jsx)(Oe,{post:s,onClose:()=>de(!1)}),a[29]=A,a[30]=s,a[31]=z):z=a[31];let B;a[32]!==p||a[33]!==s.user?(B=()=>p(s.user),a[32]=p,a[33]=s.user,a[34]=B):B=a[34];let V;a[35]===s.user.avatar?V=a[36]:(V=(0,N.jsx)(ne,{src:s.user.avatar}),a[35]=s.user.avatar,a[36]=V);let H;a[37]===s.user.username[0]?H=a[38]:(H=s.user.username[0].toUpperCase(),a[37]=s.user.username[0],a[38]=H);let U;a[39]===H?U=a[40]:(U=(0,N.jsx)(le,{children:H}),a[39]=H,a[40]=U);let ze;a[41]!==V||a[42]!==U?(ze=(0,N.jsxs)(ae,{className:`w-8 h-8 group-hover:scale-105 transition-transform`,children:[V,U]}),a[41]=V,a[42]=U,a[43]=ze):ze=a[43];let W;a[44]===s.user.username?W=a[45]:(W=(0,N.jsx)(`span`,{className:`group-hover:opacity-70 transition-opacity text-foreground`,children:s.user.username}),a[44]=s.user.username,a[45]=W);let G;a[46]===s.user.isVerified?G=a[47]:(G=s.user.isVerified&&(0,N.jsx)(D,{}),a[46]=s.user.isVerified,a[47]=G);let K;a[48]!==s.createdAt||a[49]!==s.time?(K=s.createdAt?(0,je.default)(s.createdAt).fromNow(!0):s.time,a[48]=s.createdAt,a[49]=s.time,a[50]=K):K=a[50];let q;a[51]===K?q=a[52]:(q=(0,N.jsxs)(`span`,{className:`text-muted-foreground font-normal`,children:[`â€¢ `,K]}),a[51]=K,a[52]=q);let J;a[53]!==W||a[54]!==G||a[55]!==q?(J=(0,N.jsxs)(`div`,{className:`flex items-center gap-1 text-sm font-semibold`,children:[W,G,q]}),a[53]=W,a[54]=G,a[55]=q,a[56]=J):J=a[56];let Y;a[57]!==B||a[58]!==ze||a[59]!==J?(Y=(0,N.jsxs)(`div`,{className:`flex items-center gap-2 cursor-pointer group`,onClick:B,children:[ze,J]}),a[57]=B,a[58]=ze,a[59]=J,a[60]=Y):Y=a[60];let Be,Ve;a[61]===Symbol.for(`react.memo_cache_sentinel`)?(Be={scale:1.1},Ve={scale:.9},a[61]=Be,a[62]=Ve):(Be=a[61],Ve=a[62]);let He;a[63]===Symbol.for(`react.memo_cache_sentinel`)?(He=(0,N.jsx)(u.div,{whileHover:Be,whileTap:Ve,children:(0,N.jsx)(o,{size:20,className:`cursor-pointer hover:opacity-70 text-foreground`,onClick:()=>O(!0)})}),a[63]=He):He=a[63];let X;a[64]===Y?X=a[65]:(X=(0,N.jsxs)(`div`,{className:`flex items-center justify-between mb-3 px-3 md:px-0`,children:[Y,He]}),a[64]=Y,a[65]=X);let Ue=s.content.src||s.content.poster,Z;a[66]===Ue?Z=a[67]:(Z=(0,N.jsx)(xe,{src:Ue,className:`w-full h-full object-cover`,alt:`Post content`,loading:`lazy`}),a[66]=Ue,a[67]=Z);let We;a[68]===w?We=a[69]:(We=w&&(0,N.jsx)(u.div,{initial:{scale:0,opacity:0},animate:{scale:1.2,opacity:1},exit:{scale:0,opacity:0},className:`absolute inset-0 flex items-center justify-center pointer-events-none z-10`,children:(0,N.jsx)(t,{size:100,className:`text-white fill-white drop-shadow-lg`})}),a[68]=w,a[69]=We);let Ge;a[70]===We?Ge=a[71]:(Ge=(0,N.jsx)(l,{children:We}),a[70]=We,a[71]=Ge);let Ke;a[72]!==Me||a[73]!==Z||a[74]!==Ge?(Ke=(0,N.jsxs)(`div`,{className:`w-full bg-muted md:rounded-[4px] md:border border-border overflow-hidden mb-3 aspect-square md:aspect-auto relative cursor-pointer`,onDoubleClick:Me,children:[Z,Ge]}),a[72]=Me,a[73]=Z,a[74]=Ge,a[75]=Ke):Ke=a[75];let qe,Je;a[76]===Symbol.for(`react.memo_cache_sentinel`)?(qe={scale:1.1},Je={scale:.9},a[76]=qe,a[77]=Je):(qe=a[76],Je=a[77]);let Ye=`cursor-pointer transition-colors ${Se?`fill-[#f42a41] text-[#f42a41]`:`text-foreground`}`,Xe;a[78]!==I||a[79]!==Ye?(Xe=(0,N.jsx)(u.div,{whileHover:qe,whileTap:Je,children:(0,N.jsx)(t,{size:24,className:Ye,onClick:I})}),a[78]=I,a[79]=Ye,a[80]=Xe):Xe=a[80];let Ze,Qe;a[81]===Symbol.for(`react.memo_cache_sentinel`)?(Ze={scale:1.1},Qe={scale:.9},a[81]=Ze,a[82]=Qe):(Ze=a[81],Qe=a[82]);let $e;a[83]!==m||a[84]!==s?($e=(0,N.jsx)(u.div,{whileHover:Ze,whileTap:Qe,children:(0,N.jsx)(f,{size:24,className:`-scale-x-100 cursor-pointer hover:opacity-70 transition-opacity text-foreground`,onClick:()=>m(s)})}),a[83]=m,a[84]=s,a[85]=$e):$e=a[85];let et,tt;a[86]===Symbol.for(`react.memo_cache_sentinel`)?(et={scale:1.1},tt={scale:.9},a[86]=et,a[87]=tt):(et=a[86],tt=a[87]);let nt;a[88]===Symbol.for(`react.memo_cache_sentinel`)?(nt=(0,N.jsx)(u.div,{whileHover:et,whileTap:tt,children:(0,N.jsx)(h,{size:24,className:`cursor-pointer hover:opacity-70 transition-opacity text-foreground`,onClick:()=>ue(!0)})}),a[88]=nt):nt=a[88];let rt;a[89]===Symbol.for(`react.memo_cache_sentinel`)?(rt=(0,N.jsx)(i,{size:22,className:``}),a[89]=rt):rt=a[89];let it;a[90]===s.views?it=a[91]:(it=Intl.NumberFormat(`en-US`,{notation:`compact`,maximumFractionDigits:1}).format(s.views||0),a[90]=s.views,a[91]=it);let at;a[92]===it?at=a[93]:(at=(0,N.jsxs)(`div`,{className:`flex items-center gap-1 ml-2 opacity-60 text-foreground`,title:`Views`,children:[rt,(0,N.jsx)(`span`,{className:`text-sm font-medium`,children:it})]}),a[92]=it,a[93]=at);let ot;a[94]!==Xe||a[95]!==$e||a[96]!==at?(ot=(0,N.jsxs)(`div`,{className:`flex items-center gap-4`,children:[Xe,$e,nt,at]}),a[94]=Xe,a[95]=$e,a[96]=at,a[97]=ot):ot=a[97];let st,ct;a[98]===Symbol.for(`react.memo_cache_sentinel`)?(st={scale:1.1},ct={scale:.9},a[98]=st,a[99]=ct):(st=a[98],ct=a[99]);let lt=`cursor-pointer hover:opacity-70 transition-all text-foreground ${c?`fill-current`:``}`,ut;a[100]!==d||a[101]!==lt?(ut=(0,N.jsx)(u.div,{whileHover:st,whileTap:ct,children:(0,N.jsx)(ee,{size:24,className:lt,onClick:d})}),a[100]=d,a[101]=lt,a[102]=ut):ut=a[102];let dt;a[103]!==ot||a[104]!==ut?(dt=(0,N.jsxs)(`div`,{className:`flex items-center justify-between mb-2 px-3 md:px-0`,children:[ot,ut]}),a[103]=ot,a[104]=ut,a[105]=dt):dt=a[105];let ft;a[106]===s.likes?ft=a[107]:(ft=(0,N.jsxs)(`div`,{className:`font-semibold mb-1`,children:[s.likes,` likes`]}),a[106]=s.likes,a[107]=ft);let pt;a[108]!==p||a[109]!==s.user?(pt=()=>p(s.user),a[108]=p,a[109]=s.user,a[110]=pt):pt=a[110];let Q;a[111]!==s.user.username||a[112]!==pt?(Q=(0,N.jsx)(`span`,{className:`font-semibold mr-2 cursor-pointer hover:opacity-70`,onClick:pt,children:s.user.username}),a[111]=s.user.username,a[112]=pt,a[113]=Q):Q=a[113];let mt;a[114]===s.caption?mt=a[115]:(mt=(0,N.jsx)(`span`,{className:`whitespace-pre-wrap`,children:s.caption}),a[114]=s.caption,a[115]=mt);let ht;a[116]!==Q||a[117]!==mt?(ht=(0,N.jsxs)(`div`,{className:`mb-1`,children:[Q,mt]}),a[116]=Q,a[117]=mt,a[118]=ht):ht=a[118];let gt;a[119]!==m||a[120]!==s?(gt=()=>m(s),a[119]=m,a[120]=s,a[121]=gt):gt=a[121];let _t;a[122]!==s.comments||a[123]!==gt?(_t=(0,N.jsxs)(`div`,{className:`text-muted-foreground cursor-pointer hover:underline`,onClick:gt,children:[`View all `,s.comments,` comments`]}),a[122]=s.comments,a[123]=gt,a[124]=_t):_t=a[124];let vt;a[125]!==s.createdAt||a[126]!==s.time?(vt=s.createdAt?(0,je.default)(s.createdAt).fromNow():s.time,a[125]=s.createdAt,a[126]=s.time,a[127]=vt):vt=a[127];let yt;a[128]===vt?yt=a[129]:(yt=(0,N.jsx)(`div`,{className:`text-[10px] text-muted-foreground uppercase mt-1`,children:vt}),a[128]=vt,a[129]=yt);let bt;a[130]===Symbol.for(`react.memo_cache_sentinel`)?(bt=(0,N.jsx)(`div`,{className:`flex gap-4 mt-2 mb-1 overflow-x-auto scrollbar-hide py-1`,children:[`â¤ï¸`,`ðŸ™Œ`,`ðŸ”¥`,`ðŸ‘`,`ðŸ˜¢`,`ðŸ˜`,`ðŸ˜®`,`ðŸ˜‚`].map(e=>(0,N.jsx)(`span`,{className:`text-xl cursor-pointer hover:scale-125 transition-transform`,onClick:()=>oe(t=>t+e),children:e},e))}),a[130]=bt):bt=a[130];let xt;a[131]!==Pe||a[132]!==S||a[133]!==T||a[134]!==j||a[135]!==he||a[136]!==g?(xt=he?(0,N.jsx)(`div`,{className:`mt-2 bg-muted p-2 rounded-xl`,children:(0,N.jsx)(k,{onRecordingComplete:e=>Pe(void 0,e),onCancel:()=>ge(!1)})}):(0,N.jsxs)(`form`,{onSubmit:Pe,className:`flex gap-2 mt-2 items-center relative`,children:[j&&(0,N.jsx)(`div`,{ref:be,className:`absolute bottom-full left-0 z-50 shadow-2xl mb-2`,children:(0,N.jsx)(n,{theme:g===`dark`?r.DARK:r.LIGHT,onEmojiClick:Te,lazyLoadEmojis:!0,skinTonesDisabled:!0,searchDisabled:!1,width:280,height:350})}),(0,N.jsx)(te,{size:20,className:`cursor-pointer transition-colors ${j?`text-primary`:`text-muted-foreground hover:text-foreground`}`,onClick:()=>me(!j)}),(0,N.jsx)(`input`,{type:`text`,placeholder:`Add a comment...`,className:`bg-transparent text-sm w-full outline-none text-foreground`,value:T,onChange:e=>oe(e.target.value),onFocus:()=>me(!1),disabled:S}),!T&&(0,N.jsx)(y,{size:20,className:`text-muted-foreground cursor-pointer hover:text-foreground`,onClick:()=>ge(!0)}),(0,N.jsx)(`button`,{type:`submit`,className:`text-primary text-sm font-semibold disabled:opacity-50 hover:text-primary/80`,disabled:!T||S,children:`Post`})]}),a[131]=Pe,a[132]=S,a[133]=T,a[134]=j,a[135]=he,a[136]=g,a[137]=xt):xt=a[137];let $;a[138]!==ft||a[139]!==ht||a[140]!==_t||a[141]!==yt||a[142]!==xt?($=(0,N.jsxs)(`div`,{className:`text-sm px-3 md:px-0 text-foreground`,children:[ft,ht,_t,yt,bt,xt]}),a[138]=ft,a[139]=ht,a[140]=_t,a[141]=yt,a[142]=xt,a[143]=$):$=a[143];let St;return a[144]!==L||a[145]!==R||a[146]!==z||a[147]!==X||a[148]!==Ke||a[149]!==dt||a[150]!==$||a[151]!==C?(St=(0,N.jsxs)(u.div,{ref:C,initial:Ie,whileInView:Le,viewport:Re,transition:Fe,className:`border-b border-border pb-5 mb-4`,children:[L,R,z,X,Ke,dt,$]}),a[144]=L,a[145]=R,a[146]=z,a[147]=X,a[148]=Ke,a[149]=dt,a[150]=$,a[151]=C,a[152]=St):St=a[152],St});export{we as n,Ne as t};