import{a as e}from"./rolldown-runtime-DDUpfMIz.js";import{Et as t,Yt as n,ht as ee,it as te,m as ne,nn as r,pn as re,qt as i,un as ie}from"./vendor-mxsVw6Vm.js";import{gr as a,hr as o,k as ae}from"./libs-CiQH4q1H.js";import"./supabase-CCh8m61e.js";import{S as s,T as oe,_ as se,a as ce,b as c,f as le,w as ue,x as de,y as fe}from"./index-DCOd0z8I.js";import"./ShareModal-DNeIN07h.js";import{t as pe}from"./useGetSuggestedUsers-Bw4iLuaE.js";import{t as me}from"./PostItem-BVcz-KkA.js";import{t as he}from"./useFollowUser-DNTXah0Q.js";var ge=n(),_e=e(re(),1),l=e(a(),1),u=e(o(),1);ae();var d=e(r(),1);l.default.extend(u.default),l.default.locale(`bn`);var f=()=>{let e=(0,ge.c)(115),{currentUser:n,theme:r,showToast:re,setViewingStory:a,setViewingPost:o,setCreateModalOpen:ae}=oe(),{user:l}=ue(),u=ie(),f;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(f={rootMargin:`1000px`},e[0]=f):f=e[0];let{ref:be,inView:xe}=ne(f),{data:Se,isLoading:Ce,isError:we,fetchNextPage:p,hasNextPage:m,isFetchingNextPage:Te}=se(l?.id),{data:Ee}=le(l?.id),De=Ee===void 0?[]:Ee,h=De.filter(ve),Oe=De.filter(ye),{data:ke}=pe(l?.id),Ae=ke===void 0?[]:ke,{mutate:je}=he(),{mutate:Me}=ce(),g,_;e[1]!==p||e[2]!==m||e[3]!==xe?(g=()=>{xe&&m&&p()},_=[xe,m,p],e[1]=p,e[2]=m,e[3]=xe,e[4]=g,e[5]=_):(g=e[4],_=e[5]),(0,_e.useEffect)(g,_);let Ne=r===`dark`?`border-zinc-800`:`border-zinc-200`,v=r===`dark`?`text-[#a8a8a8]`:`text-zinc-500`,y;e[6]===u?y=e[7]:(y=e=>{u(`/profile/${e.username}`)},e[6]=u,e[7]=y);let b=y,Pe=()=>{h.length>0?a(h[0].id):ae(!0)},x;e[8]===Symbol.for(`react.memo_cache_sentinel`)?(x={opacity:0},e[8]=x):x=e[8];let S;e[9]===Symbol.for(`react.memo_cache_sentinel`)?(S={hidden:x,visible:{opacity:1,transition:{staggerChildren:.1}}},e[9]=S):S=e[9];let C=S,w;e[10]===Symbol.for(`react.memo_cache_sentinel`)?(w={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},e[10]=w):w=e[10];let Fe=w;if(Ce){let t;return e[11]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,d.jsxs)(`div`,{className:`w-full max-w-[630px] pt-10 flex flex-col items-center`,children:[(0,d.jsx)(`div`,{className:`w-full h-96 bg-gray-200 dark:bg-gray-800 animate-pulse rounded-md mb-4`}),(0,d.jsx)(`div`,{className:`w-full h-96 bg-gray-200 dark:bg-gray-800 animate-pulse rounded-md`})]}),e[11]=t):t=e[11],t}if(we){let t;return e[12]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,d.jsx)(`div`,{className:`p-4 text-center`,children:`Error loading feed. Please try again.`}),e[12]=t):t=e[12],t}let Ie=`md:hidden sticky top-0 z-10 border-b ${Ne} px-4 h-[60px] flex items-center justify-between ${r===`dark`?`bg-black`:`bg-white`}`,T;e[13]===Symbol.for(`react.memo_cache_sentinel`)?(T=(0,d.jsx)(`h1`,{className:`text-2xl font-bold tracking-tight text-[#006a4e]`,children:`SysMed`}),e[13]=T):T=e[13];let E;e[14]===Symbol.for(`react.memo_cache_sentinel`)?(E={scale:.9},e[14]=E):E=e[14];let D;e[15]===re?D=e[16]:(D=(0,d.jsx)(i.div,{whileTap:E,children:(0,d.jsx)(t,{size:24,onClick:()=>re(`নোটিফিকেশন`)})}),e[15]=re,e[16]=D);let O;e[17]===u?O=e[18]:(O=()=>u(`/messages`),e[17]=u,e[18]=O);let k,A,j;e[19]===Symbol.for(`react.memo_cache_sentinel`)?(k={scale:.9},A=(0,d.jsx)(ee,{size:24}),j=(0,d.jsx)(`div`,{className:`absolute -top-1 -right-1 bg-[#f42a41] text-[10px] w-4 h-4 rounded-full flex items-center justify-center font-bold text-white`,children:`1`}),e[19]=k,e[20]=A,e[21]=j):(k=e[19],A=e[20],j=e[21]);let M;e[22]===O?M=e[23]:(M=(0,d.jsxs)(i.div,{className:`relative`,onClick:O,whileTap:k,children:[A,j]}),e[22]=O,e[23]=M);let N;e[24]!==D||e[25]!==M?(N=(0,d.jsxs)(`div`,{className:`flex items-center gap-5`,children:[D,M]}),e[24]=D,e[25]=M,e[26]=N):N=e[26];let P;e[27]!==N||e[28]!==Ie?(P=(0,d.jsxs)(`div`,{className:Ie,children:[T,N]}),e[27]=N,e[28]=Ie,e[29]=P):P=e[29];let Le;e[30]===Symbol.for(`react.memo_cache_sentinel`)?(Le={y:-5},e[30]=Le):Le=e[30];let Re=`w-[66px] h-[66px] rounded-full p-[2px] ${h.length>0?`bg-gradient-to-tr from-[#006a4e] to-[#004d39]`:`border border-zinc-500`} group-hover:scale-105 transition-transform duration-200 relative`,ze=`w-full h-full rounded-full p-[2px] ${r===`dark`?`bg-black`:`bg-white`}`,F;e[31]===n.avatar?F=e[32]:(F=(0,d.jsx)(s,{src:n.avatar}),e[31]=n.avatar,e[32]=F);let I;e[33]===n.username?.[0]?I=e[34]:(I=n.username?.[0]?.toUpperCase()||`?`,e[33]=n.username?.[0],e[34]=I);let L;e[35]===I?L=e[36]:(L=(0,d.jsx)(de,{children:I}),e[35]=I,e[36]=L);let R;e[37]!==F||e[38]!==L?(R=(0,d.jsxs)(c,{className:`w-full h-full`,children:[F,L]}),e[37]=F,e[38]=L,e[39]=R):R=e[39];let z;e[40]!==ze||e[41]!==R?(z=(0,d.jsx)(`div`,{className:ze,children:R}),e[40]=ze,e[41]=R,e[42]=z):z=e[42];let Be=h.length===0&&(0,d.jsx)(`div`,{className:`absolute bottom-0 right-0 bg-[#0095f6] border-2 border-white dark:border-black rounded-full p-0.5 text-white`,children:(0,d.jsx)(te,{size:14,strokeWidth:4})}),Ve;e[43]!==Re||e[44]!==z||e[45]!==Be?(Ve=(0,d.jsxs)(`div`,{className:Re,children:[z,Be]}),e[43]=Re,e[44]=z,e[45]=Be,e[46]=Ve):Ve=e[46];let He=`text-xs truncate w-full text-center ${r===`dark`?`text-[#a8a8a8]`:`text-zinc-500`}`,Ue;e[47]===He?Ue=e[48]:(Ue=(0,d.jsx)(`span`,{className:He,children:`আপনার স্টোরি`}),e[47]=He,e[48]=Ue);let We;e[49]!==a||e[50]!==r?(We=e=>(0,d.jsxs)(i.div,{variants:Fe,whileHover:{y:-5},className:`flex flex-col items-center gap-1 cursor-pointer flex-shrink-0 w-[66px] group`,onClick:()=>a(e.id),children:[(0,d.jsxs)(`div`,{className:`w-[66px] h-[66px] rounded-full p-[2px] bg-gradient-to-tr from-[#006a4e] to-[#004d39] group-hover:scale-105 transition-transform duration-200`,children:[(0,d.jsx)(`div`,{className:`w-full h-full rounded-full p-[2px] ${r===`dark`?`bg-black`:`bg-white`}`,children:(0,d.jsxs)(c,{className:`w-full h-full`,children:[(0,d.jsx)(s,{src:e.userAvatar||e.img}),(0,d.jsx)(de,{children:e.username?.[0]?.toUpperCase()||`?`})]})}),`              `]}),(0,d.jsx)(`span`,{className:`text-xs truncate w-full text-center ${r===`dark`?`text-[#f5f5f5]`:`text-black`}`,children:e.username})]},e.id),e[49]=a,e[50]=r,e[51]=We):We=e[51];let B;e[52]!==Se?.pages||e[53]!==b||e[54]!==o||e[55]!==Me||e[56]!==l?.id?(B=Se?.pages.map((e,t)=>(0,d.jsx)(_e.Fragment,{children:e.map(e=>(0,d.jsx)(me,{post:e,isSaved:!!e.hasSaved,onToggleSave:()=>Me({postId:e.id,userId:l?.id||``,hasSaved:!!e.hasSaved}),onUserClick:b,onPostClick:o},e.id))},t)),e[52]=Se?.pages,e[53]=b,e[54]=o,e[55]=Me,e[56]=l?.id,e[57]=B):B=e[57];let Ge=Te?`Loading more...`:m?`Load more`:`No more posts`,V;e[58]!==be||e[59]!==Ge?(V=(0,d.jsx)(`div`,{ref:be,className:`h-10 text-center text-gray-500`,children:Ge}),e[58]=be,e[59]=Ge,e[60]=V):V=e[60];let Ke;e[61]!==B||e[62]!==V?(Ke=(0,d.jsxs)(`div`,{className:`flex flex-col gap-4 pb-20`,children:[B,V]}),e[61]=B,e[62]=V,e[63]=Ke):Ke=e[63];let qe,Je;e[64]===Symbol.for(`react.memo_cache_sentinel`)?(qe={opacity:0,x:20},Je={opacity:1,x:0},e[64]=qe,e[65]=Je):(qe=e[64],Je=e[65]);let H;e[66]===n.avatar?H=e[67]:(H=(0,d.jsx)(s,{src:n.avatar}),e[66]=n.avatar,e[67]=H);let U;e[68]===n.username?.[0]?U=e[69]:(U=n.username?.[0]?.toUpperCase()||`?`,e[68]=n.username?.[0],e[69]=U);let W;e[70]===U?W=e[71]:(W=(0,d.jsx)(de,{children:U}),e[70]=U,e[71]=W);let G;e[72]!==H||e[73]!==W?(G=(0,d.jsxs)(c,{className:`w-11 h-11`,children:[H,W]}),e[72]=H,e[73]=W,e[74]=G):G=e[74];let K;e[75]===n.username?K=e[76]:(K=(0,d.jsx)(`div`,{className:`font-semibold`,children:n.username}),e[75]=n.username,e[76]=K);let q;e[77]!==n.name||e[78]!==v?(q=(0,d.jsx)(`div`,{className:v,children:n.name}),e[77]=n.name,e[78]=v,e[79]=q):q=e[79];let J;e[80]!==K||e[81]!==q?(J=(0,d.jsxs)(`div`,{className:`text-sm`,children:[K,q]}),e[80]=K,e[81]=q,e[82]=J):J=e[82];let Y;e[83]!==G||e[84]!==J?(Y=(0,d.jsxs)(`div`,{className:`flex items-center gap-3`,children:[G,J]}),e[83]=G,e[84]=J,e[85]=Y):Y=e[85];let Ye;e[86]===Symbol.for(`react.memo_cache_sentinel`)?(Ye=(0,d.jsx)(fe,{variant:`ghost`,className:`text-xs font-semibold text-[#006a4e] hover:text-[#004d39] h-auto p-0`,children:`Switch`}),e[86]=Ye):Ye=e[86];let X;e[87]===Y?X=e[88]:(X=(0,d.jsxs)(i.div,{initial:qe,animate:Je,className:`flex items-center justify-between mb-6 mt-2`,children:[Y,Ye]}),e[87]=Y,e[88]=X);let Xe=`text-sm font-semibold ${v}`,Z;e[89]===Xe?Z=e[90]:(Z=(0,d.jsx)(`div`,{className:`flex justify-between items-center mb-4`,children:(0,d.jsx)(`span`,{className:Xe,children:`আপনার জন্য প্রস্তাবিত`})}),e[89]=Xe,e[90]=Z);let Ze=i,Qe;e[91]!==je||e[92]!==b||e[93]!==v||e[94]!==l?(Qe=(e,t)=>(0,d.jsxs)(i.div,{variants:Fe,className:`flex items-center justify-between hover:bg-white/5 p-2 rounded-lg transition-colors cursor-pointer`,onClick:()=>b(e),children:[(0,d.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,d.jsxs)(c,{className:`w-8 h-8`,children:[(0,d.jsx)(s,{src:e.avatar}),(0,d.jsx)(de,{children:e.username?.[0]?.toUpperCase()||`?`})]}),(0,d.jsxs)(`div`,{className:`flex flex-col`,children:[(0,d.jsx)(`span`,{className:`text-xs font-semibold`,children:e.username}),(0,d.jsx)(`span`,{className:`text-[10px] ${v}`,children:e.subtitle})]})]}),(0,d.jsx)(fe,{className:`bg-[#006a4e] text-white hover:bg-[#00523c] h-8 px-4 text-sm font-semibold whitespace-nowrap`,onClick:t=>{t.stopPropagation(),l&&e.id&&je({targetUserId:e.id,currentUserId:l.id,isFollowing:!1,targetUsername:e.username})},children:`ফলো`})]},t),e[91]=je,e[92]=b,e[93]=v,e[94]=l,e[95]=Qe):Qe=e[95];let $e=Ae.slice(0,5).map(Qe),Q;e[96]!==C||e[97]!==Ze.div||e[98]!==$e?(Q=(0,d.jsx)(Ze.div,{variants:C,initial:`hidden`,animate:`visible`,className:`flex flex-col gap-3`,children:$e}),e[96]=C,e[97]=Ze.div,e[98]=$e,e[99]=Q):Q=e[99];let et=`mt-8 text-xs ${v} space-y-4`,tt;e[100]===Symbol.for(`react.memo_cache_sentinel`)?(tt=(0,d.jsx)(`span`,{children:`About`}),e[100]=tt):tt=e[100];let nt;e[101]===Symbol.for(`react.memo_cache_sentinel`)?(nt=(0,d.jsx)(`span`,{children:`Help`}),e[101]=nt):nt=e[101];let rt;e[102]===Symbol.for(`react.memo_cache_sentinel`)?(rt=(0,d.jsx)(`span`,{children:`Press`}),e[102]=rt):rt=e[102];let it;e[103]===Symbol.for(`react.memo_cache_sentinel`)?(it=(0,d.jsx)(`span`,{children:`API`}),e[103]=it):it=e[103];let at;e[104]===Symbol.for(`react.memo_cache_sentinel`)?(at=(0,d.jsx)(`span`,{children:`Jobs`}),e[104]=at):at=e[104];let ot;e[105]===Symbol.for(`react.memo_cache_sentinel`)?(ot=(0,d.jsx)(`span`,{children:`Privacy`}),e[105]=ot):ot=e[105];let st,ct;e[106]===Symbol.for(`react.memo_cache_sentinel`)?(st=(0,d.jsxs)(`div`,{className:`flex flex-wrap gap-1`,children:[tt,`•`,nt,`•`,rt,`•`,it,`•`,at,`•`,ot,`•`,(0,d.jsx)(`span`,{children:`Terms`})]}),ct=(0,d.jsx)(`div`,{children:`© 2026 INSTAGRAM FROM META (BD)`}),e[106]=st,e[107]=ct):(st=e[106],ct=e[107]);let $;e[108]===et?$=e[109]:($=(0,d.jsxs)(`div`,{className:et,children:[st,ct]}),e[108]=et,e[109]=$);let lt;return e[110]!==X||e[111]!==Z||e[112]!==Q||e[113]!==$?(lt=(0,d.jsxs)(`div`,{className:`hidden lg:block w-[319px]`,children:[X,Z,Q,$]}),e[110]=X,e[111]=Z,e[112]=Q,e[113]=$,e[114]=lt):lt=e[114],(0,d.jsxs)(`div`,{className:`w-full max-w-[630px] pt-0 md:pt-[30px] flex flex-col`,children:[P,(0,d.jsxs)(`div`,{className:`flex-grow w-full max-w-[470px] mx-auto px-0 md:px-0`,children:[(0,d.jsxs)(i.div,{variants:C,initial:`hidden`,animate:`visible`,className:`flex gap-4 mb-6 overflow-x-auto scrollbar-hide py-4 px-4 md:px-0`,children:[(0,d.jsxs)(i.div,{variants:Fe,whileHover:Le,className:`flex flex-col items-center gap-1 cursor-pointer flex-shrink-0 w-[66px] group`,onClick:Pe,children:[Ve,Ue]}),Oe.map(We)]}),Ke]}),lt]})};function ve(e){return e.isUser}function ye(e){return!e.isUser}export{f as default};