import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{At as t,D as n,E as r,Ht as i,M as a,Nt as o,O as s,Wt as ee,Xt as te,Yt as c,Zt as l,bt as u,hn as d,in as f,lt as p,nn as m,ot as h,rn as g,tn as _,yt as ne}from"./vendor-CF4zx1nW.js";import{A as v,M as y,Xt as b,Yt as x,j as S}from"./libs-CDFYUT-j.js";import{A as re,E as C,F as ie,M as ae,O as w,P as T,a as E,b as D,c as oe,d as O,g as k,h as se,j as ce,k as le,l as A,o as j,p as M,r as ue,s as de,u as fe,v as pe,x as N,y as me}from"./index-DNIAENp9.js";import{n as he,r as ge,t as _e}from"./useViewTracker-CtC3KOky.js";var ve=l(),ye=e(b(),1);const be=e=>[`post`,e],xe=(e,t)=>{let n=(0,ve.c)(9),r=e||``,i;n[0]===r?i=n[1]:(i=be(r),n[0]=r,n[1]=i);let a=!!e,o;n[2]!==t||n[3]!==e?(o=async()=>{if(!e)throw Error(`Post ID required`);let{data:n,error:r}=await w.from(`posts`).select(`
          id,
          created_at,
          caption,
          image_url,
          user_id,
          profiles (username, full_name, avatar_url, is_verified),
          likes (count),
          comments (count)
        `).eq(`id`,e).single();if(r)throw r;let i=n,a=!1,o=!1;if(t){let{count:n}=await w.from(`likes`).select(`*`,{count:`exact`,head:!0}).eq(`post_id`,e).eq(`user_id`,t);a=!!n&&n>0;let{count:r}=await w.from(`saves`).select(`*`,{count:`exact`,head:!0}).eq(`post_id`,e).eq(`user_id`,t);o=!!r&&r>0}return{id:i.id,user:{id:i.user_id,username:i.profiles?.username||`Unknown`,name:i.profiles?.full_name||`Unknown`,avatar:i.profiles?.avatar_url||``,isVerified:i.profiles?.is_verified||!1},content:{type:`image`,src:i.image_url},likes:i.likes[0]?.count||0,caption:i.caption||``,comments:i.comments[0]?.count||0,time:(0,ye.default)(i.created_at).fromNow(),hasLiked:a,hasSaved:o}},n[2]=t,n[3]=e,n[4]=o):o=n[4];let s;return n[5]!==i||n[6]!==a||n[7]!==o?(s={queryKey:i,enabled:a,queryFn:o},n[5]=i,n[6]=a,n[7]=o,n[8]=s):s=n[8],m(s)};var P=l();const Se=()=>{let e=(0,P.c)(2),t=g(),n;return e[0]===t?n=e[1]:(n={mutationFn:Ce,onSuccess:(e,n)=>{t.invalidateQueries({queryKey:C}),t.invalidateQueries({queryKey:be(n.postId)}),t.invalidateQueries({queryKey:[`profile`]})}},e[0]=t,e[1]=n),_(n)};async function Ce(e){let{postId:t,caption:n}=e,{data:r,error:i}=await w.from(`posts`).update({caption:n}).eq(`id`,t).select().single();if(i)throw i;return r}var we=l(),F=e(d(),1),I=f(),Te=S({caption:y().min(1,`Caption cannot be empty`).max(2200)}),Ee=e=>{let t=(0,we.c)(62),{post:n,onClose:r}=e,{showToast:i}=ie(),{mutate:o,isPending:ee}=Se(),te;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(te=s(Te),t[0]=te):te=t[0];let c=n.caption||``,l;t[1]===c?l=t[2]:(l={resolver:te,defaultValues:{caption:c}},t[1]=c,t[2]=l);let u=a(l),d;t[3]!==r||t[4]!==n.id||t[5]!==i||t[6]!==o?(d=e=>{o({postId:n.id,caption:e.caption},{onSuccess:()=>{i(`Post updated`),r()},onError:()=>i(`Failed to update post`)})},t[3]=r,t[4]=n.id,t[5]=i,t[6]=o,t[7]=d):d=t[7];let f=d,p;bb0:{if(n.content.type===`video`){let e;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(e=[],t[8]=e):e=t[8],p=e;break bb0}let e=n.content.src;if(!e){let e;t[9]===Symbol.for(`react.memo_cache_sentinel`)?(e=[],t[9]=e):e=t[9],p=e;break bb0}try{if(e.startsWith(`[`)){let n;t[10]===e?n=t[11]:(n=JSON.parse(e),t[10]=e,t[11]=n),p=n;break bb0}let n;t[12]===e?n=t[13]:(n=[e],t[12]=e,t[13]=n),p=n}catch{let n;t[14]===e?n=t[15]:(n=[e],t[14]=e,t[15]=n),p=n}}let m=p,h;t[16]===r?h=t[17]:(h=e=>!e&&r(),t[16]=r,t[17]=h);let g;t[18]!==m||t[19]!==n.content.src||t[20]!==n.content.type?(g=(0,I.jsx)(`div`,{className:`md:w-1/2 bg-black flex items-center justify-center relative aspect-square md:aspect-auto group`,children:n.content.type===`video`?(0,I.jsx)(`video`,{src:n.content.src,className:`max-h-full max-w-full`}):(0,I.jsx)(se,{images:m,className:`w-full h-full bg-black`,aspectRatio:`max-h-full max-w-full`})}),t[18]=m,t[19]=n.content.src,t[20]=n.content.type,t[21]=g):g=t[21];let _;t[22]!==u||t[23]!==f?(_=u.handleSubmit(f),t[22]=u,t[23]=f,t[24]=_):_=t[24];let ne;t[25]===Symbol.for(`react.memo_cache_sentinel`)?(ne=(0,I.jsx)(N,{className:`font-semibold text-sm`,children:`Edit Info`}),t[25]=ne):ne=t[25];let v=ee?`Saving...`:`Done`,y;t[26]!==ee||t[27]!==v?(y=(0,I.jsxs)(D,{className:`p-3 border-b flex flex-row justify-between items-center space-y-0`,children:[ne,(0,I.jsx)(le,{type:`submit`,variant:`ghost`,disabled:ee,className:`text-[#0095f6] font-bold text-sm hover:bg-transparent h-auto p-0`,children:v})]}),t[26]=ee,t[27]=v,t[28]=y):y=t[28];let b;t[29]===n.user.avatar?b=t[30]:(b=(0,I.jsx)(ae,{src:n.user.avatar}),t[29]=n.user.avatar,t[30]=b);let x;t[31]===n.user.username?.[0]?x=t[32]:(x=n.user.username?.[0]?.toUpperCase()||`?`,t[31]=n.user.username?.[0],t[32]=x);let S;t[33]===x?S=t[34]:(S=(0,I.jsx)(ce,{children:x}),t[33]=x,t[34]=S);let C;t[35]!==b||t[36]!==S?(C=(0,I.jsxs)(re,{className:`w-8 h-8`,children:[b,S]}),t[35]=b,t[36]=S,t[37]=C):C=t[37];let w;t[38]===n.user.username?w=t[39]:(w=(0,I.jsx)(`span`,{className:`font-semibold text-sm`,children:n.user.username}),t[38]=n.user.username,t[39]=w);let T;t[40]!==C||t[41]!==w?(T=(0,I.jsxs)(`div`,{className:`p-4 flex items-center gap-3`,children:[C,w]}),t[40]=C,t[41]=w,t[42]=T):T=t[42];let E;t[43]===u.control?E=t[44]:(E=(0,I.jsx)(fe,{control:u.control,name:`caption`,render:De}),t[43]=u.control,t[44]=E);let O;t[45]===r?O=t[46]:(O=(0,I.jsx)(`div`,{className:`p-4 flex justify-end`,children:(0,I.jsx)(le,{type:`button`,variant:`ghost`,onClick:r,className:`text-sm font-semibold h-auto p-0 hover:bg-transparent`,children:`Cancel`})}),t[45]=r,t[46]=O);let k;t[47]!==y||t[48]!==T||t[49]!==E||t[50]!==O||t[51]!==_?(k=(0,I.jsxs)(`form`,{onSubmit:_,className:`flex flex-col h-full`,children:[y,T,E,O]}),t[47]=y,t[48]=T,t[49]=E,t[50]=O,t[51]=_,t[52]=k):k=t[52];let A;t[53]!==u||t[54]!==k?(A=(0,I.jsx)(`div`,{className:`md:w-1/2 flex flex-col bg-background`,children:(0,I.jsx)(oe,{...u,children:k})}),t[53]=u,t[54]=k,t[55]=A):A=t[55];let j;t[56]!==A||t[57]!==g?(j=(0,I.jsx)(me,{className:`max-w-2xl p-0 overflow-hidden border-none sm:rounded-xl`,children:(0,I.jsxs)(`div`,{className:`flex flex-col md:flex-row h-full`,children:[g,A]})}),t[56]=A,t[57]=g,t[58]=j):j=t[58];let M;return t[59]!==j||t[60]!==h?(M=(0,I.jsx)(pe,{open:!0,onOpenChange:h,children:j}),t[59]=j,t[60]=h,t[61]=M):M=t[61],M};function De(e){let{field:t}=e;return(0,I.jsxs)(O,{className:`flex-grow`,children:[(0,I.jsx)(A,{children:(0,I.jsx)(`textarea`,{...t,className:`w-full h-full p-4 bg-transparent outline-none resize-none text-sm placeholder:text-muted-foreground`,placeholder:`Write a caption...`,rows:6})}),(0,I.jsx)(M,{className:`px-4`})]})}var Oe=l(),ke=e(b(),1),L=e(x(),1);v(),ke.default.extend(L.default),ke.default.locale(`en`);var Ae=(0,F.memo)(e=>{let a=(0,Oe.c)(164),{post:s,isSaved:l,onToggleSave:d,onUserClick:f,onPostClick:m}=e,{theme:g,showToast:_}=ie(),{user:v}=T(),{mutate:y}=j(),{mutate:b,isPending:x}=E(),{ref:S}=_e(s.id,`post`),[C,w]=(0,F.useState)(!1),[D,oe]=(0,F.useState)(``),[O,le]=(0,F.useState)(!1),[A,M]=(0,F.useState)(!1),[fe,pe]=(0,F.useState)(!1),[N,me]=(0,F.useState)(!1),[ve,ye]=(0,F.useState)(!1),be=F.useRef(null),xe=s.hasLiked||!1,P;bb0:{if(s.content.type===`video`){let e;a[0]===Symbol.for(`react.memo_cache_sentinel`)?(e=[],a[0]=e):e=a[0],P=e;break bb0}let e=s.content.src;if(!e){let e;a[1]===Symbol.for(`react.memo_cache_sentinel`)?(e=[],a[1]=e):e=a[1],P=e;break bb0}try{if(e.startsWith(`[`)){let t;a[2]===e?t=a[3]:(t=JSON.parse(e),a[2]=e,a[3]=t),P=t;break bb0}let t;a[4]===e?t=a[5]:(t=[e],a[4]=e,a[5]=t),P=t}catch{let t;a[6]===e?t=a[7]:(t=[e],a[6]=e,a[7]=t),P=t}}let Se=P,Ce,we;a[8]===Symbol.for(`react.memo_cache_sentinel`)?(Ce=()=>{let e=e=>{be.current&&!be.current.contains(e.target)&&me(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},we=[],a[8]=Ce,a[9]=we):(Ce=a[8],we=a[9]),F.useEffect(Ce,we);let Te;a[10]===Symbol.for(`react.memo_cache_sentinel`)?(Te=e=>{oe(t=>t+e.emoji)},a[10]=Te):Te=a[10];let De=Te,L=`${window.location.origin}/post/${s.id}`,Ae=v?.id===s.user.id,je;a[11]!==xe||a[12]!==s.id||a[13]!==_||a[14]!==y||a[15]!==v?(je=()=>{if(!v){_(`Log in to like`);return}y({targetId:String(s.id),type:`post`,userId:v.id,hasLiked:xe})},a[11]=xe,a[12]=s.id,a[13]=_,a[14]=y,a[15]=v,a[16]=je):je=a[16];let R=je,Me;a[17]===R?Me=a[18]:(Me=()=>{R(),w(!0),setTimeout(()=>w(!1),1e3)},a[17]=R,a[18]=Me);let z=Me,Ne;a[19]!==b||a[20]!==D||a[21]!==s.id||a[22]!==_||a[23]!==v?(Ne=(e,t)=>{e&&e.preventDefault(),v&&(!D.trim()&&!t||b({targetId:String(s.id),type:`post`,text:t?`Voice Message`:D,userId:v.id,audioBlob:t},{onSuccess:()=>{_(`Comment added`),oe(``),ye(!1)},onError:()=>_(`Failed to add comment`)}))},a[19]=b,a[20]=D,a[21]=s.id,a[22]=_,a[23]=v,a[24]=Ne):Ne=a[24];let Pe=Ne,Fe,Ie,Le,Re;a[25]===Symbol.for(`react.memo_cache_sentinel`)?(Le={opacity:0,y:20},Re={opacity:1,y:0},Fe={once:!0,margin:`-50px`},Ie={duration:.4},a[25]=Fe,a[26]=Ie,a[27]=Le,a[28]=Re):(Fe=a[25],Ie=a[26],Le=a[27],Re=a[28]);let B;a[29]!==O||a[30]!==Ae||a[31]!==L||a[32]!==_?(B=O&&(0,I.jsx)(ge,{onClose:()=>le(!1),showToast:_,shareUrl:L,isOwner:Ae,onEdit:()=>pe(!0)}),a[29]=O,a[30]=Ae,a[31]=L,a[32]=_,a[33]=B):B=a[33];let V;a[34]!==A||a[35]!==L?(V=A&&(0,I.jsx)(he,{onClose:()=>M(!1),shareUrl:L}),a[34]=A,a[35]=L,a[36]=V):V=a[36];let H;a[37]!==fe||a[38]!==s?(H=fe&&(0,I.jsx)(Ee,{post:s,onClose:()=>pe(!1)}),a[37]=fe,a[38]=s,a[39]=H):H=a[39];let U;a[40]!==f||a[41]!==s.user?(U=()=>f(s.user),a[40]=f,a[41]=s.user,a[42]=U):U=a[42];let W;a[43]===s.user.avatar?W=a[44]:(W=(0,I.jsx)(ae,{src:s.user.avatar}),a[43]=s.user.avatar,a[44]=W);let G;a[45]===s.user.username[0]?G=a[46]:(G=s.user.username[0].toUpperCase(),a[45]=s.user.username[0],a[46]=G);let K;a[47]===G?K=a[48]:(K=(0,I.jsx)(ce,{children:G}),a[47]=G,a[48]=K);let ze;a[49]!==W||a[50]!==K?(ze=(0,I.jsxs)(re,{className:`w-8 h-8 group-hover:scale-105 transition-transform`,children:[W,K]}),a[49]=W,a[50]=K,a[51]=ze):ze=a[51];let q;a[52]===s.user.username?q=a[53]:(q=(0,I.jsx)(`span`,{className:`group-hover:opacity-70 transition-opacity text-foreground`,children:s.user.username}),a[52]=s.user.username,a[53]=q);let J;a[54]===s.user.isVerified?J=a[55]:(J=s.user.isVerified&&(0,I.jsx)(de,{}),a[54]=s.user.isVerified,a[55]=J);let Y;a[56]!==s.createdAt||a[57]!==s.time?(Y=s.createdAt?(0,ke.default)(s.createdAt).fromNow(!0):s.time,a[56]=s.createdAt,a[57]=s.time,a[58]=Y):Y=a[58];let X;a[59]===Y?X=a[60]:(X=(0,I.jsxs)(`span`,{className:`text-muted-foreground font-normal`,children:[`â€¢`,` `,Y]}),a[59]=Y,a[60]=X);let Z;a[61]!==q||a[62]!==J||a[63]!==X?(Z=(0,I.jsxs)(`div`,{className:`flex items-center gap-1 text-sm font-semibold`,children:[q,J,X]}),a[61]=q,a[62]=J,a[63]=X,a[64]=Z):Z=a[64];let Be;a[65]!==U||a[66]!==ze||a[67]!==Z?(Be=(0,I.jsxs)(`div`,{className:`flex items-center gap-2 cursor-pointer group`,onClick:U,children:[ze,Z]}),a[65]=U,a[66]=ze,a[67]=Z,a[68]=Be):Be=a[68];let Ve,He;a[69]===Symbol.for(`react.memo_cache_sentinel`)?(Ve={scale:1.1},He={scale:.9},a[69]=Ve,a[70]=He):(Ve=a[69],He=a[70]);let Ue;a[71]===Symbol.for(`react.memo_cache_sentinel`)?(Ue=(0,I.jsx)(c.div,{whileHover:Ve,whileTap:He,children:(0,I.jsx)(o,{size:20,className:`cursor-pointer hover:opacity-70 text-foreground`,onClick:()=>le(!0)})}),a[71]=Ue):Ue=a[71];let We;a[72]===Be?We=a[73]:(We=(0,I.jsxs)(`div`,{className:`flex items-center justify-between mb-3 px-3 md:px-0`,children:[Be,Ue]}),a[72]=Be,a[73]=We);let Ge;a[74]!==z||a[75]!==Se||a[76]!==s.content.poster||a[77]!==s.content.src?(Ge=Se.length>0?(0,I.jsx)(se,{images:Se,className:`w-full h-full`,aspectRatio:`aspect-square md:aspect-auto`,onDoubleClick:z}):(0,I.jsx)(k,{src:s.content.src||s.content.poster,className:`w-full h-full object-cover`,alt:`Post content`,loading:`lazy`}),a[74]=z,a[75]=Se,a[76]=s.content.poster,a[77]=s.content.src,a[78]=Ge):Ge=a[78];let Ke;a[79]===C?Ke=a[80]:(Ke=C&&(0,I.jsx)(c.div,{initial:{scale:0,opacity:0},animate:{scale:1.2,opacity:1},exit:{scale:0,opacity:0},className:`absolute inset-0 flex items-center justify-center pointer-events-none z-10`,children:(0,I.jsx)(t,{size:100,className:`text-white fill-white drop-shadow-lg`})}),a[79]=C,a[80]=Ke);let qe;a[81]===Ke?qe=a[82]:(qe=(0,I.jsx)(te,{children:Ke}),a[81]=Ke,a[82]=qe);let Je;a[83]!==z||a[84]!==Ge||a[85]!==qe?(Je=(0,I.jsxs)(`div`,{className:`w-full bg-muted md:rounded-[4px] md:border border-border overflow-hidden mb-3 aspect-square md:aspect-auto relative cursor-pointer group`,onDoubleClick:z,children:[Ge,qe]}),a[83]=z,a[84]=Ge,a[85]=qe,a[86]=Je):Je=a[86];let Ye,Xe;a[87]===Symbol.for(`react.memo_cache_sentinel`)?(Ye={scale:1.1},Xe={scale:.9},a[87]=Ye,a[88]=Xe):(Ye=a[87],Xe=a[88]);let Ze=`cursor-pointer transition-colors ${xe?`fill-[#f42a41] text-[#f42a41]`:`text-foreground`}`,Qe;a[89]!==R||a[90]!==Ze?(Qe=(0,I.jsx)(c.div,{whileHover:Ye,whileTap:Xe,children:(0,I.jsx)(t,{size:24,className:Ze,onClick:R})}),a[89]=R,a[90]=Ze,a[91]=Qe):Qe=a[91];let $e,et;a[92]===Symbol.for(`react.memo_cache_sentinel`)?($e={scale:1.1},et={scale:.9},a[92]=$e,a[93]=et):($e=a[92],et=a[93]);let tt;a[94]!==m||a[95]!==s?(tt=(0,I.jsx)(c.div,{whileHover:$e,whileTap:et,children:(0,I.jsx)(u,{size:24,className:`-scale-x-100 cursor-pointer hover:opacity-70 transition-opacity text-foreground`,onClick:()=>m(s)})}),a[94]=m,a[95]=s,a[96]=tt):tt=a[96];let nt,rt;a[97]===Symbol.for(`react.memo_cache_sentinel`)?(nt={scale:1.1},rt={scale:.9},a[97]=nt,a[98]=rt):(nt=a[97],rt=a[98]);let it;a[99]===Symbol.for(`react.memo_cache_sentinel`)?(it=(0,I.jsx)(c.div,{whileHover:nt,whileTap:rt,children:(0,I.jsx)(p,{size:24,className:`cursor-pointer hover:opacity-70 transition-opacity text-foreground`,onClick:()=>M(!0)})}),a[99]=it):it=a[99];let at;a[100]===Symbol.for(`react.memo_cache_sentinel`)?(at=(0,I.jsx)(i,{size:22,className:``}),a[100]=at):at=a[100];let ot;a[101]===s.views?ot=a[102]:(ot=Intl.NumberFormat(`en-US`,{notation:`compact`,maximumFractionDigits:1}).format(s.views||0),a[101]=s.views,a[102]=ot);let st;a[103]===ot?st=a[104]:(st=(0,I.jsxs)(`div`,{className:`flex items-center gap-1 ml-2 opacity-60 text-foreground`,title:`Views`,children:[at,(0,I.jsx)(`span`,{className:`text-sm font-medium`,children:ot})]}),a[103]=ot,a[104]=st);let ct;a[105]!==Qe||a[106]!==tt||a[107]!==st?(ct=(0,I.jsxs)(`div`,{className:`flex items-center gap-4`,children:[Qe,tt,it,st]}),a[105]=Qe,a[106]=tt,a[107]=st,a[108]=ct):ct=a[108];let lt,ut;a[109]===Symbol.for(`react.memo_cache_sentinel`)?(lt={scale:1.1},ut={scale:.9},a[109]=lt,a[110]=ut):(lt=a[109],ut=a[110]);let dt=`cursor-pointer hover:opacity-70 transition-all text-foreground ${l?`fill-current`:``}`,ft;a[111]!==d||a[112]!==dt?(ft=(0,I.jsx)(c.div,{whileHover:lt,whileTap:ut,children:(0,I.jsx)(ee,{size:24,className:dt,onClick:d})}),a[111]=d,a[112]=dt,a[113]=ft):ft=a[113];let pt;a[114]!==ct||a[115]!==ft?(pt=(0,I.jsxs)(`div`,{className:`flex items-center justify-between mb-2 px-3 md:px-0`,children:[ct,ft]}),a[114]=ct,a[115]=ft,a[116]=pt):pt=a[116];let Q;a[117]===s.likes?Q=a[118]:(Q=(0,I.jsxs)(`div`,{className:`font-semibold mb-1`,children:[s.likes,` likes`]}),a[117]=s.likes,a[118]=Q);let mt;a[119]!==f||a[120]!==s.user?(mt=()=>f(s.user),a[119]=f,a[120]=s.user,a[121]=mt):mt=a[121];let ht;a[122]!==s.user.username||a[123]!==mt?(ht=(0,I.jsx)(`span`,{className:`font-semibold mr-2 cursor-pointer hover:opacity-70`,onClick:mt,children:s.user.username}),a[122]=s.user.username,a[123]=mt,a[124]=ht):ht=a[124];let gt;a[125]===s.caption?gt=a[126]:(gt=(0,I.jsx)(`span`,{className:`whitespace-pre-wrap`,children:s.caption}),a[125]=s.caption,a[126]=gt);let _t;a[127]!==ht||a[128]!==gt?(_t=(0,I.jsxs)(`div`,{className:`mb-1`,children:[ht,gt]}),a[127]=ht,a[128]=gt,a[129]=_t):_t=a[129];let vt;a[130]!==m||a[131]!==s?(vt=()=>m(s),a[130]=m,a[131]=s,a[132]=vt):vt=a[132];let yt;a[133]!==s.comments||a[134]!==vt?(yt=(0,I.jsxs)(`div`,{className:`text-muted-foreground cursor-pointer hover:underline`,onClick:vt,children:[`View all `,s.comments,` comments`]}),a[133]=s.comments,a[134]=vt,a[135]=yt):yt=a[135];let bt;a[136]!==s.createdAt||a[137]!==s.time?(bt=s.createdAt?(0,ke.default)(s.createdAt).fromNow():s.time,a[136]=s.createdAt,a[137]=s.time,a[138]=bt):bt=a[138];let xt;a[139]===bt?xt=a[140]:(xt=(0,I.jsx)(`div`,{className:`text-[10px] text-muted-foreground uppercase mt-1`,children:bt}),a[139]=bt,a[140]=xt);let St;a[141]===Symbol.for(`react.memo_cache_sentinel`)?(St=(0,I.jsx)(`div`,{className:`flex gap-4 mt-2 mb-1 overflow-x-auto scrollbar-hide py-1`,children:[`â¤ï¸`,`ðŸ™Œ`,`ðŸ”¥`,`ðŸ‘`,`ðŸ˜¢`,`ðŸ˜`,`ðŸ˜®`,`ðŸ˜‚`].map(e=>(0,I.jsx)(`span`,{className:`text-xl cursor-pointer hover:scale-125 transition-transform`,onClick:()=>oe(t=>t+e),children:e},e))}),a[141]=St):St=a[141];let Ct;a[142]!==Pe||a[143]!==x||a[144]!==D||a[145]!==N||a[146]!==ve||a[147]!==g?(Ct=ve?(0,I.jsx)(`div`,{className:`mt-2 bg-muted p-2 rounded-xl`,children:(0,I.jsx)(ue,{onRecordingComplete:e=>Pe(void 0,e),onCancel:()=>ye(!1)})}):(0,I.jsxs)(`form`,{onSubmit:Pe,className:`flex gap-2 mt-2 items-center relative`,children:[N&&(0,I.jsx)(`div`,{ref:be,className:`absolute bottom-full left-0 z-50 shadow-2xl mb-2`,children:(0,I.jsx)(n,{theme:g===`dark`?r.DARK:r.LIGHT,onEmojiClick:De,lazyLoadEmojis:!0,skinTonesDisabled:!0,searchDisabled:!1,width:280,height:350})}),(0,I.jsx)(h,{size:20,className:`cursor-pointer transition-colors ${N?`text-primary`:`text-muted-foreground hover:text-foreground`}`,onClick:()=>me(!N)}),(0,I.jsx)(`input`,{type:`text`,placeholder:`Add a comment...`,className:`bg-transparent text-sm w-full outline-none text-foreground`,value:D,onChange:e=>oe(e.target.value),onFocus:()=>me(!1),disabled:x}),!D&&(0,I.jsx)(ne,{size:20,className:`text-muted-foreground cursor-pointer hover:text-foreground`,onClick:()=>ye(!0)}),(0,I.jsx)(`button`,{type:`submit`,className:`text-primary text-sm font-semibold disabled:opacity-50 hover:text-primary/80`,disabled:!D||x,children:`Post`})]}),a[142]=Pe,a[143]=x,a[144]=D,a[145]=N,a[146]=ve,a[147]=g,a[148]=Ct):Ct=a[148];let $;a[149]!==Q||a[150]!==_t||a[151]!==yt||a[152]!==xt||a[153]!==Ct?($=(0,I.jsxs)(`div`,{className:`text-sm px-3 md:px-0 text-foreground`,children:[Q,_t,yt,xt,St,Ct]}),a[149]=Q,a[150]=_t,a[151]=yt,a[152]=xt,a[153]=Ct,a[154]=$):$=a[154];let wt;return a[155]!==B||a[156]!==V||a[157]!==H||a[158]!==We||a[159]!==Je||a[160]!==pt||a[161]!==$||a[162]!==S?(wt=(0,I.jsxs)(c.div,{ref:S,initial:Le,whileInView:Re,viewport:Fe,transition:Ie,className:`border-b border-border pb-5 mb-4`,children:[B,V,H,We,Je,pt,$]}),a[155]=B,a[156]=V,a[157]=H,a[158]=We,a[159]=Je,a[160]=pt,a[161]=$,a[162]=S,a[163]=wt):wt=a[163],wt});export{xe as n,Ae as t};