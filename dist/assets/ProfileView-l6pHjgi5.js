import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{$ as t,At as n,Ct as r,Gt as i,Jt as a,Kt as o,Mt as s,Rt as c,Ut as l,Wt as u,Zt as d,a as f,bt as p,ct as ee,dt as te,fn as m,hn as h,i as g,in as _,it as v,n as y,nn as b,pn as ne,r as x,st as S,wt as re,xt as ie,zt as ae}from"./vendor-CF4zx1nW.js";import{Xt as C}from"./libs-CDFYUT-j.js";import"./tanstack-CjdblyHw.js";import"./supabase-CW8wD_q0.js";import{A as w,C as oe,D as T,E as se,M as ce,N as le,O as ue,_ as de,c as fe,g as E,j as pe,k as me,n as D,v as he,y as O}from"./index-BOeOaC4J.js";import{t as ge}from"./useFollowUser-Cwu8B6kH.js";import{t as _e}from"./UserStatus-BI8pym_G.js";var ve=d(),ye=e(h(),1),k=_(),be=e=>{let t=(0,ve.c)(20),{title:n,users:r,onClose:i,onUserClick:a,loading:o}=e,s;t[0]===i?s=t[1]:(s=e=>!e&&i(),t[0]=i,t[1]=s);let c;t[2]===n?c=t[3]:(c=(0,k.jsx)(he,{className:`p-3 border-b text-center relative`,children:(0,k.jsx)(O,{className:`text-center font-bold`,children:n})}),t[2]=n,t[3]=c);let l;t[4]!==o||t[5]!==a||t[6]!==r?(l=o?(0,k.jsx)(`div`,{className:`flex items-center justify-center h-full`,children:(0,k.jsx)(`div`,{className:`w-8 h-8 border-4 border-[#006a4e] border-t-transparent rounded-full animate-spin`})}):r.map((e,t)=>(0,k.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded-lg hover:bg-muted cursor-pointer`,onClick:()=>a(e),children:[(0,k.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,k.jsxs)(ue,{className:`w-12 h-12`,children:[(0,k.jsx)(w,{src:e.avatar}),(0,k.jsx)(me,{children:e.username?.[0]?.toUpperCase()||`?`})]}),(0,k.jsxs)(`div`,{className:`flex flex-col`,children:[(0,k.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,k.jsx)(`span`,{className:`text-sm font-semibold`,children:e.username}),e.isVerified&&(0,k.jsx)(fe,{})]}),(0,k.jsx)(`span`,{className:`text-xs opacity-70`,children:e.name||e.username})]})]}),(0,k.jsx)(`button`,{className:`px-4 py-1.5 rounded-lg text-sm font-semibold bg-[#006a4e] text-white hover:bg-[#00523c]`,children:`Follow`})]},t)),t[4]=o,t[5]=a,t[6]=r,t[7]=l):l=t[7];let u;t[8]!==o||t[9]!==r?(u=!o&&r.length===0&&(0,k.jsx)(`div`,{className:`text-center py-10 text-sm opacity-60`,children:`List is empty`}),t[8]=o,t[9]=r,t[10]=u):u=t[10];let d;t[11]!==l||t[12]!==u?(d=(0,k.jsxs)(`div`,{className:`h-80 overflow-y-auto p-2`,children:[l,u]}),t[11]=l,t[12]=u,t[13]=d):d=t[13];let f;t[14]!==c||t[15]!==d?(f=(0,k.jsx)(de,{className:`max-w-md p-0 overflow-hidden border-none rounded-xl`,children:(0,k.jsxs)(`div`,{className:`bg-background text-foreground`,children:[c,d]})}),t[14]=c,t[15]=d,t[16]=f):f=t[16];let p;return t[17]!==s||t[18]!==f?(p=(0,k.jsx)(E,{open:!0,onOpenChange:s,children:f}),t[17]=s,t[18]=f,t[19]=p):p=t[19],p},xe=d();const Se=(e,t)=>{let n=(0,xe.c)(8),r,i;n[0]!==t||n[1]!==e?(r=[`follows`,e,t],i=async()=>{if(!e||!t)return[];let n=se.from(`follows`).select(`
        follower_id,
        following_id,
        follower:profiles!follower_id(username, full_name, avatar_url, id, is_verified),
        following:profiles!following_id(username, full_name, avatar_url, id, is_verified)
      `);n=t===`followers`?n.eq(`following_id`,e):n.eq(`follower_id`,e);let{data:r,error:i}=await n;if(i)throw i;return(r||[]).map(e=>{let n=t===`followers`?e.follower:e.following;return n?{username:n.username,name:n.full_name||n.username||`User`,avatar:n.avatar_url||``,id:n.id,isVerified:n.is_verified||!1,stats:{posts:0,followers:0,following:0},isFollowing:!1}:null}).filter(Boolean)},n[0]=t,n[1]=e,n[2]=r,n[3]=i):(r=n[2],i=n[3]);let a=!!e&&!!t,o;return n[4]!==r||n[5]!==i||n[6]!==a?(o={queryKey:r,queryFn:i,enabled:a},n[4]=r,n[5]=i,n[6]=a,n[7]=o):o=n[7],b(o)};var Ce=d(),we=e(C(),1);const Te=[`savedPosts`],Ee=e=>{let t=(0,Ce.c)(8),n;t[0]===e?n=t[1]:(n=[...Te,e],t[0]=e,t[1]=n);let r=!!e,i;t[2]===e?i=t[3]:(i=async()=>{if(!e)return[];let{data:t,error:n}=await se.from(`saves`).select(`
            created_at,
            post:posts (
                *,
                likes (count),
                comments (count),
                user:profiles (
                    username, full_name, avatar_url, is_verified
                )
            )
        `).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n)throw n;return t.map(De).filter(Boolean)},t[2]=e,t[3]=i);let a;return t[4]!==n||t[5]!==r||t[6]!==i?(a={queryKey:n,enabled:r,queryFn:i},t[4]=n,t[5]=r,t[6]=i,t[7]=a):a=t[7],b(a)};function De(e){let t=e.post;return t?{id:t.id,user:{username:t.user?.username||`Unknown`,name:t.user?.full_name||``,avatar:t.user?.avatar_url||``,isVerified:t.user?.is_verified||!1},content:{type:`image`,src:t.image_url},likes:t.likes?.[0]?.count||0,caption:t.caption||``,comments:t.comments?.[0]?.count||0,time:(0,we.default)(t.created_at).fromNow(),hasLiked:!1,hasSaved:!0,isVerified:t.user?.is_verified||!1}:null}var Oe=d(),ke=e(C(),1);const Ae=[`taggedPosts`],je=e=>{let t=(0,Oe.c)(8),n;t[0]===e?n=t[1]:(n=[...Ae,e],t[0]=e,t[1]=n);let r=!!e,i;t[2]===e?i=t[3]:(i=async()=>{if(!e)return[];let{data:t,error:n}=await se.from(`post_tags`).select(`
            post:posts (
                *,
                likes (count),
                comments (count),
                user:profiles (
                    username, full_name, avatar_url, is_verified
                )
            )
        `).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n){if(n.code===`42P01`)return[];throw n}return t.map(Me).filter(Boolean)},t[2]=e,t[3]=i);let a;return t[4]!==n||t[5]!==r||t[6]!==i?(a={queryKey:n,enabled:r,queryFn:i},t[4]=n,t[5]=r,t[6]=i,t[7]=a):a=t[7],b(a)};function Me(e){let t=e.post;return t?{id:t.id,user:{username:t.user?.username||`Unknown`,name:t.user?.full_name||``,avatar:t.user?.avatar_url||``,isVerified:t.user?.is_verified||!1},content:{type:`image`,src:t.image_url},likes:t.likes?.[0]?.count||0,caption:t.caption||``,comments:t.comments?.[0]?.count||0,time:(0,ke.default)(t.created_at).fromNow(),hasLiked:!1,hasSaved:!1,isVerified:t.user?.is_verified||!1}:null}var Ne=d(),Pe=e=>{let t=(0,Ne.c)(38),{onClose:n}=e,{showToast:a}=le(),{signOut:o}=ce(),s;t[0]!==n||t[1]!==o?(s=async()=>{await o(),n()},t[0]=n,t[1]=o,t[2]=s):s=t[2];let c=s,l;t[3]===a?l=t[4]:(l=e=>{a(`${e} - Coming soon`)},t[3]=a,t[4]=l);let u=l,d;t[5]===n?d=t[6]:(d=e=>!e&&n(),t[5]=n,t[6]=d);let f;t[7]===Symbol.for(`react.memo_cache_sentinel`)?(f=(0,k.jsx)(he,{className:`p-4 border-b`,children:(0,k.jsx)(O,{className:`text-center font-bold`,children:`Settings`})}),t[7]=f):f=t[7];let p;t[8]===u?p=t[9]:(p=()=>u(`Notifications`),t[8]=u,t[9]=p);let ee,te;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(ee=(0,k.jsx)(i,{size:20}),te=(0,k.jsx)(`span`,{children:`Notifications and Sounds`}),t[10]=ee,t[11]=te):(ee=t[10],te=t[11]);let m;t[12]===p?m=t[13]:(m=(0,k.jsxs)(T,{variant:`ghost`,onClick:p,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[ee,te]}),t[12]=p,t[13]=m);let h;t[14]===u?h=t[15]:(h=()=>u(`Privacy`),t[14]=u,t[15]=h);let g,_;t[16]===Symbol.for(`react.memo_cache_sentinel`)?(g=(0,k.jsx)(re,{size:20}),_=(0,k.jsx)(`span`,{children:`Privacy and Security`}),t[16]=g,t[17]=_):(g=t[16],_=t[17]);let v;t[18]===h?v=t[19]:(v=(0,k.jsxs)(T,{variant:`ghost`,onClick:h,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[g,_]}),t[18]=h,t[19]=v);let y;t[20]===u?y=t[21]:(y=()=>u(`Account`),t[20]=u,t[21]=y);let b,ne;t[22]===Symbol.for(`react.memo_cache_sentinel`)?(b=(0,k.jsx)(S,{size:20}),ne=(0,k.jsx)(`span`,{children:`Account Center`}),t[22]=b,t[23]=ne):(b=t[22],ne=t[23]);let x;t[24]===y?x=t[25]:(x=(0,k.jsxs)(T,{variant:`ghost`,onClick:y,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[b,ne]}),t[24]=y,t[25]=x);let ie,ae;t[26]===Symbol.for(`react.memo_cache_sentinel`)?(ie=(0,k.jsx)(r,{size:20}),ae=(0,k.jsx)(`span`,{children:`Log Out`}),t[26]=ie,t[27]=ae):(ie=t[26],ae=t[27]);let C;t[28]===c?C=t[29]:(C=(0,k.jsxs)(T,{variant:`ghost`,onClick:c,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none text-red-500 hover:text-red-600 hover:bg-red-500/10`,children:[ie,ae]}),t[28]=c,t[29]=C);let w;t[30]!==v||t[31]!==x||t[32]!==C||t[33]!==m?(w=(0,k.jsx)(de,{className:`max-w-sm p-0 overflow-hidden border-none rounded-xl`,children:(0,k.jsxs)(`div`,{className:`flex flex-col bg-background text-foreground`,children:[f,m,v,x,C]})}),t[30]=v,t[31]=x,t[32]=C,t[33]=m,t[34]=w):w=t[34];let oe;return t[35]!==w||t[36]!==d?(oe=(0,k.jsx)(E,{open:!0,onOpenChange:d,children:w}),t[35]=w,t[36]=d,t[37]=oe):oe=t[37],oe},Fe=d(),Ie=e=>{let t=(0,Fe.c)(6),{onClose:n}=e,r;t[0]===n?r=t[1]:(r=e=>!e&&n(),t[0]=n,t[1]=r);let i;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,k.jsx)(he,{className:`p-4 border-b flex flex-row items-center justify-between space-y-0`,children:(0,k.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,k.jsxs)(O,{className:`font-bold flex items-center gap-2`,children:[(0,k.jsx)(`span`,{children:`Archive`}),(0,k.jsx)(a,{size:16,className:`opacity-50`})]})})}),t[2]=i):i=t[2];let o;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,k.jsxs)(de,{className:`max-w-sm rounded-xl overflow-hidden p-0 gap-0 border-none`,children:[i,(0,k.jsxs)(`div`,{className:`h-64 flex flex-col items-center justify-center p-6 text-center opacity-70 bg-background`,children:[(0,k.jsx)(`div`,{className:`p-4 rounded-full mb-4 bg-muted`,children:(0,k.jsx)(a,{size:32})}),(0,k.jsx)(`h3`,{className:`font-bold text-lg mb-1`,children:`Archive is empty`}),(0,k.jsx)(`p`,{className:`text-sm`,children:`When you archive posts or stories, they will appear here.`})]})]}),t[3]=o):o=t[3];let s;return t[4]===r?s=t[5]:(s=(0,k.jsx)(E,{open:!0,onOpenChange:r,children:o}),t[4]=r,t[5]=s),s},A=d();function Le(e){let t=(0,A.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=pe(`flex flex-col gap-2`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,k.jsx)(g,{"data-slot":`tabs`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}function Re(e){let t=(0,A.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=pe(`bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,k.jsx)(x,{"data-slot":`tabs-list`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}function ze(e){let t=(0,A.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=pe(`data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,k.jsx)(f,{"data-slot":`tabs-trigger`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}function Be(e){let t=(0,A.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=pe(`flex-1 outline-none`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,k.jsx)(y,{"data-slot":`tabs-content`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}var Ve=d(),j=()=>{let e=(0,Ve.c)(189),{currentUser:r,setViewingPost:i,setEditProfileOpen:a,addStory:d,setCreateModalOpen:f}=le(),{username:h}=ne(),g=m(),{user:_}=ce(),y=!h||h===_?.user_metadata?.username,[b,x]=(0,ye.useState)(`posts`),[S,re]=(0,ye.useState)(null),[C,de]=(0,ye.useState)(!1),[E,he]=(0,ye.useState)(!1),{data:O,isLoading:ve,isError:xe}=oe(h||_?.user_metadata?.username||r.username,_?.id),{mutate:Ce}=ge(),{data:we,isLoading:Te}=Se(O?.user?.id||``,S),De;e[0]===we?De=e[1]:(De=we===void 0?[]:we,e[0]=we,e[1]=De);let Oe=De,{data:ke}=Ee(y?_?.id:void 0),Ae;e[2]===ke?Ae=e[3]:(Ae=ke===void 0?[]:ke,e[2]=ke,e[3]=Ae);let Me=Ae,{data:Ne}=je(O?.user?.id),Fe;e[4]===Ne?Fe=e[5]:(Fe=Ne===void 0?[]:Ne,e[4]=Ne,e[5]=Fe);let A=Fe,j=O?.user,We;e[6]===O?.posts?We=e[7]:(We=O?.posts||[],e[6]=O?.posts,e[7]=We);let Ge=We,M=j?.isFollowing||!1,Ke;e[8]!==y||e[9]!==j?(Ke=()=>{j?.id&&!y&&se.rpc(`track_user_interaction`,{target_user_id:j.id,interaction_type:`visit`}).then(He)},e[8]=y,e[9]=j,e[10]=Ke):Ke=e[10];let qe=j?.id,Je;e[11]!==y||e[12]!==qe?(Je=[qe,y],e[11]=y,e[12]=qe,e[13]=Je):Je=e[13],ye.useEffect(Ke,Je);let Ye;e[14]===Symbol.for(`react.memo_cache_sentinel`)?(Ye=e=>re(e),e[14]=Ye):Ye=e[14];let Xe=Ye,Ze;e[15]===Symbol.for(`react.memo_cache_sentinel`)?(Ze=()=>re(null),e[15]=Ze):Ze=e[15];let Qe=Ze,$e;e[16]===g?$e=e[17]:($e=e=>{g(`/profile/${e.username}`)},e[16]=g,e[17]=$e);let et=$e,tt;e[18]!==_||e[19]!==O?.user?.id||e[20]!==Ce||e[21]!==j||e[22]!==M?(tt=()=>{!j?.username||!_?.id||!j.id||Ce({targetUserId:O?.user?.id||``,currentUserId:_.id,isFollowing:M,targetUsername:j.username})},e[18]=_,e[19]=O?.user?.id,e[20]=Ce,e[21]=j,e[22]=M,e[23]=tt):tt=e[23];let nt=tt,rt;e[24]===d?rt=e[25]:(rt=e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],n=new FileReader;n.onload=e=>{d(e.target?.result)},n.readAsDataURL(t)}},e[24]=d,e[25]=rt);let it=rt;if(ve){let t;e[26]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,k.jsx)(D,{className:`w-[150px] h-[150px] rounded-full`}),e[26]=t):t=e[26];let n;e[27]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,k.jsx)(D,{className:`h-8 w-[200px]`}),e[27]=n):n=e[27];let r;e[28]===Symbol.for(`react.memo_cache_sentinel`)?(r=(0,k.jsxs)(`header`,{className:`flex gap-12 items-center`,children:[t,(0,k.jsxs)(`div`,{className:`space-y-4 flex-grow`,children:[n,(0,k.jsxs)(`div`,{className:`flex gap-10`,children:[(0,k.jsx)(D,{className:`h-4 w-20`}),(0,k.jsx)(D,{className:`h-4 w-20`}),(0,k.jsx)(D,{className:`h-4 w-20`})]}),(0,k.jsx)(D,{className:`h-4 w-[300px]`})]})]}),e[28]=r):r=e[28];let i;return e[29]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,k.jsxs)(`div`,{className:`w-full max-w-[935px] px-4 md:px-5 py-[30px] space-y-8`,children:[r,(0,k.jsx)(`div`,{className:`grid grid-cols-3 gap-8`,children:[1,2,3,4,5,6].map(Ue)})]}),e[29]=i):i=e[29],i}if(xe||!j){let t;return e[30]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,k.jsx)(`div`,{className:`flex justify-center p-10 text-muted-foreground`,children:`Profile not found`}),e[30]=t):t=e[30],t}let at;e[31]===i?at=e[32]:(at=e=>e.length===0?(0,k.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-20 text-center`,children:[(0,k.jsx)(`div`,{className:`w-16 h-16 rounded-full border-2 border-foreground flex items-center justify-center mb-4`,children:(0,k.jsx)(l,{size:34,strokeWidth:1,className:`text-foreground`})}),(0,k.jsx)(`h2`,{className:`text-xl font-bold mb-2 text-muted-foreground`,children:`No posts yet`})]}):(0,k.jsx)(`div`,{className:`grid grid-cols-3 gap-1 md:gap-8`,children:e.map(e=>(0,k.jsxs)(`div`,{className:`relative aspect-square group cursor-pointer overflow-hidden`,onClick:()=>i(e),children:[(0,k.jsx)(`img`,{src:e.content.src||e.content.poster,className:`w-full h-full object-cover transition-transform duration-300 group-hover:scale-110`,alt:`post grid`,loading:`lazy`}),(0,k.jsxs)(`div`,{className:`absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-6 text-white font-bold z-20`,children:[(0,k.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,k.jsx)(n,{fill:`white`,size:20}),` `,e.likes]}),(0,k.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,k.jsx)(p,{fill:`white`,size:20,className:`-scale-x-100`}),` `,e.comments]})]})]},e.id))}),e[31]=i,e[32]=at);let N=at,P;e[33]!==Oe||e[34]!==Te||e[35]!==S||e[36]!==et?(P=S&&(0,k.jsx)(be,{title:S===`followers`?`Followers`:`Following`,users:Oe,loading:Te,onClose:Qe,onUserClick:e=>{et(e),Qe()}}),e[33]=Oe,e[34]=Te,e[35]=S,e[36]=et,e[37]=P):P=e[37];let F;e[38]===C?F=e[39]:(F=C&&(0,k.jsx)(Pe,{onClose:()=>de(!1)}),e[38]=C,e[39]=F);let I;e[40]===E?I=e[41]:(I=E&&(0,k.jsx)(Ie,{onClose:()=>he(!1)}),e[40]=E,e[41]=I);let ot;e[42]!==y||e[43]!==g?(ot=!y&&(0,k.jsx)(c,{size:24,onClick:()=>g(-1),className:`cursor-pointer mr-2`}),e[42]=y,e[43]=g,e[44]=ot):ot=e[44];let L;e[45]===j.isVerified?L=e[46]:(L=j.isVerified&&(0,k.jsx)(fe,{}),e[45]=j.isVerified,e[46]=L);let R;e[47]===y?R=e[48]:(R=y&&(0,k.jsx)(ae,{size:16}),e[47]=y,e[48]=R);let z;e[49]!==j.username||e[50]!==ot||e[51]!==L||e[52]!==R?(z=(0,k.jsxs)(`div`,{className:`flex items-center gap-1 font-bold text-lg text-foreground`,children:[ot,j.username,L,R]}),e[49]=j.username,e[50]=ot,e[51]=L,e[52]=R,e[53]=z):z=e[53];let B;e[54]!==y||e[55]!==f?(B=(0,k.jsx)(v,{size:24,className:`cursor-pointer`,onClick:()=>{y&&f(!0)}}),e[54]=y,e[55]=f,e[56]=B):B=e[56];let st;e[57]===Symbol.for(`react.memo_cache_sentinel`)?(st=(0,k.jsx)(ie,{size:24,className:`cursor-pointer`}),e[57]=st):st=e[57];let V;e[58]===B?V=e[59]:(V=(0,k.jsxs)(`div`,{className:`flex gap-6 text-foreground`,children:[B,st]}),e[58]=B,e[59]=V);let H;e[60]!==z||e[61]!==V?(H=(0,k.jsxs)(`div`,{className:`md:hidden sticky top-0 z-10 border-b border-border px-4 h-[44px] flex items-center justify-between bg-background/90 backdrop-blur-md`,children:[z,V]}),e[60]=z,e[61]=V,e[62]=H):H=e[62];let U;e[63]===j.avatar?U=e[64]:(U=(0,k.jsx)(w,{src:j.avatar}),e[63]=j.avatar,e[64]=U);let W;e[65]===j.username[0]?W=e[66]:(W=j.username[0].toUpperCase(),e[65]=j.username[0],e[66]=W);let G;e[67]===W?G=e[68]:(G=(0,k.jsx)(me,{className:`text-2xl`,children:W}),e[67]=W,e[68]=G);let K;e[69]!==U||e[70]!==G?(K=(0,k.jsxs)(ue,{className:`w-[77px] h-[77px] md:w-[150px] md:h-[150px] border border-border cursor-pointer`,children:[U,G]}),e[69]=U,e[70]=G,e[71]=K):K=e[71];let q;e[72]!==it||e[73]!==y?(q=y&&(0,k.jsxs)(`label`,{className:`absolute bottom-0 right-10 md:right-16 bg-[#0095f6] rounded-full p-1 border-2 border-background cursor-pointer`,children:[(0,k.jsx)(te,{size:16,className:`text-white`}),(0,k.jsx)(`input`,{type:`file`,className:`hidden`,accept:`image/*`,onChange:it})]}),e[72]=it,e[73]=y,e[74]=q):q=e[74];let J;e[75]!==K||e[76]!==q?(J=(0,k.jsxs)(`div`,{className:`flex-shrink-0 md:w-[290px] flex justify-start md:justify-center relative`,children:[K,q]}),e[75]=K,e[76]=q,e[77]=J):J=e[77];let ct=j.stats?.posts||0,Y;e[78]===ct?Y=e[79]:(Y=(0,k.jsx)(`span`,{className:`font-semibold text-lg`,children:ct}),e[78]=ct,e[79]=Y);let lt;e[80]===Symbol.for(`react.memo_cache_sentinel`)?(lt=(0,k.jsx)(`span`,{className:`text-sm text-muted-foreground`,children:`posts`}),e[80]=lt):lt=e[80];let X;e[81]===Y?X=e[82]:(X=(0,k.jsxs)(`div`,{className:`flex flex-col`,children:[Y,lt]}),e[81]=Y,e[82]=X);let ut;e[83]===Symbol.for(`react.memo_cache_sentinel`)?(ut=()=>Xe(`followers`),e[83]=ut):ut=e[83];let dt=j.stats?.followers||0,Z;e[84]===dt?Z=e[85]:(Z=(0,k.jsx)(`span`,{className:`font-semibold text-lg`,children:dt}),e[84]=dt,e[85]=Z);let ft;e[86]===Symbol.for(`react.memo_cache_sentinel`)?(ft=(0,k.jsx)(`span`,{className:`text-sm text-muted-foreground`,children:`followers`}),e[86]=ft):ft=e[86];let pt;e[87]===Z?pt=e[88]:(pt=(0,k.jsxs)(`div`,{className:`flex flex-col cursor-pointer`,onClick:ut,children:[Z,ft]}),e[87]=Z,e[88]=pt);let mt;e[89]===Symbol.for(`react.memo_cache_sentinel`)?(mt=()=>Xe(`following`),e[89]=mt):mt=e[89];let ht=j.stats?.following||0,gt;e[90]===ht?gt=e[91]:(gt=(0,k.jsx)(`span`,{className:`font-semibold text-lg`,children:ht}),e[90]=ht,e[91]=gt);let _t;e[92]===Symbol.for(`react.memo_cache_sentinel`)?(_t=(0,k.jsx)(`span`,{className:`text-sm text-muted-foreground`,children:`following`}),e[92]=_t):_t=e[92];let vt;e[93]===gt?vt=e[94]:(vt=(0,k.jsxs)(`div`,{className:`flex flex-col cursor-pointer`,onClick:mt,children:[gt,_t]}),e[93]=gt,e[94]=vt);let yt;e[95]!==X||e[96]!==pt||e[97]!==vt?(yt=(0,k.jsxs)(`div`,{className:`flex md:hidden justify-around flex-grow text-center text-foreground`,children:[X,pt,vt]}),e[95]=X,e[96]=pt,e[97]=vt,e[98]=yt):yt=e[98];let bt;e[99]!==J||e[100]!==yt?(bt=(0,k.jsxs)(`div`,{className:`flex flex-row md:flex-col items-center gap-8 md:gap-0 w-full md:w-auto`,children:[J,yt]}),e[99]=J,e[100]=yt,e[101]=bt):bt=e[101];let xt;e[102]===j.isVerified?xt=e[103]:(xt=j.isVerified&&(0,k.jsx)(fe,{}),e[102]=j.isVerified,e[103]=xt);let St;e[104]!==j.username||e[105]!==xt?(St=(0,k.jsxs)(`h2`,{className:`text-xl font-normal mr-2 hidden md:flex items-center gap-1 text-foreground`,children:[j.username,xt]}),e[104]=j.username,e[105]=xt,e[106]=St):St=e[106];let Ct;e[107]!==nt||e[108]!==y||e[109]!==g||e[110]!==j||e[111]!==a||e[112]!==M?(Ct=(0,k.jsx)(`div`,{className:`flex gap-2 w-full md:w-auto`,children:y?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(T,{variant:`secondary`,onClick:()=>a(!0),className:`text-sm font-semibold h-8`,children:`Edit profile`}),(0,k.jsx)(T,{variant:`secondary`,onClick:()=>he(!0),className:`text-sm font-semibold h-8`,children:`View Archive`})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(T,{onClick:nt,className:pe(`text-sm font-semibold h-8`,!M&&`bg-[#006a4e] text-white hover:bg-[#00523c]`),variant:M?`secondary`:`default`,children:M?`Following`:`Follow`}),(0,k.jsx)(T,{variant:`secondary`,onClick:()=>g(`/messages/${j.username}`,{state:{user:j}}),className:`text-sm font-semibold h-8`,children:`Message`})]})}),e[107]=nt,e[108]=y,e[109]=g,e[110]=j,e[111]=a,e[112]=M,e[113]=Ct):Ct=e[113];let wt;e[114]===y?wt=e[115]:(wt=y&&(0,k.jsx)(T,{variant:`ghost`,size:`icon`,onClick:()=>de(!0),className:`hidden md:flex text-foreground`,children:(0,k.jsx)(ee,{size:24})}),e[114]=y,e[115]=wt);let Tt;e[116]!==St||e[117]!==Ct||e[118]!==wt?(Tt=(0,k.jsxs)(`div`,{className:`flex flex-col md:flex-row items-start md:items-center gap-4`,children:[St,Ct,wt]}),e[116]=St,e[117]=Ct,e[118]=wt,e[119]=Tt):Tt=e[119];let Et=j.stats?.posts||0,Dt;e[120]===Et?Dt=e[121]:(Dt=(0,k.jsxs)(`span`,{children:[(0,k.jsx)(`span`,{className:`font-semibold`,children:Et}),` `,`Posts`]}),e[120]=Et,e[121]=Dt);let Ot;e[122]===Symbol.for(`react.memo_cache_sentinel`)?(Ot=()=>Xe(`followers`),e[122]=Ot):Ot=e[122];let kt=j.stats?.followers||0,At;e[123]===kt?At=e[124]:(At=(0,k.jsxs)(`span`,{className:`cursor-pointer`,onClick:Ot,children:[(0,k.jsx)(`span`,{className:`font-semibold`,children:kt}),` `,`Followers`]}),e[123]=kt,e[124]=At);let jt;e[125]===Symbol.for(`react.memo_cache_sentinel`)?(jt=()=>Xe(`following`),e[125]=jt):jt=e[125];let Mt=j.stats?.following||0,Nt;e[126]===Mt?Nt=e[127]:(Nt=(0,k.jsxs)(`span`,{className:`cursor-pointer`,onClick:jt,children:[(0,k.jsx)(`span`,{className:`font-semibold`,children:Mt}),` `,`Following`]}),e[126]=Mt,e[127]=Nt);let Q;e[128]!==Dt||e[129]!==At||e[130]!==Nt?(Q=(0,k.jsxs)(`div`,{className:`hidden md:flex gap-10 text-base text-foreground`,children:[Dt,At,Nt]}),e[128]=Dt,e[129]=At,e[130]=Nt,e[131]=Q):Q=e[131];let Pt;e[132]===j.name?Pt=e[133]:(Pt=(0,k.jsx)(`div`,{className:`font-semibold`,children:j.name}),e[132]=j.name,e[133]=Pt);let Ft;e[134]!==y||e[135]!==j.isOnline||e[136]!==j.lastSeen?(Ft=!y&&(0,k.jsx)(_e,{isOnline:j.isOnline||!1,lastSeen:j.lastSeen||null}),e[134]=y,e[135]=j.isOnline,e[136]=j.lastSeen,e[137]=Ft):Ft=e[137];let It;e[138]!==Pt||e[139]!==Ft?(It=(0,k.jsxs)(`div`,{className:`flex items-center gap-2`,children:[Pt,Ft]}),e[138]=Pt,e[139]=Ft,e[140]=It):It=e[140];let Lt;e[141]===Symbol.for(`react.memo_cache_sentinel`)?(Lt=(0,k.jsx)(o,{size:10}),e[141]=Lt):Lt=e[141];let Rt;e[142]===Symbol.for(`react.memo_cache_sentinel`)?(Rt=(0,k.jsxs)(`div`,{className:`flex items-center gap-1 bg-muted w-fit px-2 py-1 rounded-full text-xs text-muted-foreground mt-1 mb-2 cursor-pointer hover:bg-accent`,children:[Lt,` `,(0,k.jsx)(`span`,{children:`Threads`})]}),e[142]=Rt):Rt=e[142];let zt=j.bio||``,Bt;e[143]===zt?Bt=e[144]:(Bt=(0,k.jsx)(`div`,{className:`whitespace-pre-wrap`,children:zt}),e[143]=zt,e[144]=Bt);let Vt;e[145]!==It||e[146]!==Bt?(Vt=(0,k.jsxs)(`div`,{className:`text-sm px-1 md:px-0 text-foreground`,children:[It,Rt,Bt]}),e[145]=It,e[146]=Bt,e[147]=Vt):Vt=e[147];let Ht;e[148]!==Tt||e[149]!==Q||e[150]!==Vt?(Ht=(0,k.jsxs)(`div`,{className:`flex-grow flex flex-col gap-4 w-full`,children:[Tt,Q,Vt]}),e[148]=Tt,e[149]=Q,e[150]=Vt,e[151]=Ht):Ht=e[151];let Ut;e[152]!==bt||e[153]!==Ht?(Ut=(0,k.jsxs)(`header`,{className:`flex flex-col md:flex-row gap-6 md:gap-12 mb-4 md:mb-10 items-start md:items-stretch px-4 md:px-0 pt-4 md:pt-0`,children:[bt,Ht]}),e[152]=bt,e[153]=Ht,e[154]=Ut):Ut=e[154];let Wt;e[155]===y?Wt=e[156]:(Wt=y&&(0,k.jsx)(`div`,{className:`mb-10 flex gap-4 overflow-x-auto pb-2 scrollbar-hide px-4 md:px-0`,children:(0,k.jsxs)(`div`,{className:`flex flex-col items-center gap-2 cursor-pointer group`,children:[(0,k.jsx)(`div`,{className:`w-[64px] h-[64px] md:w-[77px] md:h-[77px] rounded-full border border-border bg-background flex items-center justify-center group-hover:bg-muted transition-colors`,children:(0,k.jsx)(`div`,{className:`w-[60px] h-[60px] md:w-[74px] md:h-[74px] rounded-full border-[2px] border-inherit flex items-center justify-center`,children:(0,k.jsx)(v,{size:24,strokeWidth:1,className:`text-muted-foreground md:w-8 md:h-8`})})}),(0,k.jsx)(`span`,{className:`text-xs font-semibold text-foreground`,children:`New`})]})}),e[155]=y,e[156]=Wt);let Gt;e[157]===Symbol.for(`react.memo_cache_sentinel`)?(Gt=(0,k.jsxs)(ze,{value:`posts`,className:`data-[state=active]:border-foreground data-[state=active]:text-foreground border-t-2 border-transparent rounded-none flex items-center gap-2 h-[44px] md:h-[52px] bg-transparent px-0 flex-1 md:flex-none text-xs font-semibold tracking-widest uppercase transition-all shadow-none`,children:[(0,k.jsx)(s,{size:12,className:`md:size-3 size-6`}),(0,k.jsx)(`span`,{className:`hidden md:block`,children:`Posts`})]}),e[157]=Gt):Gt=e[157];let Kt;e[158]===y?Kt=e[159]:(Kt=y&&(0,k.jsxs)(ze,{value:`saved`,className:`data-[state=active]:border-foreground data-[state=active]:text-foreground border-t-2 border-transparent rounded-none flex items-center gap-2 h-[44px] md:h-[52px] bg-transparent px-0 flex-1 md:flex-none text-xs font-semibold tracking-widest uppercase transition-all shadow-none`,children:[(0,k.jsx)(u,{size:12,className:`md:size-3 size-6`}),(0,k.jsx)(`span`,{className:`hidden md:block`,children:`Saved`})]}),e[158]=y,e[159]=Kt);let qt;e[160]===Symbol.for(`react.memo_cache_sentinel`)?(qt=(0,k.jsxs)(ze,{value:`tagged`,className:`data-[state=active]:border-foreground data-[state=active]:text-foreground border-t-2 border-transparent rounded-none flex items-center gap-2 h-[44px] md:h-[52px] bg-transparent px-0 flex-1 md:flex-none text-xs font-semibold tracking-widest uppercase transition-all shadow-none`,children:[(0,k.jsx)(t,{size:12,className:`md:size-3 size-6`}),(0,k.jsx)(`span`,{className:`hidden md:block`,children:`Tagged`})]}),e[160]=qt):qt=e[160];let Jt;e[161]===Kt?Jt=e[162]:(Jt=(0,k.jsxs)(Re,{className:`w-full justify-around md:justify-center gap-0 md:gap-12 bg-transparent border-t border-border rounded-none h-auto p-0`,children:[Gt,Kt,qt]}),e[161]=Kt,e[162]=Jt);let Yt;e[163]!==N||e[164]!==Ge?(Yt=(0,k.jsx)(Be,{value:`posts`,children:N(Ge)}),e[163]=N,e[164]=Ge,e[165]=Yt):Yt=e[165];let Xt;e[166]!==y||e[167]!==Me||e[168]!==N?(Xt=y&&(0,k.jsx)(Be,{value:`saved`,children:N(Me)}),e[166]=y,e[167]=Me,e[168]=N,e[169]=Xt):Xt=e[169];let Zt;e[170]!==N||e[171]!==A?(Zt=(0,k.jsx)(Be,{value:`tagged`,children:N(A)}),e[170]=N,e[171]=A,e[172]=Zt):Zt=e[172];let Qt;e[173]!==Yt||e[174]!==Xt||e[175]!==Zt?(Qt=(0,k.jsxs)(`div`,{className:`mt-4`,children:[Yt,Xt,Zt]}),e[173]=Yt,e[174]=Xt,e[175]=Zt,e[176]=Qt):Qt=e[176];let $;e[177]!==b||e[178]!==Jt||e[179]!==Qt?($=(0,k.jsxs)(Le,{defaultValue:`posts`,value:b,onValueChange:x,className:`w-full`,children:[Jt,Qt]}),e[177]=b,e[178]=Jt,e[179]=Qt,e[180]=$):$=e[180];let $t;return e[181]!==P||e[182]!==F||e[183]!==I||e[184]!==H||e[185]!==Ut||e[186]!==Wt||e[187]!==$?($t=(0,k.jsxs)(`div`,{className:`w-full max-w-[935px] px-0 md:px-5 py-0 md:py-[30px]`,children:[P,F,I,H,Ut,Wt,$]}),e[181]=P,e[182]=F,e[183]=I,e[184]=H,e[185]=Ut,e[186]=Wt,e[187]=$,e[188]=$t):$t=e[188],$t};function He(e){let{error:t}=e;t&&console.error(`Tracking error`,t)}function Ue(e){return(0,k.jsx)(D,{className:`aspect-square`},e)}export{j as default};