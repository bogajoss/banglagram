import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{$t as t,At as n,B as r,Et as i,Ft as a,G as o,Gt as s,J as c,Mt as l,Nt as u,Q as d,Rt as f,Tt as p,Ut as m,Y as h,_t as g,ct as _,dt as v,en as y,i as b,jt as x,n as S,r as C,rn as w,st as T,t as E,ut as ee,yt as D}from"./vendor-CYhgnaJV.js";import{wt as O}from"./libs-BZRZkBIg.js";import"./tanstack-CjdblyHw.js";import"./supabase-CVUXu_xj.js";import{A as k,E as A,F as te,I as ne,M as j,N as M,P as N,S as P,b as F,c as I,j as L,k as R,v as z,x as B,y as V}from"./index-ywtYYkZ-.js";import{t as re}from"./useFollowUser-Dc9NDPhU.js";import{t as ie}from"./UserStatus-Dw0OykAG.js";var ae=f(),H=e(w(),1),U=s(),oe=e=>{let t=(0,ae.c)(20),{title:n,users:r,onClose:i,onUserClick:a,loading:o}=e,s;t[0]===i?s=t[1]:(s=e=>!e&&i(),t[0]=i,t[1]=s);let c;t[2]===n?c=t[3]:(c=(0,U.jsx)(B,{className:`p-3 border-b text-center relative`,children:(0,U.jsx)(P,{className:`text-center font-bold`,children:n})}),t[2]=n,t[3]=c);let l;t[4]!==o||t[5]!==a||t[6]!==r?(l=o?(0,U.jsx)(`div`,{className:`flex items-center justify-center h-full`,children:(0,U.jsx)(`div`,{className:`w-8 h-8 border-4 border-[#006a4e] border-t-transparent rounded-full animate-spin`})}):r.map((e,t)=>(0,U.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded-lg hover:bg-muted cursor-pointer`,onClick:()=>a(e),children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,U.jsxs)(L,{className:`w-12 h-12`,children:[(0,U.jsx)(M,{src:e.avatar}),(0,U.jsx)(j,{children:e.username?.[0]?.toUpperCase()||`?`})]}),(0,U.jsxs)(`div`,{className:`flex flex-col`,children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,U.jsx)(`span`,{className:`text-sm font-semibold`,children:e.username}),e.isVerified&&(0,U.jsx)(I,{})]}),(0,U.jsx)(`span`,{className:`text-xs opacity-70`,children:e.name||e.username})]})]}),(0,U.jsx)(`button`,{className:`px-4 py-1.5 rounded-lg text-sm font-semibold bg-[#006a4e] text-white hover:bg-[#00523c]`,children:`Follow`})]},t)),t[4]=o,t[5]=a,t[6]=r,t[7]=l):l=t[7];let u;t[8]!==o||t[9]!==r?(u=!o&&r.length===0&&(0,U.jsx)(`div`,{className:`text-center py-10 text-sm opacity-60`,children:`List is empty`}),t[8]=o,t[9]=r,t[10]=u):u=t[10];let d;t[11]!==l||t[12]!==u?(d=(0,U.jsxs)(`div`,{className:`h-80 overflow-y-auto p-2`,children:[l,u]}),t[11]=l,t[12]=u,t[13]=d):d=t[13];let f;t[14]!==c||t[15]!==d?(f=(0,U.jsx)(F,{className:`max-w-md p-0 overflow-hidden border-none rounded-xl`,children:(0,U.jsxs)(`div`,{className:`bg-background text-foreground`,children:[c,d]})}),t[14]=c,t[15]=d,t[16]=f):f=t[16];let p;return t[17]!==s||t[18]!==f?(p=(0,U.jsx)(V,{open:!0,onOpenChange:s,children:f}),t[17]=s,t[18]=f,t[19]=p):p=t[19],p},se=f();const ce=(e,t)=>{let n=(0,se.c)(8),r,i;n[0]!==t||n[1]!==e?(r=[`follows`,e,t],i=async()=>{if(!e||!t)return[];let n=R.from(`follows`).select(`
        follower_id,
        following_id,
        follower:profiles!follower_id(username, full_name, avatar_url, id, is_verified),
        following:profiles!following_id(username, full_name, avatar_url, id, is_verified)
      `);n=t===`followers`?n.eq(`following_id`,e):n.eq(`follower_id`,e);let{data:r,error:i}=await n;if(i)throw i;return(r||[]).map(e=>{let n=t===`followers`?e.follower:e.following;return n?{username:n.username,name:n.full_name||n.username||`User`,avatar:n.avatar_url||``,id:n.id,isVerified:n.is_verified||!1,stats:{posts:0,followers:0,following:0},isFollowing:!1}:null}).filter(Boolean)},n[0]=t,n[1]=e,n[2]=r,n[3]=i):(r=n[2],i=n[3]);let a=!!e&&!!t,o;return n[4]!==r||n[5]!==i||n[6]!==a?(o={queryKey:r,queryFn:i,enabled:a},n[4]=r,n[5]=i,n[6]=a,n[7]=o):o=n[7],m(o)};var W=f(),G=e(O(),1);const le=[`savedPosts`],ue=e=>{let t=(0,W.c)(8),n;t[0]===e?n=t[1]:(n=[...le,e],t[0]=e,t[1]=n);let r=!!e,i;t[2]===e?i=t[3]:(i=async()=>{if(!e)return[];let{data:t,error:n}=await R.from(`saves`).select(`
            created_at,
            post:posts (
                *,
                likes (count),
                comments (count),
                user:profiles (
                    username, full_name, avatar_url, is_verified
                )
            )
        `).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n)throw n;return t.map(de).filter(Boolean)},t[2]=e,t[3]=i);let a;return t[4]!==n||t[5]!==r||t[6]!==i?(a={queryKey:n,enabled:r,queryFn:i},t[4]=n,t[5]=r,t[6]=i,t[7]=a):a=t[7],m(a)};function de(e){let t=e.post;return t?{id:t.id,user:{username:t.user?.username||`Unknown`,name:t.user?.full_name||``,avatar:t.user?.avatar_url||``,isVerified:t.user?.is_verified||!1},content:{type:`image`,src:t.image_url},likes:t.likes?.[0]?.count||0,caption:t.caption||``,comments:t.comments?.[0]?.count||0,time:(0,G.default)(t.created_at).fromNow(),hasLiked:!1,hasSaved:!0,isVerified:t.user?.is_verified||!1}:null}var K=f(),fe=e(O(),1);const q=[`taggedPosts`],pe=e=>{let t=(0,K.c)(8),n;t[0]===e?n=t[1]:(n=[...q,e],t[0]=e,t[1]=n);let r=!!e,i;t[2]===e?i=t[3]:(i=async()=>{if(!e)return[];let{data:t,error:n}=await R.from(`post_tags`).select(`
            post:posts (
                *,
                likes (count),
                comments (count),
                user:profiles (
                    username, full_name, avatar_url, is_verified
                )
            )
        `).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n){if(n.code===`42P01`)return[];throw n}return t.map(J).filter(Boolean)},t[2]=e,t[3]=i);let a;return t[4]!==n||t[5]!==r||t[6]!==i?(a={queryKey:n,enabled:r,queryFn:i},t[4]=n,t[5]=r,t[6]=i,t[7]=a):a=t[7],m(a)};function J(e){let t=e.post;return t?{id:t.id,user:{username:t.user?.username||`Unknown`,name:t.user?.full_name||``,avatar:t.user?.avatar_url||``,isVerified:t.user?.is_verified||!1},content:{type:`image`,src:t.image_url},likes:t.likes?.[0]?.count||0,caption:t.caption||``,comments:t.comments?.[0]?.count||0,time:(0,fe.default)(t.created_at).fromNow(),hasLiked:!1,hasSaved:!1,isVerified:t.user?.is_verified||!1}:null}var Y=f(),me=e=>{let t=(0,Y.c)(38),{onClose:n}=e,{showToast:r}=ne(),{signOut:i}=te(),a;t[0]!==n||t[1]!==i?(a=async()=>{await i(),n()},t[0]=n,t[1]=i,t[2]=a):a=t[2];let o=a,s;t[3]===r?s=t[4]:(s=e=>{r(`${e} - Coming soon`)},t[3]=r,t[4]=s);let u=s,d;t[5]===n?d=t[6]:(d=e=>!e&&n(),t[5]=n,t[6]=d);let f;t[7]===Symbol.for(`react.memo_cache_sentinel`)?(f=(0,U.jsx)(B,{className:`p-4 border-b`,children:(0,U.jsx)(P,{className:`text-center font-bold`,children:`Settings`})}),t[7]=f):f=t[7];let p;t[8]===u?p=t[9]:(p=()=>u(`Notifications`),t[8]=u,t[9]=p);let m,h;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(m=(0,U.jsx)(l,{size:20}),h=(0,U.jsx)(`span`,{children:`Notifications and Sounds`}),t[10]=m,t[11]=h):(m=t[10],h=t[11]);let g;t[12]===p?g=t[13]:(g=(0,U.jsxs)(k,{variant:`ghost`,onClick:p,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[m,h]}),t[12]=p,t[13]=g);let _;t[14]===u?_=t[15]:(_=()=>u(`Privacy`),t[14]=u,t[15]=_);let y,b;t[16]===Symbol.for(`react.memo_cache_sentinel`)?(y=(0,U.jsx)(v,{size:20}),b=(0,U.jsx)(`span`,{children:`Privacy and Security`}),t[16]=y,t[17]=b):(y=t[16],b=t[17]);let x;t[18]===_?x=t[19]:(x=(0,U.jsxs)(k,{variant:`ghost`,onClick:_,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[y,b]}),t[18]=_,t[19]=x);let S;t[20]===u?S=t[21]:(S=()=>u(`Account`),t[20]=u,t[21]=S);let C,w;t[22]===Symbol.for(`react.memo_cache_sentinel`)?(C=(0,U.jsx)(c,{size:20}),w=(0,U.jsx)(`span`,{children:`Account Center`}),t[22]=C,t[23]=w):(C=t[22],w=t[23]);let T;t[24]===S?T=t[25]:(T=(0,U.jsxs)(k,{variant:`ghost`,onClick:S,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[C,w]}),t[24]=S,t[25]=T);let E,D;t[26]===Symbol.for(`react.memo_cache_sentinel`)?(E=(0,U.jsx)(ee,{size:20}),D=(0,U.jsx)(`span`,{children:`Log Out`}),t[26]=E,t[27]=D):(E=t[26],D=t[27]);let O;t[28]===o?O=t[29]:(O=(0,U.jsxs)(k,{variant:`ghost`,onClick:o,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none text-red-500 hover:text-red-600 hover:bg-red-500/10`,children:[E,D]}),t[28]=o,t[29]=O);let A;t[30]!==x||t[31]!==T||t[32]!==O||t[33]!==g?(A=(0,U.jsx)(F,{className:`max-w-sm p-0 overflow-hidden border-none rounded-xl`,children:(0,U.jsxs)(`div`,{className:`flex flex-col bg-background text-foreground`,children:[f,g,x,T,O]})}),t[30]=x,t[31]=T,t[32]=O,t[33]=g,t[34]=A):A=t[34];let j;return t[35]!==A||t[36]!==d?(j=(0,U.jsx)(V,{open:!0,onOpenChange:d,children:A}),t[35]=A,t[36]=d,t[37]=j):j=t[37],j},he=f(),ge=e=>{let t=(0,he.c)(6),{onClose:n}=e,r;t[0]===n?r=t[1]:(r=e=>!e&&n(),t[0]=n,t[1]=r);let i;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,U.jsx)(B,{className:`p-4 border-b flex flex-row items-center justify-between space-y-0`,children:(0,U.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,U.jsxs)(P,{className:`font-bold flex items-center gap-2`,children:[(0,U.jsx)(`span`,{children:`Archive`}),(0,U.jsx)(a,{size:16,className:`opacity-50`})]})})}),t[2]=i):i=t[2];let o;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,U.jsxs)(F,{className:`max-w-sm rounded-xl overflow-hidden p-0 gap-0 border-none`,children:[i,(0,U.jsxs)(`div`,{className:`h-64 flex flex-col items-center justify-center p-6 text-center opacity-70 bg-background`,children:[(0,U.jsx)(`div`,{className:`p-4 rounded-full mb-4 bg-muted`,children:(0,U.jsx)(a,{size:32})}),(0,U.jsx)(`h3`,{className:`font-bold text-lg mb-1`,children:`Archive is empty`}),(0,U.jsx)(`p`,{className:`text-sm`,children:`When you archive posts or stories, they will appear here.`})]})]}),t[3]=o):o=t[3];let s;return t[4]===r?s=t[5]:(s=(0,U.jsx)(V,{open:!0,onOpenChange:r,children:o}),t[4]=r,t[5]=s),s},X=f();function _e(e){let t=(0,X.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=N(`flex flex-col gap-2`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,U.jsx)(C,{"data-slot":`tabs`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}function ve(e){let t=(0,X.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=N(`bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,U.jsx)(S,{"data-slot":`tabs-list`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}function Z(e){let t=(0,X.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=N(`data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,U.jsx)(b,{"data-slot":`tabs-trigger`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}function Q(e){let t=(0,X.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=N(`flex-1 outline-none`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,U.jsx)(E,{"data-slot":`tabs-content`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}var ye=()=>{let{currentUser:e,setViewingPost:a,setEditProfileOpen:s,addStory:c,setCreateModalOpen:l}=ne(),{username:f}=y(),m=t(),{user:v}=te(),b=!f||f===v?.user_metadata?.username,[S,C]=(0,H.useState)(`posts`),[w,E]=(0,H.useState)(null),[ee,O]=(0,H.useState)(!1),[P,F]=(0,H.useState)(!1),{data:B,isLoading:V,isError:ae}=A(f||v?.user_metadata?.username||e.username,v?.id),{mutate:se}=re(),{data:W=[],isLoading:G}=ce(B?.user?.id||``,w),{data:le=[]}=ue(b?v?.id:void 0),{data:de=[]}=pe(B?.user?.id),K=B?.user,fe=B?.posts||[],q=K?.isFollowing||!1;H.useEffect(()=>{K?.id&&!b&&R.rpc(`track_user_interaction`,{target_user_id:K.id,interaction_type:`visit`}).then(({error:e})=>{e&&console.error(`Tracking error`,e)})},[K?.id,b]);let J=e=>E(e),Y=()=>E(null),he=e=>{m(`/profile/${e.username}`)},X=()=>{!K?.username||!v?.id||!K.id||se({targetUserId:B?.user?.id||``,currentUserId:v.id,isFollowing:q,targetUsername:K.username})},ye=e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],n=new FileReader;n.onload=e=>{c(e.target?.result)},n.readAsDataURL(t)}};if(V)return(0,U.jsxs)(`div`,{className:`w-full max-w-[935px] px-4 md:px-5 py-[30px] space-y-8`,children:[(0,U.jsxs)(`header`,{className:`flex gap-12 items-center`,children:[(0,U.jsx)(z,{className:`w-[150px] h-[150px] rounded-full`}),(0,U.jsxs)(`div`,{className:`space-y-4 flex-grow`,children:[(0,U.jsx)(z,{className:`h-8 w-[200px]`}),(0,U.jsxs)(`div`,{className:`flex gap-10`,children:[(0,U.jsx)(z,{className:`h-4 w-20`}),(0,U.jsx)(z,{className:`h-4 w-20`}),(0,U.jsx)(z,{className:`h-4 w-20`})]}),(0,U.jsx)(z,{className:`h-4 w-[300px]`})]})]}),(0,U.jsx)(`div`,{className:`grid grid-cols-3 gap-8`,children:[1,2,3,4,5,6].map(e=>(0,U.jsx)(z,{className:`aspect-square`},e))})]});if(ae||!K)return(0,U.jsx)(`div`,{className:`flex justify-center p-10 text-muted-foreground`,children:`Profile not found`});let $=e=>e.length===0?(0,U.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-20 text-center`,children:[(0,U.jsx)(`div`,{className:`w-16 h-16 rounded-full border-2 border-foreground flex items-center justify-center mb-4`,children:(0,U.jsx)(n,{size:34,strokeWidth:1,className:`text-foreground`})}),(0,U.jsx)(`h2`,{className:`text-xl font-bold mb-2 text-muted-foreground`,children:`No posts yet`})]}):(0,U.jsx)(`div`,{className:`grid grid-cols-3 gap-1 md:gap-8`,children:e.map(e=>{let t=e.content.src||e.content.poster;try{t&&t.startsWith(`[`)&&(t=JSON.parse(t)[0])}catch{}return(0,U.jsxs)(`div`,{className:`relative aspect-square group cursor-pointer overflow-hidden`,onClick:()=>a(e),children:[(0,U.jsx)(`img`,{src:t,className:`w-full h-full object-cover transition-transform duration-300 group-hover:scale-110`,alt:`post grid`,loading:`lazy`}),(0,U.jsxs)(`div`,{className:`absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-6 text-white font-bold z-20`,children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,U.jsx)(g,{fill:`white`,size:20}),` `,e.likes]}),(0,U.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,U.jsx)(T,{fill:`white`,size:20,className:`-scale-x-100`}),` `,e.comments]})]})]},e.id)})});return(0,U.jsxs)(`div`,{className:`w-full max-w-[935px] px-0 md:px-5 py-0 md:py-[30px]`,children:[w&&(0,U.jsx)(oe,{title:w===`followers`?`Followers`:`Following`,users:W,loading:G,onClose:Y,onUserClick:e=>{he(e),Y()}}),ee&&(0,U.jsx)(me,{onClose:()=>O(!1)}),P&&(0,U.jsx)(ge,{onClose:()=>F(!1)}),(0,U.jsxs)(`div`,{className:`md:hidden sticky top-0 z-10 border-b border-border px-4 h-[44px] flex items-center justify-between bg-background/90 backdrop-blur-md`,children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-1 font-bold text-lg text-foreground`,children:[!b&&(0,U.jsx)(p,{size:24,onClick:()=>m(-1),className:`cursor-pointer mr-2`}),K.username,K.isVerified&&(0,U.jsx)(I,{}),b&&(0,U.jsx)(i,{size:16})]}),(0,U.jsxs)(`div`,{className:`flex gap-6 text-foreground`,children:[(0,U.jsx)(o,{size:24,className:`cursor-pointer`,onClick:()=>{b&&l(!0)}}),(0,U.jsx)(_,{size:24,className:`cursor-pointer`})]})]}),(0,U.jsxs)(`header`,{className:`flex flex-col md:flex-row gap-6 md:gap-12 mb-4 md:mb-10 items-start md:items-stretch px-4 md:px-0 pt-4 md:pt-0`,children:[(0,U.jsxs)(`div`,{className:`flex flex-row md:flex-col items-center gap-8 md:gap-0 w-full md:w-auto`,children:[(0,U.jsxs)(`div`,{className:`flex-shrink-0 md:w-[290px] flex justify-start md:justify-center relative`,children:[(0,U.jsxs)(L,{className:`w-[77px] h-[77px] md:w-[150px] md:h-[150px] border border-border cursor-pointer`,children:[(0,U.jsx)(M,{src:K.avatar}),(0,U.jsx)(j,{className:`text-2xl`,children:K.username[0].toUpperCase()})]}),b&&(0,U.jsxs)(`label`,{className:`absolute bottom-0 right-10 md:right-16 bg-[#0095f6] rounded-full p-1 border-2 border-background cursor-pointer`,children:[(0,U.jsx)(d,{size:16,className:`text-white`}),(0,U.jsx)(`input`,{type:`file`,className:`hidden`,accept:`image/*`,onChange:ye})]})]}),(0,U.jsxs)(`div`,{className:`flex md:hidden justify-around flex-grow text-center text-foreground`,children:[(0,U.jsxs)(`div`,{className:`flex flex-col`,children:[(0,U.jsx)(`span`,{className:`font-semibold text-lg`,children:K.stats?.posts||0}),(0,U.jsx)(`span`,{className:`text-sm text-muted-foreground`,children:`posts`})]}),(0,U.jsxs)(`div`,{className:`flex flex-col cursor-pointer`,onClick:()=>J(`followers`),children:[(0,U.jsx)(`span`,{className:`font-semibold text-lg`,children:K.stats?.followers||0}),(0,U.jsx)(`span`,{className:`text-sm text-muted-foreground`,children:`followers`})]}),(0,U.jsxs)(`div`,{className:`flex flex-col cursor-pointer`,onClick:()=>J(`following`),children:[(0,U.jsx)(`span`,{className:`font-semibold text-lg`,children:K.stats?.following||0}),(0,U.jsx)(`span`,{className:`text-sm text-muted-foreground`,children:`following`})]})]})]}),(0,U.jsxs)(`div`,{className:`flex-grow flex flex-col gap-4 w-full`,children:[(0,U.jsxs)(`div`,{className:`flex flex-col md:flex-row items-start md:items-center gap-4`,children:[(0,U.jsxs)(`h2`,{className:`text-xl font-normal mr-2 hidden md:flex items-center gap-1 text-foreground`,children:[K.username,K.isVerified&&(0,U.jsx)(I,{})]}),(0,U.jsx)(`div`,{className:`flex gap-2 w-full md:w-auto`,children:b?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(k,{variant:`secondary`,onClick:()=>s(!0),className:`text-sm font-semibold h-8`,children:`Edit profile`}),(0,U.jsx)(k,{variant:`secondary`,onClick:()=>F(!0),className:`text-sm font-semibold h-8`,children:`View Archive`})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(k,{onClick:X,className:N(`text-sm font-semibold h-8`,!q&&`bg-[#006a4e] text-white hover:bg-[#00523c]`),variant:q?`secondary`:`default`,children:q?`Following`:`Follow`}),(0,U.jsx)(k,{variant:`secondary`,onClick:()=>m(`/messages/${K.username}`,{state:{user:K}}),className:`text-sm font-semibold h-8`,children:`Message`})]})}),b&&(0,U.jsx)(k,{variant:`ghost`,size:`icon`,onClick:()=>O(!0),className:`hidden md:flex text-foreground`,children:(0,U.jsx)(h,{size:24})})]}),(0,U.jsxs)(`div`,{className:`hidden md:flex gap-10 text-base text-foreground`,children:[(0,U.jsxs)(`span`,{children:[(0,U.jsx)(`span`,{className:`font-semibold`,children:K.stats?.posts||0}),` `,`Posts`]}),(0,U.jsxs)(`span`,{className:`cursor-pointer`,onClick:()=>J(`followers`),children:[(0,U.jsx)(`span`,{className:`font-semibold`,children:K.stats?.followers||0}),` `,`Followers`]}),(0,U.jsxs)(`span`,{className:`cursor-pointer`,onClick:()=>J(`following`),children:[(0,U.jsx)(`span`,{className:`font-semibold`,children:K.stats?.following||0}),` `,`Following`]})]}),(0,U.jsxs)(`div`,{className:`text-sm px-1 md:px-0 text-foreground`,children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,U.jsx)(`div`,{className:`font-semibold`,children:K.name}),!b&&(0,U.jsx)(ie,{isOnline:K.isOnline||!1,lastSeen:K.lastSeen||null})]}),(0,U.jsxs)(`div`,{className:`flex items-center gap-1 bg-muted w-fit px-2 py-1 rounded-full text-xs text-muted-foreground mt-1 mb-2 cursor-pointer hover:bg-accent`,children:[(0,U.jsx)(u,{size:10}),` `,(0,U.jsx)(`span`,{children:`Threads`})]}),(0,U.jsx)(`div`,{className:`whitespace-pre-wrap`,children:K.bio||``})]})]})]}),b&&(0,U.jsx)(`div`,{className:`mb-10 flex gap-4 overflow-x-auto pb-2 scrollbar-hide px-4 md:px-0`,children:(0,U.jsxs)(`div`,{className:`flex flex-col items-center gap-2 cursor-pointer group`,children:[(0,U.jsx)(`div`,{className:`w-[64px] h-[64px] md:w-[77px] md:h-[77px] rounded-full border border-border bg-background flex items-center justify-center group-hover:bg-muted transition-colors`,children:(0,U.jsx)(`div`,{className:`w-[60px] h-[60px] md:w-[74px] md:h-[74px] rounded-full border-[2px] border-inherit flex items-center justify-center`,children:(0,U.jsx)(o,{size:24,strokeWidth:1,className:`text-muted-foreground md:w-8 md:h-8`})})}),(0,U.jsx)(`span`,{className:`text-xs font-semibold text-foreground`,children:`New`})]})}),(0,U.jsxs)(_e,{defaultValue:`posts`,value:S,onValueChange:C,className:`w-full`,children:[(0,U.jsxs)(ve,{className:`w-full justify-around md:justify-center gap-0 md:gap-12 bg-transparent border-t border-border rounded-none h-auto p-0`,children:[(0,U.jsxs)(Z,{value:`posts`,className:`data-[state=active]:border-foreground data-[state=active]:text-foreground border-t-2 border-transparent rounded-none flex items-center gap-2 h-[44px] md:h-[52px] bg-transparent px-0 flex-1 md:flex-none text-xs font-semibold tracking-widest uppercase transition-all shadow-none`,children:[(0,U.jsx)(D,{size:12,className:`md:size-3 size-6`}),(0,U.jsx)(`span`,{className:`hidden md:block`,children:`Posts`})]}),b&&(0,U.jsxs)(Z,{value:`saved`,className:`data-[state=active]:border-foreground data-[state=active]:text-foreground border-t-2 border-transparent rounded-none flex items-center gap-2 h-[44px] md:h-[52px] bg-transparent px-0 flex-1 md:flex-none text-xs font-semibold tracking-widest uppercase transition-all shadow-none`,children:[(0,U.jsx)(x,{size:12,className:`md:size-3 size-6`}),(0,U.jsx)(`span`,{className:`hidden md:block`,children:`Saved`})]}),(0,U.jsxs)(Z,{value:`tagged`,className:`data-[state=active]:border-foreground data-[state=active]:text-foreground border-t-2 border-transparent rounded-none flex items-center gap-2 h-[44px] md:h-[52px] bg-transparent px-0 flex-1 md:flex-none text-xs font-semibold tracking-widest uppercase transition-all shadow-none`,children:[(0,U.jsx)(r,{size:12,className:`md:size-3 size-6`}),(0,U.jsx)(`span`,{className:`hidden md:block`,children:`Tagged`})]})]}),(0,U.jsxs)(`div`,{className:`mt-4`,children:[(0,U.jsx)(Q,{value:`posts`,children:$(fe)}),b&&(0,U.jsx)(Q,{value:`saved`,children:$(le)}),(0,U.jsx)(Q,{value:`tagged`,children:$(de)})]})]})]})};export{ye as default};