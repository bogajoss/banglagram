import{a as e}from"./rolldown-runtime-DDUpfMIz.js";import{Et as t,Ut as n,Xt as r,Y as ee,in as te,rt as i,sn as a,z as o}from"./vendor-B3HL14pl.js";import{S as s,b as c,v as l,w as u,x as d}from"./index-AqHGfiHH.js";import{t as f}from"./useGetSuggestedUsers-B6VHM3Gp.js";var p=n(),m=e(a(),1),h=e(r(),1),g=e=>{let t=(0,p.c)(32),{onClose:n,showToast:r,theme:ee,glassModal:te,shareUrl:i,isOwner:a,onEdit:o}=e,s=`w-full max-w-[300px] rounded-xl overflow-hidden shadow-2xl ${te} ${ee===`dark`?`text-white`:`text-black`}`,c;t[0]!==a||t[1]!==n||t[2]!==o?(c=a&&(0,h.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{o?.(),n()},children:`এডিট করুন`}),t[0]=a,t[1]=n,t[2]=o,t[3]=c):c=t[3];let l;t[4]!==n||t[5]!==r?(l=(0,h.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`রিপোর্ট করা হয়েছে`),n()},children:`রিপোর্ট করুন`}),t[4]=n,t[5]=r,t[6]=l):l=t[6];let u;t[7]!==n||t[8]!==r?(u=(0,h.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`আনফলো করা হয়েছে`),n()},children:`আনফলো`}),t[7]=n,t[8]=r,t[9]=u):u=t[9];let d;t[10]!==n||t[11]!==r?(d=(0,h.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`ফেভারিটে যোগ করা হয়েছে`),n()},children:`ফেভারিটে যোগ করুন`}),t[10]=n,t[11]=r,t[12]=d):d=t[12];let f;t[13]!==n||t[14]!==i||t[15]!==r?(f=(0,h.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{let e=i||window.location.href;navigator.clipboard.writeText(e),r(`লিঙ্ক কপি করা হয়েছে`),n()},children:`লিঙ্ক কপি করুন`}),t[13]=n,t[14]=i,t[15]=r,t[16]=f):f=t[16];let m;t[17]===n?m=t[18]:(m=(0,h.jsx)(`button`,{className:`py-3.5 hover:bg-white/5 transition-colors`,onClick:n,children:`বাতিল করুন`}),t[17]=n,t[18]=m);let g;t[19]!==c||t[20]!==l||t[21]!==u||t[22]!==d||t[23]!==f||t[24]!==m?(g=(0,h.jsxs)(`div`,{className:`flex flex-col text-sm font-semibold`,children:[c,l,u,d,f,m]}),t[19]=c,t[20]=l,t[21]=u,t[22]=d,t[23]=f,t[24]=m,t[25]=g):g=t[25];let v;t[26]!==s||t[27]!==g?(v=(0,h.jsx)(`div`,{className:s,onClick:_,children:g}),t[26]=s,t[27]=g,t[28]=v):v=t[28];let y;return t[29]!==n||t[30]!==v?(y=(0,h.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4`,onClick:n,children:v}),t[29]=n,t[30]=v,t[31]=y):y=t[31],y};function _(e){return e.stopPropagation()}var v=n(),y=e=>{let n=(0,v.c)(70),{onClose:r,theme:a,showToast:p,glassModal:g,shareUrl:_}=e,y=te(),{user:ie}=u(),{data:b}=f(ie?.id),x;n[0]===b?x=n[1]:(x=b===void 0?[]:b,n[0]=b,n[1]=x);let S=x,[C,ae]=(0,m.useState)(``),w;n[2]===Symbol.for(`react.memo_cache_sentinel`)?(w=[],n[2]=w):w=n[2];let[oe,se]=(0,m.useState)(w),[ce,le]=(0,m.useState)(!1),T,E;n[3]===C?(T=n[4],E=n[5]):(T=()=>{let e=setTimeout(async()=>{if(C.trim().length>0){le(!0);let{data:e}=await l.from(`profiles`).select(`id, username, full_name, avatar_url, is_verified`).ilike(`username`,`%${C}%`).limit(10);e&&se(e.map(ne)),le(!1)}else se([])},300);return()=>clearTimeout(e)},E=[C],n[3]=C,n[4]=T,n[5]=E),(0,m.useEffect)(T,E);let D;n[6]!==C||n[7]!==oe||n[8]!==S?(D=C.trim()?oe:S.slice(0,8),n[6]=C,n[7]=oe,n[8]=S,n[9]=D):D=n[9];let O=D,ue=`w-full max-w-md rounded-xl overflow-hidden shadow-2xl ${g} ${a===`dark`?`text-white`:`text-black`}`,de=`p-3 border-b text-center font-bold relative ${a===`dark`?`border-zinc-800`:`border-zinc-200`}`,k;n[10]===r?k=n[11]:(k=(0,h.jsx)(o,{className:`absolute right-3 top-3 cursor-pointer`,onClick:r}),n[10]=r,n[11]=k);let A;n[12]!==de||n[13]!==k?(A=(0,h.jsxs)(`div`,{className:de,children:[`শেয়ার করুন`,k]}),n[12]=de,n[13]=k,n[14]=A):A=n[14];let j=`p-4 border-b ${a===`dark`?`border-zinc-700/50`:`border-zinc-200`}`,fe=`flex items-center gap-2 px-3 py-2 rounded-lg ${a===`dark`?`bg-[#262626]`:`bg-gray-100`}`,M;n[15]===Symbol.for(`react.memo_cache_sentinel`)?(M=(0,h.jsx)(i,{size:18,className:`text-[#8e8e8e]`}),n[15]=M):M=n[15];let N;n[16]===Symbol.for(`react.memo_cache_sentinel`)?(N=e=>ae(e.target.value),n[16]=N):N=n[16];let P,F;n[17]===C?(P=n[18],F=n[19]):(P=(0,h.jsx)(`input`,{type:`text`,placeholder:`অনুসন্ধান`,value:C,onChange:N,className:`bg-transparent border-none outline-none text-sm w-full`}),F=C&&(0,h.jsx)(o,{size:18,className:`cursor-pointer text-[#8e8e8e]`,onClick:()=>ae(``)}),n[17]=C,n[18]=P,n[19]=F);let I;n[20]!==fe||n[21]!==P||n[22]!==F?(I=(0,h.jsxs)(`div`,{className:fe,children:[M,P,F]}),n[20]=fe,n[21]=P,n[22]=F,n[23]=I):I=n[23];let L;n[24]!==j||n[25]!==I?(L=(0,h.jsx)(`div`,{className:j,children:I}),n[24]=j,n[25]=I,n[26]=L):L=n[26];let R;n[27]!==ce||n[28]!==y||n[29]!==r||n[30]!==p||n[31]!==a||n[32]!==O?(R=ce?(0,h.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`অনুসন্ধান করা হচ্ছে...`}):O.length===0?(0,h.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`কোনো ফলাফল পাওয়া যায়নি`}):O.map((e,t)=>(0,h.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded-lg ${a===`dark`?`hover:bg-white/5`:`hover:bg-black/5`} cursor-pointer transition-colors`,children:[(0,h.jsxs)(`div`,{className:`flex items-center gap-3 flex-grow`,onClick:()=>{r(),y(`/profile/${e.username}`)},children:[(0,h.jsxs)(c,{className:`w-10 h-10`,children:[(0,h.jsx)(s,{src:e.avatar}),(0,h.jsx)(d,{children:e.username[0].toUpperCase()})]}),(0,h.jsxs)(`div`,{className:`flex flex-col`,children:[(0,h.jsx)(`span`,{className:`text-sm font-semibold`,children:e.username}),(0,h.jsx)(`span`,{className:`text-xs opacity-70`,children:e.name||e.username})]})]}),(0,h.jsx)(`button`,{className:`px-4 py-1.5 rounded-lg text-sm font-semibold bg-[#006a4e] text-white hover:bg-[#00523c] transition-colors`,onClick:t=>{t.stopPropagation(),p(`${e.username}-কে পাঠানো হয়েছে`),r()},children:`পাঠান`})]},t)),n[27]=ce,n[28]=y,n[29]=r,n[30]=p,n[31]=a,n[32]=O,n[33]=R):R=n[33];let z;n[34]===R?z=n[35]:(z=(0,h.jsx)(`div`,{className:`h-64 overflow-y-auto p-2`,children:R}),n[34]=R,n[35]=z);let B=`p-4 border-t ${a===`dark`?`border-zinc-800`:`border-zinc-200`} flex gap-4 overflow-x-auto`,V;n[36]!==r||n[37]!==_||n[38]!==p?(V=()=>{let e=_||window.location.href;navigator.clipboard.writeText(e),p(`লিঙ্ক কপি করা হয়েছে`),r()},n[36]=r,n[37]=_,n[38]=p,n[39]=V):V=n[39];let pe=`w-12 h-12 rounded-full border flex items-center justify-center ${a===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,H;n[40]===Symbol.for(`react.memo_cache_sentinel`)?(H=(0,h.jsx)(t,{size:20}),n[40]=H):H=n[40];let U;n[41]===pe?U=n[42]:(U=(0,h.jsx)(`div`,{className:pe,children:H}),n[41]=pe,n[42]=U);let W;n[43]===Symbol.for(`react.memo_cache_sentinel`)?(W=(0,h.jsx)(`span`,{className:`text-xs`,children:`লিঙ্ক কপি`}),n[43]=W):W=n[43];let G;n[44]!==V||n[45]!==U?(G=(0,h.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:V,children:[U,W]}),n[44]=V,n[45]=U,n[46]=G):G=n[46];let K;n[47]!==r||n[48]!==p?(K=()=>{p(`আপনার স্টোরিতে যোগ করা হয়েছে`),r()},n[47]=r,n[48]=p,n[49]=K):K=n[49];let me=`w-12 h-12 rounded-full border flex items-center justify-center ${a===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,q;n[50]===Symbol.for(`react.memo_cache_sentinel`)?(q=(0,h.jsx)(ee,{size:20}),n[50]=q):q=n[50];let J;n[51]===me?J=n[52]:(J=(0,h.jsx)(`div`,{className:me,children:q}),n[51]=me,n[52]=J);let Y;n[53]===Symbol.for(`react.memo_cache_sentinel`)?(Y=(0,h.jsx)(`span`,{className:`text-xs`,children:`স্টোরিতে দিন`}),n[53]=Y):Y=n[53];let X;n[54]!==K||n[55]!==J?(X=(0,h.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:K,children:[J,Y]}),n[54]=K,n[55]=J,n[56]=X):X=n[56];let Z;n[57]!==B||n[58]!==G||n[59]!==X?(Z=(0,h.jsxs)(`div`,{className:B,children:[G,X]}),n[57]=B,n[58]=G,n[59]=X,n[60]=Z):Z=n[60];let Q;n[61]!==A||n[62]!==L||n[63]!==z||n[64]!==Z||n[65]!==ue?(Q=(0,h.jsxs)(`div`,{className:ue,onClick:re,children:[A,L,z,Z]}),n[61]=A,n[62]=L,n[63]=z,n[64]=Z,n[65]=ue,n[66]=Q):Q=n[66];let $;return n[67]!==r||n[68]!==Q?($=(0,h.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4 animate-fade-in`,onClick:r,children:Q}),n[67]=r,n[68]=Q,n[69]=$):$=n[69],$};function ne(e){return{id:e.id,username:e.username,name:e.full_name||e.username,avatar:e.avatar_url||``,isVerified:e.is_verified||!1}}function re(e){return e.stopPropagation()}export{g as n,y as t};