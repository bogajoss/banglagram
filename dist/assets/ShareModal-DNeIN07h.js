import{a as e}from"./rolldown-runtime-DDUpfMIz.js";import{At as t,I as n,Yt as r,nn as i,nt as ee,pn as a,q as o,un as s}from"./vendor-mxsVw6Vm.js";import{S as c,b as l,v as u,w as d,x as f}from"./index-DCOd0z8I.js";import{t as p}from"./useGetSuggestedUsers-Bw4iLuaE.js";var m=r(),h=e(a(),1),g=e(i(),1),_=e=>{let t=(0,m.c)(32),{onClose:n,showToast:r,theme:i,glassModal:ee,shareUrl:a,isOwner:o,onEdit:s}=e,c=`w-full max-w-[300px] rounded-xl overflow-hidden shadow-2xl ${ee} ${i===`dark`?`text-white`:`text-black`}`,l;t[0]!==o||t[1]!==n||t[2]!==s?(l=o&&(0,g.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{s?.(),n()},children:`এডিট করুন`}),t[0]=o,t[1]=n,t[2]=s,t[3]=l):l=t[3];let u;t[4]!==n||t[5]!==r?(u=(0,g.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`রিপোর্ট করা হয়েছে`),n()},children:`রিপোর্ট করুন`}),t[4]=n,t[5]=r,t[6]=u):u=t[6];let d;t[7]!==n||t[8]!==r?(d=(0,g.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`আনফলো করা হয়েছে`),n()},children:`আনফলো`}),t[7]=n,t[8]=r,t[9]=d):d=t[9];let f;t[10]!==n||t[11]!==r?(f=(0,g.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`ফেভারিটে যোগ করা হয়েছে`),n()},children:`ফেভারিটে যোগ করুন`}),t[10]=n,t[11]=r,t[12]=f):f=t[12];let p;t[13]!==n||t[14]!==a||t[15]!==r?(p=(0,g.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{let e=a||window.location.href;navigator.clipboard.writeText(e),r(`লিঙ্ক কপি করা হয়েছে`),n()},children:`লিঙ্ক কপি করুন`}),t[13]=n,t[14]=a,t[15]=r,t[16]=p):p=t[16];let h;t[17]===n?h=t[18]:(h=(0,g.jsx)(`button`,{className:`py-3.5 hover:bg-white/5 transition-colors`,onClick:n,children:`বাতিল করুন`}),t[17]=n,t[18]=h);let _;t[19]!==l||t[20]!==u||t[21]!==d||t[22]!==f||t[23]!==p||t[24]!==h?(_=(0,g.jsxs)(`div`,{className:`flex flex-col text-sm font-semibold`,children:[l,u,d,f,p,h]}),t[19]=l,t[20]=u,t[21]=d,t[22]=f,t[23]=p,t[24]=h,t[25]=_):_=t[25];let y;t[26]!==c||t[27]!==_?(y=(0,g.jsx)(`div`,{className:c,onClick:v,children:_}),t[26]=c,t[27]=_,t[28]=y):y=t[28];let b;return t[29]!==n||t[30]!==y?(b=(0,g.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4`,onClick:n,children:y}),t[29]=n,t[30]=y,t[31]=b):b=t[31],b};function v(e){return e.stopPropagation()}var y=r(),b=e=>{let r=(0,y.c)(70),{onClose:i,theme:a,showToast:m,glassModal:_,shareUrl:v}=e,b=s(),{user:re}=d(),{data:x}=p(re?.id),S;r[0]===x?S=r[1]:(S=x===void 0?[]:x,r[0]=x,r[1]=S);let ie=S,[C,ae]=(0,h.useState)(``),w;r[2]===Symbol.for(`react.memo_cache_sentinel`)?(w=[],r[2]=w):w=r[2];let[oe,se]=(0,h.useState)(w),[ce,le]=(0,h.useState)(!1),T,E;r[3]===C?(T=r[4],E=r[5]):(T=()=>{let e=setTimeout(async()=>{if(C.trim().length>0){le(!0);let{data:e}=await u.from(`profiles`).select(`id, username, full_name, avatar_url, is_verified`).ilike(`username`,`%${C}%`).limit(10);e&&se(e.map(te)),le(!1)}else se([])},300);return()=>clearTimeout(e)},E=[C],r[3]=C,r[4]=T,r[5]=E),(0,h.useEffect)(T,E);let D;r[6]!==C||r[7]!==oe||r[8]!==ie?(D=C.trim()?oe:ie.slice(0,8),r[6]=C,r[7]=oe,r[8]=ie,r[9]=D):D=r[9];let O=D,ue=`w-full max-w-md rounded-xl overflow-hidden shadow-2xl ${_} ${a===`dark`?`text-white`:`text-black`}`,de=`p-3 border-b text-center font-bold relative ${a===`dark`?`border-zinc-800`:`border-zinc-200`}`,k;r[10]===i?k=r[11]:(k=(0,g.jsx)(n,{className:`absolute right-3 top-3 cursor-pointer`,onClick:i}),r[10]=i,r[11]=k);let A;r[12]!==de||r[13]!==k?(A=(0,g.jsxs)(`div`,{className:de,children:[`শেয়ার করুন`,k]}),r[12]=de,r[13]=k,r[14]=A):A=r[14];let fe=`p-4 border-b ${a===`dark`?`border-zinc-700/50`:`border-zinc-200`}`,pe=`flex items-center gap-2 px-3 py-2 rounded-lg ${a===`dark`?`bg-[#262626]`:`bg-gray-100`}`,j;r[15]===Symbol.for(`react.memo_cache_sentinel`)?(j=(0,g.jsx)(ee,{size:18,className:`text-[#8e8e8e]`}),r[15]=j):j=r[15];let M;r[16]===Symbol.for(`react.memo_cache_sentinel`)?(M=e=>ae(e.target.value),r[16]=M):M=r[16];let N,P;r[17]===C?(N=r[18],P=r[19]):(N=(0,g.jsx)(`input`,{type:`text`,placeholder:`অনুসন্ধান`,value:C,onChange:M,className:`bg-transparent border-none outline-none text-sm w-full`}),P=C&&(0,g.jsx)(n,{size:18,className:`cursor-pointer text-[#8e8e8e]`,onClick:()=>ae(``)}),r[17]=C,r[18]=N,r[19]=P);let F;r[20]!==pe||r[21]!==N||r[22]!==P?(F=(0,g.jsxs)(`div`,{className:pe,children:[j,N,P]}),r[20]=pe,r[21]=N,r[22]=P,r[23]=F):F=r[23];let I;r[24]!==fe||r[25]!==F?(I=(0,g.jsx)(`div`,{className:fe,children:F}),r[24]=fe,r[25]=F,r[26]=I):I=r[26];let L;r[27]!==ce||r[28]!==b||r[29]!==i||r[30]!==m||r[31]!==a||r[32]!==O?(L=ce?(0,g.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`অনুসন্ধান করা হচ্ছে...`}):O.length===0?(0,g.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`কোনো ফলাফল পাওয়া যায়নি`}):O.map((e,t)=>(0,g.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded-lg ${a===`dark`?`hover:bg-white/5`:`hover:bg-black/5`} cursor-pointer transition-colors`,children:[(0,g.jsxs)(`div`,{className:`flex items-center gap-3 flex-grow`,onClick:()=>{i(),b(`/profile/${e.username}`)},children:[(0,g.jsxs)(l,{className:`w-10 h-10`,children:[(0,g.jsx)(c,{src:e.avatar}),(0,g.jsx)(f,{children:e.username?.[0]?.toUpperCase()||`?`})]}),(0,g.jsxs)(`div`,{className:`flex flex-col`,children:[(0,g.jsx)(`span`,{className:`text-sm font-semibold`,children:e.username}),(0,g.jsx)(`span`,{className:`text-xs opacity-70`,children:e.name||e.username})]})]}),(0,g.jsx)(`button`,{className:`px-4 py-1.5 rounded-lg text-sm font-semibold bg-[#006a4e] text-white hover:bg-[#00523c] transition-colors`,onClick:t=>{t.stopPropagation(),m(`${e.username}-কে পাঠানো হয়েছে`),i()},children:`পাঠান`})]},t)),r[27]=ce,r[28]=b,r[29]=i,r[30]=m,r[31]=a,r[32]=O,r[33]=L):L=r[33];let R;r[34]===L?R=r[35]:(R=(0,g.jsx)(`div`,{className:`h-64 overflow-y-auto p-2`,children:L}),r[34]=L,r[35]=R);let z=`p-4 border-t ${a===`dark`?`border-zinc-800`:`border-zinc-200`} flex gap-4 overflow-x-auto`,B;r[36]!==i||r[37]!==v||r[38]!==m?(B=()=>{let e=v||window.location.href;navigator.clipboard.writeText(e),m(`লিঙ্ক কপি করা হয়েছে`),i()},r[36]=i,r[37]=v,r[38]=m,r[39]=B):B=r[39];let me=`w-12 h-12 rounded-full border flex items-center justify-center ${a===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,V;r[40]===Symbol.for(`react.memo_cache_sentinel`)?(V=(0,g.jsx)(t,{size:20}),r[40]=V):V=r[40];let H;r[41]===me?H=r[42]:(H=(0,g.jsx)(`div`,{className:me,children:V}),r[41]=me,r[42]=H);let U;r[43]===Symbol.for(`react.memo_cache_sentinel`)?(U=(0,g.jsx)(`span`,{className:`text-xs`,children:`লিঙ্ক কপি`}),r[43]=U):U=r[43];let W;r[44]!==B||r[45]!==H?(W=(0,g.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:B,children:[H,U]}),r[44]=B,r[45]=H,r[46]=W):W=r[46];let G;r[47]!==i||r[48]!==m?(G=()=>{m(`আপনার স্টোরিতে যোগ করা হয়েছে`),i()},r[47]=i,r[48]=m,r[49]=G):G=r[49];let K=`w-12 h-12 rounded-full border flex items-center justify-center ${a===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,q;r[50]===Symbol.for(`react.memo_cache_sentinel`)?(q=(0,g.jsx)(o,{size:20}),r[50]=q):q=r[50];let J;r[51]===K?J=r[52]:(J=(0,g.jsx)(`div`,{className:K,children:q}),r[51]=K,r[52]=J);let Y;r[53]===Symbol.for(`react.memo_cache_sentinel`)?(Y=(0,g.jsx)(`span`,{className:`text-xs`,children:`স্টোরিতে দিন`}),r[53]=Y):Y=r[53];let X;r[54]!==G||r[55]!==J?(X=(0,g.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:G,children:[J,Y]}),r[54]=G,r[55]=J,r[56]=X):X=r[56];let Z;r[57]!==z||r[58]!==W||r[59]!==X?(Z=(0,g.jsxs)(`div`,{className:z,children:[W,X]}),r[57]=z,r[58]=W,r[59]=X,r[60]=Z):Z=r[60];let Q;r[61]!==A||r[62]!==I||r[63]!==R||r[64]!==Z||r[65]!==ue?(Q=(0,g.jsxs)(`div`,{className:ue,onClick:ne,children:[A,I,R,Z]}),r[61]=A,r[62]=I,r[63]=R,r[64]=Z,r[65]=ue,r[66]=Q):Q=r[66];let $;return r[67]!==i||r[68]!==Q?($=(0,g.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4 animate-fade-in`,onClick:i,children:Q}),r[67]=i,r[68]=Q,r[69]=$):$=r[69],$};function te(e){return{id:e.id,username:e.username,name:e.full_name||e.username,avatar:e.avatar_url||``,isVerified:e.is_verified||!1}}function ne(e){return e.stopPropagation()}export{_ as n,b as t};