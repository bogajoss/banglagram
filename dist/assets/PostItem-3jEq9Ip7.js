import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{Gt as t,Ht as n,It as r,Lt as i,Rt as a,Ut as o,Wt as s,X as c,_t as l,bt as u,f as d,h as f,jt as ee,kt as p,ot as te,p as m,q as h,rn as g,st as ne,y as _}from"./vendor-CYhgnaJV.js";import{Ct as v,a as y,i as b,o as x,wt as S}from"./libs-BZRZkBIg.js";import{A as re,D as C,F as w,I as ie,M as ae,N as oe,S as T,_ as E,a as D,b as se,c as O,d as ce,f as k,g as le,j as ue,k as A,l as de,m as j,o as fe,r as pe,s as me,u as he,x as M,y as ge}from"./index-ywtYYkZ-.js";import{n as _e,r as ve,t as ye}from"./useViewTracker-Zlm6_4eG.js";var be=a(),xe=e(S(),1);const Se=e=>[`post`,e],Ce=(e,t)=>{let n=(0,be.c)(9),r=e||``,i;n[0]===r?i=n[1]:(i=Se(r),n[0]=r,n[1]=i);let a=!!e,s;n[2]!==t||n[3]!==e?(s=async()=>{if(!e)throw Error(`Post ID required`);let{data:n,error:r}=await A.from(`posts`).select(`
          id,
          created_at,
          caption,
          image_url,
          user_id,
          profiles (username, full_name, avatar_url, is_verified),
          likes (count),
          comments (count)
        `).eq(`id`,e).single();if(r)throw r;let i=n,a=!1,o=!1;if(t){let{count:n}=await A.from(`likes`).select(`*`,{count:`exact`,head:!0}).eq(`post_id`,e).eq(`user_id`,t);a=!!n&&n>0;let{count:r}=await A.from(`saves`).select(`*`,{count:`exact`,head:!0}).eq(`post_id`,e).eq(`user_id`,t);o=!!r&&r>0}return{id:i.id,user:{id:i.user_id,username:i.profiles?.username||`Unknown`,name:i.profiles?.full_name||`Unknown`,avatar:i.profiles?.avatar_url||``,isVerified:i.profiles?.is_verified||!1},content:{type:`image`,src:i.image_url},likes:i.likes[0]?.count||0,caption:i.caption||``,comments:i.comments[0]?.count||0,time:(0,xe.default)(i.created_at).fromNow(),hasLiked:a,hasSaved:o}},n[2]=t,n[3]=e,n[4]=s):s=n[4];let c;return n[5]!==i||n[6]!==a||n[7]!==s?(c={queryKey:i,enabled:a,queryFn:s},n[5]=i,n[6]=a,n[7]=s,n[8]=c):c=n[8],o(c)};var N=a();const we=()=>{let e=(0,N.c)(2),t=s(),r;return e[0]===t?r=e[1]:(r={mutationFn:Te,onSuccess:(e,n)=>{t.invalidateQueries({queryKey:C}),t.invalidateQueries({queryKey:Se(n.postId)}),t.invalidateQueries({queryKey:[`profile`]})}},e[0]=t,e[1]=r),n(r)};async function Te(e){let{postId:t,caption:n}=e,{data:r,error:i}=await A.from(`posts`).update({caption:n}).eq(`id`,t).select().single();if(i)throw i;return r}var Ee=a(),P=e(g(),1),F=t(),De=y({caption:x().min(1,`Caption cannot be empty`).max(2200)}),Oe=e=>{let t=(0,Ee.c)(62),{post:n,onClose:r}=e,{showToast:i}=ie(),{mutate:a,isPending:o}=we(),s;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(s=f(De),t[0]=s):s=t[0];let c=n.caption||``,l;t[1]===c?l=t[2]:(l={resolver:s,defaultValues:{caption:c}},t[1]=c,t[2]=l);let u=_(l),d;t[3]!==r||t[4]!==n.id||t[5]!==i||t[6]!==a?(d=e=>{a({postId:n.id,caption:e.caption},{onSuccess:()=>{i(`Post updated`),r()},onError:()=>i(`Failed to update post`)})},t[3]=r,t[4]=n.id,t[5]=i,t[6]=a,t[7]=d):d=t[7];let ee=d,p;bb0:{if(n.content.type===`video`){let e;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(e=[],t[8]=e):e=t[8],p=e;break bb0}let e=n.content.src;if(!e){let e;t[9]===Symbol.for(`react.memo_cache_sentinel`)?(e=[],t[9]=e):e=t[9],p=e;break bb0}try{if(e.startsWith(`[`)){let n;t[10]===e?n=t[11]:(n=JSON.parse(e),t[10]=e,t[11]=n),p=n;break bb0}let n;t[12]===e?n=t[13]:(n=[e],t[12]=e,t[13]=n),p=n}catch{let n;t[14]===e?n=t[15]:(n=[e],t[14]=e,t[15]=n),p=n}}let te=p,m;t[16]===r?m=t[17]:(m=e=>!e&&r(),t[16]=r,t[17]=m);let h;t[18]!==te||t[19]!==n.content.src||t[20]!==n.content.type?(h=(0,F.jsx)(`div`,{className:`md:w-1/2 bg-black flex items-center justify-center relative aspect-square md:aspect-auto group`,children:n.content.type===`video`?(0,F.jsx)(`video`,{src:n.content.src,className:`max-h-full max-w-full`}):(0,F.jsx)(le,{images:te,className:`w-full h-full bg-black`,aspectRatio:`max-h-full max-w-full`})}),t[18]=te,t[19]=n.content.src,t[20]=n.content.type,t[21]=h):h=t[21];let g;t[22]!==u||t[23]!==ee?(g=u.handleSubmit(ee),t[22]=u,t[23]=ee,t[24]=g):g=t[24];let ne;t[25]===Symbol.for(`react.memo_cache_sentinel`)?(ne=(0,F.jsx)(T,{className:`font-semibold text-sm`,children:`Edit Info`}),t[25]=ne):ne=t[25];let v=o?`Saving...`:`Done`,y;t[26]!==o||t[27]!==v?(y=(0,F.jsxs)(M,{className:`p-3 border-b flex flex-row justify-between items-center space-y-0`,children:[ne,(0,F.jsx)(re,{type:`submit`,variant:`ghost`,disabled:o,className:`text-[#0095f6] font-bold text-sm hover:bg-transparent h-auto p-0`,children:v})]}),t[26]=o,t[27]=v,t[28]=y):y=t[28];let b;t[29]===n.user.avatar?b=t[30]:(b=(0,F.jsx)(oe,{src:n.user.avatar}),t[29]=n.user.avatar,t[30]=b);let x;t[31]===n.user.username?.[0]?x=t[32]:(x=n.user.username?.[0]?.toUpperCase()||`?`,t[31]=n.user.username?.[0],t[32]=x);let S;t[33]===x?S=t[34]:(S=(0,F.jsx)(ae,{children:x}),t[33]=x,t[34]=S);let C;t[35]!==b||t[36]!==S?(C=(0,F.jsxs)(ue,{className:`w-8 h-8`,children:[b,S]}),t[35]=b,t[36]=S,t[37]=C):C=t[37];let w;t[38]===n.user.username?w=t[39]:(w=(0,F.jsx)(`span`,{className:`font-semibold text-sm`,children:n.user.username}),t[38]=n.user.username,t[39]=w);let E;t[40]!==C||t[41]!==w?(E=(0,F.jsxs)(`div`,{className:`p-4 flex items-center gap-3`,children:[C,w]}),t[40]=C,t[41]=w,t[42]=E):E=t[42];let D;t[43]===u.control?D=t[44]:(D=(0,F.jsx)(ce,{control:u.control,name:`caption`,render:ke}),t[43]=u.control,t[44]=D);let O;t[45]===r?O=t[46]:(O=(0,F.jsx)(`div`,{className:`p-4 flex justify-end`,children:(0,F.jsx)(re,{type:`button`,variant:`ghost`,onClick:r,className:`text-sm font-semibold h-auto p-0 hover:bg-transparent`,children:`Cancel`})}),t[45]=r,t[46]=O);let k;t[47]!==y||t[48]!==E||t[49]!==D||t[50]!==O||t[51]!==g?(k=(0,F.jsxs)(`form`,{onSubmit:g,className:`flex flex-col h-full`,children:[y,E,D,O]}),t[47]=y,t[48]=E,t[49]=D,t[50]=O,t[51]=g,t[52]=k):k=t[52];let A;t[53]!==u||t[54]!==k?(A=(0,F.jsx)(`div`,{className:`md:w-1/2 flex flex-col bg-background`,children:(0,F.jsx)(de,{...u,children:k})}),t[53]=u,t[54]=k,t[55]=A):A=t[55];let j;t[56]!==A||t[57]!==h?(j=(0,F.jsx)(se,{className:`max-w-2xl p-0 overflow-hidden border-none sm:rounded-xl`,children:(0,F.jsxs)(`div`,{className:`flex flex-col md:flex-row h-full`,children:[h,A]})}),t[56]=A,t[57]=h,t[58]=j):j=t[58];let fe;return t[59]!==j||t[60]!==m?(fe=(0,F.jsx)(ge,{open:!0,onOpenChange:m,children:j}),t[59]=j,t[60]=m,t[61]=fe):fe=t[61],fe};function ke(e){let{field:t}=e;return(0,F.jsxs)(k,{className:`flex-grow`,children:[(0,F.jsx)(he,{children:(0,F.jsx)(`textarea`,{...t,className:`w-full h-full p-4 bg-transparent outline-none resize-none text-sm placeholder:text-muted-foreground`,placeholder:`Write a caption...`,rows:6})}),(0,F.jsx)(j,{className:`px-4`})]})}var Ae=a(),je=e(S(),1),I=e(v(),1);b(),je.default.extend(I.default),je.default.locale(`en`);var Me=(0,P.memo)(e=>{let t=(0,Ae.c)(165),{post:n,isSaved:a,onToggleSave:o,onUserClick:s,onPostClick:f}=e,{theme:g,showToast:_}=ie(),{user:v}=w(),{mutate:y}=fe(),{mutate:b,isPending:x}=D(),{ref:S}=ye(n.id,`post`),[re,C]=(0,P.useState)(!1),[T,se]=(0,P.useState)(``),[ce,k]=(0,P.useState)(!1),[A,de]=(0,P.useState)(!1),[j,he]=(0,P.useState)(!1),[M,ge]=(0,P.useState)(!1),[be,xe]=(0,P.useState)(!1),Se=P.useRef(null),Ce=n.hasLiked||!1,N;bb0:{if(n.content.type===`video`){let e;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(e=[],t[0]=e):e=t[0],N=e;break bb0}let e=n.content.src;if(!e){let e;t[1]===Symbol.for(`react.memo_cache_sentinel`)?(e=[],t[1]=e):e=t[1],N=e;break bb0}try{if(e.startsWith(`[`)){let n;t[2]===e?n=t[3]:(n=JSON.parse(e),t[2]=e,t[3]=n),N=n;break bb0}let n;t[4]===e?n=t[5]:(n=[e],t[4]=e,t[5]=n),N=n}catch{let n;t[6]===e?n=t[7]:(n=[e],t[6]=e,t[7]=n),N=n}}let we=N,Te,Ee;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(Te=()=>{let e=e=>{Se.current&&!Se.current.contains(e.target)&&ge(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},Ee=[],t[8]=Te,t[9]=Ee):(Te=t[8],Ee=t[9]),P.useEffect(Te,Ee);let De;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(De=e=>{se(t=>t+e.emoji)},t[10]=De):De=t[10];let ke=De,I=`${window.location.origin}/post/${n.id}`,Me=v?.id===n.user.id,Ne;t[11]!==Ce||t[12]!==n.id||t[13]!==_||t[14]!==y||t[15]!==v?(Ne=()=>{if(!v){_(`Log in to like`);return}y({targetId:String(n.id),type:`post`,userId:v.id,hasLiked:Ce})},t[11]=Ce,t[12]=n.id,t[13]=_,t[14]=y,t[15]=v,t[16]=Ne):Ne=t[16];let L=Ne,Pe;t[17]===L?Pe=t[18]:(Pe=()=>{L(),C(!0),setTimeout(()=>C(!1),1e3)},t[17]=L,t[18]=Pe);let R=Pe,Fe;t[19]!==b||t[20]!==T||t[21]!==n.id||t[22]!==_||t[23]!==v?(Fe=(e,t)=>{e&&e.preventDefault(),v&&(!T.trim()&&!t||b({targetId:String(n.id),type:`post`,text:t?`Voice Message`:T,userId:v.id,audioBlob:t},{onSuccess:()=>{_(`Comment added`),se(``),xe(!1)},onError:()=>_(`Failed to add comment`)}))},t[19]=b,t[20]=T,t[21]=n.id,t[22]=_,t[23]=v,t[24]=Fe):Fe=t[24];let Ie=Fe,Le,Re,ze,Be;t[25]===Symbol.for(`react.memo_cache_sentinel`)?(ze={opacity:0,y:20},Be={opacity:1,y:0},Le={once:!0,margin:`-50px`},Re={duration:.4},t[25]=Le,t[26]=Re,t[27]=ze,t[28]=Be):(Le=t[25],Re=t[26],ze=t[27],Be=t[28]);let z;t[29]!==ce||t[30]!==Me||t[31]!==I||t[32]!==_?(z=ce&&(0,F.jsx)(ve,{onClose:()=>k(!1),showToast:_,shareUrl:I,isOwner:Me,onEdit:()=>he(!0)}),t[29]=ce,t[30]=Me,t[31]=I,t[32]=_,t[33]=z):z=t[33];let B;t[34]!==A||t[35]!==I?(B=A&&(0,F.jsx)(_e,{onClose:()=>de(!1),shareUrl:I}),t[34]=A,t[35]=I,t[36]=B):B=t[36];let V;t[37]!==j||t[38]!==n?(V=j&&(0,F.jsx)(Oe,{post:n,onClose:()=>he(!1)}),t[37]=j,t[38]=n,t[39]=V):V=t[39];let H;t[40]!==s||t[41]!==n.user?(H=()=>s(n.user),t[40]=s,t[41]=n.user,t[42]=H):H=t[42];let U;t[43]===n.user.avatar?U=t[44]:(U=(0,F.jsx)(oe,{src:n.user.avatar}),t[43]=n.user.avatar,t[44]=U);let W;t[45]===n.user.username[0]?W=t[46]:(W=n.user.username[0].toUpperCase(),t[45]=n.user.username[0],t[46]=W);let G;t[47]===W?G=t[48]:(G=(0,F.jsx)(ae,{children:W}),t[47]=W,t[48]=G);let Ve;t[49]!==U||t[50]!==G?(Ve=(0,F.jsxs)(ue,{className:`w-8 h-8 group-hover:scale-105 transition-transform`,children:[U,G]}),t[49]=U,t[50]=G,t[51]=Ve):Ve=t[51];let K;t[52]===n.user.username?K=t[53]:(K=(0,F.jsx)(`span`,{className:`group-hover:opacity-70 transition-opacity text-foreground`,children:n.user.username}),t[52]=n.user.username,t[53]=K);let q;t[54]===n.user.isVerified?q=t[55]:(q=n.user.isVerified&&(0,F.jsx)(O,{}),t[54]=n.user.isVerified,t[55]=q);let J;t[56]!==n.createdAt||t[57]!==n.time?(J=n.createdAt?(0,je.default)(n.createdAt).fromNow(!0):n.time,t[56]=n.createdAt,t[57]=n.time,t[58]=J):J=t[58];let Y;t[59]===J?Y=t[60]:(Y=(0,F.jsxs)(`span`,{className:`text-muted-foreground font-normal`,children:[`â€¢`,` `,J]}),t[59]=J,t[60]=Y);let X;t[61]!==K||t[62]!==q||t[63]!==Y?(X=(0,F.jsxs)(`div`,{className:`flex items-center gap-1 text-sm font-semibold`,children:[K,q,Y]}),t[61]=K,t[62]=q,t[63]=Y,t[64]=X):X=t[64];let Z;t[65]!==H||t[66]!==Ve||t[67]!==X?(Z=(0,F.jsxs)(`div`,{className:`flex items-center gap-2 cursor-pointer group`,onClick:H,children:[Ve,X]}),t[65]=H,t[66]=Ve,t[67]=X,t[68]=Z):Z=t[68];let He,Ue;t[69]===Symbol.for(`react.memo_cache_sentinel`)?(He={scale:1.1},Ue={scale:.9},t[69]=He,t[70]=Ue):(He=t[69],Ue=t[70]);let We;t[71]===Symbol.for(`react.memo_cache_sentinel`)?(We=(0,F.jsx)(r.div,{whileHover:He,whileTap:Ue,children:(0,F.jsx)(u,{size:20,className:`cursor-pointer hover:opacity-70 text-foreground`,onClick:()=>k(!0)})}),t[71]=We):We=t[71];let Ge;t[72]===Z?Ge=t[73]:(Ge=(0,F.jsxs)(`div`,{className:`flex items-center justify-between mb-3 px-3 md:px-0`,children:[Z,We]}),t[72]=Z,t[73]=Ge);let Ke;t[74]!==R||t[75]!==we||t[76]!==n.content.poster||t[77]!==n.content.src||t[78]!==n.content.type?(Ke=n.content.type===`video`?(0,F.jsx)(me,{src:n.content.src||``,poster:n.content.poster,className:`w-full h-full`,autoPlay:!0}):we.length>0?(0,F.jsx)(le,{images:we,className:`w-full h-full`,aspectRatio:`aspect-square md:aspect-auto`,onDoubleClick:R}):(0,F.jsx)(E,{src:n.content.src||n.content.poster,className:`w-full h-full object-cover`,alt:`Post content`,loading:`lazy`}),t[74]=R,t[75]=we,t[76]=n.content.poster,t[77]=n.content.src,t[78]=n.content.type,t[79]=Ke):Ke=t[79];let qe;t[80]===re?qe=t[81]:(qe=re&&(0,F.jsx)(r.div,{initial:{scale:0,opacity:0},animate:{scale:1.2,opacity:1},exit:{scale:0,opacity:0},className:`absolute inset-0 flex items-center justify-center pointer-events-none z-10`,children:(0,F.jsx)(l,{size:100,className:`text-white fill-white drop-shadow-lg`})}),t[80]=re,t[81]=qe);let Je;t[82]===qe?Je=t[83]:(Je=(0,F.jsx)(i,{children:qe}),t[82]=qe,t[83]=Je);let Ye;t[84]!==R||t[85]!==Ke||t[86]!==Je?(Ye=(0,F.jsxs)(`div`,{className:`w-full bg-muted md:rounded-[4px] md:border border-border overflow-hidden mb-3 aspect-square md:aspect-auto relative cursor-pointer group`,onDoubleClick:R,children:[Ke,Je]}),t[84]=R,t[85]=Ke,t[86]=Je,t[87]=Ye):Ye=t[87];let Xe,Ze;t[88]===Symbol.for(`react.memo_cache_sentinel`)?(Xe={scale:1.1},Ze={scale:.9},t[88]=Xe,t[89]=Ze):(Xe=t[88],Ze=t[89]);let Qe=`cursor-pointer transition-colors ${Ce?`fill-[#f42a41] text-[#f42a41]`:`text-foreground`}`,$e;t[90]!==L||t[91]!==Qe?($e=(0,F.jsx)(r.div,{whileHover:Xe,whileTap:Ze,children:(0,F.jsx)(l,{size:24,className:Qe,onClick:L})}),t[90]=L,t[91]=Qe,t[92]=$e):$e=t[92];let et,tt;t[93]===Symbol.for(`react.memo_cache_sentinel`)?(et={scale:1.1},tt={scale:.9},t[93]=et,t[94]=tt):(et=t[93],tt=t[94]);let nt;t[95]!==f||t[96]!==n?(nt=(0,F.jsx)(r.div,{whileHover:et,whileTap:tt,children:(0,F.jsx)(ne,{size:24,className:`-scale-x-100 cursor-pointer hover:opacity-70 transition-opacity text-foreground`,onClick:()=>f(n)})}),t[95]=f,t[96]=n,t[97]=nt):nt=t[97];let rt,it;t[98]===Symbol.for(`react.memo_cache_sentinel`)?(rt={scale:1.1},it={scale:.9},t[98]=rt,t[99]=it):(rt=t[98],it=t[99]);let at;t[100]===Symbol.for(`react.memo_cache_sentinel`)?(at=(0,F.jsx)(r.div,{whileHover:rt,whileTap:it,children:(0,F.jsx)(c,{size:24,className:`cursor-pointer hover:opacity-70 transition-opacity text-foreground`,onClick:()=>de(!0)})}),t[100]=at):at=t[100];let ot;t[101]===Symbol.for(`react.memo_cache_sentinel`)?(ot=(0,F.jsx)(p,{size:22,className:``}),t[101]=ot):ot=t[101];let st;t[102]===n.views?st=t[103]:(st=Intl.NumberFormat(`en-US`,{notation:`compact`,maximumFractionDigits:1}).format(n.views||0),t[102]=n.views,t[103]=st);let ct;t[104]===st?ct=t[105]:(ct=(0,F.jsxs)(`div`,{className:`flex items-center gap-1 ml-2 opacity-60 text-foreground`,title:`Views`,children:[ot,(0,F.jsx)(`span`,{className:`text-sm font-medium`,children:st})]}),t[104]=st,t[105]=ct);let lt;t[106]!==$e||t[107]!==nt||t[108]!==ct?(lt=(0,F.jsxs)(`div`,{className:`flex items-center gap-4`,children:[$e,nt,at,ct]}),t[106]=$e,t[107]=nt,t[108]=ct,t[109]=lt):lt=t[109];let ut,dt;t[110]===Symbol.for(`react.memo_cache_sentinel`)?(ut={scale:1.1},dt={scale:.9},t[110]=ut,t[111]=dt):(ut=t[110],dt=t[111]);let ft=`cursor-pointer hover:opacity-70 transition-all text-foreground ${a?`fill-current`:``}`,pt;t[112]!==o||t[113]!==ft?(pt=(0,F.jsx)(r.div,{whileHover:ut,whileTap:dt,children:(0,F.jsx)(ee,{size:24,className:ft,onClick:o})}),t[112]=o,t[113]=ft,t[114]=pt):pt=t[114];let Q;t[115]!==lt||t[116]!==pt?(Q=(0,F.jsxs)(`div`,{className:`flex items-center justify-between mb-2 px-3 md:px-0`,children:[lt,pt]}),t[115]=lt,t[116]=pt,t[117]=Q):Q=t[117];let mt;t[118]===n.likes?mt=t[119]:(mt=(0,F.jsxs)(`div`,{className:`font-semibold mb-1`,children:[n.likes,` likes`]}),t[118]=n.likes,t[119]=mt);let ht;t[120]!==s||t[121]!==n.user?(ht=()=>s(n.user),t[120]=s,t[121]=n.user,t[122]=ht):ht=t[122];let gt;t[123]!==n.user.username||t[124]!==ht?(gt=(0,F.jsx)(`span`,{className:`font-semibold mr-2 cursor-pointer hover:opacity-70`,onClick:ht,children:n.user.username}),t[123]=n.user.username,t[124]=ht,t[125]=gt):gt=t[125];let _t;t[126]===n.caption?_t=t[127]:(_t=(0,F.jsx)(`span`,{className:`whitespace-pre-wrap`,children:n.caption}),t[126]=n.caption,t[127]=_t);let vt;t[128]!==gt||t[129]!==_t?(vt=(0,F.jsxs)(`div`,{className:`mb-1`,children:[gt,_t]}),t[128]=gt,t[129]=_t,t[130]=vt):vt=t[130];let yt;t[131]!==f||t[132]!==n?(yt=()=>f(n),t[131]=f,t[132]=n,t[133]=yt):yt=t[133];let bt;t[134]!==n.comments||t[135]!==yt?(bt=(0,F.jsxs)(`div`,{className:`text-muted-foreground cursor-pointer hover:underline`,onClick:yt,children:[`View all `,n.comments,` comments`]}),t[134]=n.comments,t[135]=yt,t[136]=bt):bt=t[136];let xt;t[137]!==n.createdAt||t[138]!==n.time?(xt=n.createdAt?(0,je.default)(n.createdAt).fromNow():n.time,t[137]=n.createdAt,t[138]=n.time,t[139]=xt):xt=t[139];let St;t[140]===xt?St=t[141]:(St=(0,F.jsx)(`div`,{className:`text-[10px] text-muted-foreground uppercase mt-1`,children:xt}),t[140]=xt,t[141]=St);let Ct;t[142]===Symbol.for(`react.memo_cache_sentinel`)?(Ct=(0,F.jsx)(`div`,{className:`flex gap-4 mt-2 mb-1 overflow-x-auto scrollbar-hide py-1`,children:[`â¤ï¸`,`ðŸ™Œ`,`ðŸ”¥`,`ðŸ‘`,`ðŸ˜¢`,`ðŸ˜`,`ðŸ˜®`,`ðŸ˜‚`].map(e=>(0,F.jsx)(`span`,{className:`text-xl cursor-pointer hover:scale-125 transition-transform`,onClick:()=>se(t=>t+e),children:e},e))}),t[142]=Ct):Ct=t[142];let wt;t[143]!==Ie||t[144]!==x||t[145]!==T||t[146]!==M||t[147]!==be||t[148]!==g?(wt=be?(0,F.jsx)(`div`,{className:`mt-2 bg-muted p-2 rounded-xl`,children:(0,F.jsx)(pe,{onRecordingComplete:e=>Ie(void 0,e),onCancel:()=>xe(!1)})}):(0,F.jsxs)(`form`,{onSubmit:Ie,className:`flex gap-2 mt-2 items-center relative`,children:[M&&(0,F.jsx)(`div`,{ref:Se,className:`absolute bottom-full left-0 z-50 shadow-2xl mb-2`,children:(0,F.jsx)(m,{theme:g===`dark`?d.DARK:d.LIGHT,onEmojiClick:ke,lazyLoadEmojis:!0,skinTonesDisabled:!0,searchDisabled:!1,width:280,height:350})}),(0,F.jsx)(h,{size:20,className:`cursor-pointer transition-colors ${M?`text-primary`:`text-muted-foreground hover:text-foreground`}`,onClick:()=>ge(!M)}),(0,F.jsx)(`input`,{type:`text`,placeholder:`Add a comment...`,className:`bg-transparent text-sm w-full outline-none text-foreground`,value:T,onChange:e=>se(e.target.value),onFocus:()=>ge(!1),disabled:x}),!T&&(0,F.jsx)(te,{size:20,className:`text-muted-foreground cursor-pointer hover:text-foreground`,onClick:()=>xe(!0)}),(0,F.jsx)(`button`,{type:`submit`,className:`text-primary text-sm font-semibold disabled:opacity-50 hover:text-primary/80`,disabled:!T||x,children:`Post`})]}),t[143]=Ie,t[144]=x,t[145]=T,t[146]=M,t[147]=be,t[148]=g,t[149]=wt):wt=t[149];let $;t[150]!==mt||t[151]!==vt||t[152]!==bt||t[153]!==St||t[154]!==wt?($=(0,F.jsxs)(`div`,{className:`text-sm px-3 md:px-0 text-foreground`,children:[mt,vt,bt,St,Ct,wt]}),t[150]=mt,t[151]=vt,t[152]=bt,t[153]=St,t[154]=wt,t[155]=$):$=t[155];let Tt;return t[156]!==z||t[157]!==B||t[158]!==V||t[159]!==Ge||t[160]!==Ye||t[161]!==Q||t[162]!==$||t[163]!==S?(Tt=(0,F.jsxs)(r.div,{ref:S,initial:ze,whileInView:Be,viewport:Le,transition:Re,className:`border-b border-border pb-5 mb-4`,children:[z,B,V,Ge,Ye,Q,$]}),t[156]=z,t[157]=B,t[158]=V,t[159]=Ge,t[160]=Ye,t[161]=Q,t[162]=$,t[163]=S,t[164]=Tt):Tt=t[164],Tt});export{Ce as n,Me as t};