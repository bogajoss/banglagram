import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{$t as t,At as n,Bt as r,Ct as i,Dt as a,Ft as o,G as s,H as c,Ht as l,K as u,L as d,Mt as f,N as p,Nt as m,Ot as h,St as g,Xt as _,Y as v,Zt as y,at as b,ct as x,gt as S,it as C,kt as w,mt as T,st as E}from"./vendor-BGrLWuzF.js";import{Vt as D}from"./libs-eJHw-jrC.js";import"./tanstack-CjdblyHw.js";import"./supabase-CBM4FLKd.js";import{C as ee,_ as O,b as k,c as A,m as te,v as j,w as ne,x as M,y as N}from"./index-qR2YstvC.js";import{t as re}from"./useFollowUser-DiX0t8fG.js";import{t as ie}from"./UserStatus-kt8ZbUKH.js";var P=o(),F=e(t(),1),I=l(),ae=e=>{let t=(0,P.c)(24),{title:n,users:r,onClose:i,theme:a,onUserClick:o,glassModal:s,loading:c}=e,l=`w-full max-w-md rounded-xl overflow-hidden shadow-2xl ${s} ${a===`dark`?`text-white`:`text-black`}`,u=`p-3 border-b text-center font-bold relative ${a===`dark`?`border-zinc-800`:`border-zinc-200`}`,d;t[0]===i?d=t[1]:(d=(0,I.jsx)(p,{className:`absolute right-3 top-3 cursor-pointer`,onClick:i}),t[0]=i,t[1]=d);let f;t[2]!==u||t[3]!==d||t[4]!==n?(f=(0,I.jsxs)(`div`,{className:u,children:[n,d]}),t[2]=u,t[3]=d,t[4]=n,t[5]=f):f=t[5];let m;t[6]!==c||t[7]!==o||t[8]!==a||t[9]!==r?(m=c?(0,I.jsx)(`div`,{className:`flex items-center justify-center h-full`,children:(0,I.jsx)(`div`,{className:`w-8 h-8 border-4 border-[#006a4e] border-t-transparent rounded-full animate-spin`})}):r.map((e,t)=>(0,I.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded-lg ${a===`dark`?`hover:bg-white/5`:`hover:bg-black/5`} cursor-pointer`,onClick:()=>o(e),children:[(0,I.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,I.jsxs)(N,{className:`w-12 h-12`,children:[(0,I.jsx)(M,{src:e.avatar}),(0,I.jsx)(k,{children:e.username?.[0]?.toUpperCase()||`?`})]}),(0,I.jsxs)(`div`,{className:`flex flex-col`,children:[(0,I.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,I.jsx)(`span`,{className:`text-sm font-semibold`,children:e.username}),e.isVerified&&(0,I.jsx)(A,{})]}),(0,I.jsx)(`span`,{className:`text-xs opacity-70`,children:e.name||e.username})]})]}),(0,I.jsx)(`button`,{className:`px-4 py-1.5 rounded-lg text-sm font-semibold bg-[#006a4e] text-white hover:bg-[#00523c]`,children:`Follow`})]},t)),t[6]=c,t[7]=o,t[8]=a,t[9]=r,t[10]=m):m=t[10];let h;t[11]!==c||t[12]!==r?(h=!c&&r.length===0&&(0,I.jsx)(`div`,{className:`text-center py-10 text-sm opacity-60`,children:`List is empty`}),t[11]=c,t[12]=r,t[13]=h):h=t[13];let g;t[14]!==m||t[15]!==h?(g=(0,I.jsxs)(`div`,{className:`h-80 overflow-y-auto p-2`,children:[m,h]}),t[14]=m,t[15]=h,t[16]=g):g=t[16];let _;t[17]!==l||t[18]!==f||t[19]!==g?(_=(0,I.jsxs)(`div`,{className:l,onClick:L,children:[f,g]}),t[17]=l,t[18]=f,t[19]=g,t[20]=_):_=t[20];let v;return t[21]!==i||t[22]!==_?(v=(0,I.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4 animate-fade-in`,onClick:i,children:_}),t[21]=i,t[22]=_,t[23]=v):v=t[23],v};function L(e){return e.stopPropagation()}var R=o();const oe=(e,t)=>{let n=(0,R.c)(8),i,a;n[0]!==t||n[1]!==e?(i=[`follows`,e,t],a=async()=>{if(!e||!t)return[];let n=O.from(`follows`).select(`
        follower_id,
        following_id,
        follower:profiles!follower_id(username, full_name, avatar_url, id, is_verified),
        following:profiles!following_id(username, full_name, avatar_url, id, is_verified)
      `);n=t===`followers`?n.eq(`following_id`,e):n.eq(`follower_id`,e);let{data:r,error:i}=await n;if(i)throw i;return(r||[]).map(e=>{let n=t===`followers`?e.follower:e.following;return n?{username:n.username,name:n.full_name||n.username||`User`,avatar:n.avatar_url||``,id:n.id,isVerified:n.is_verified||!1,stats:{posts:0,followers:0,following:0},isFollowing:!1}:null}).filter(Boolean)},n[0]=t,n[1]=e,n[2]=i,n[3]=a):(i=n[2],a=n[3]);let o=!!e&&!!t,s;return n[4]!==i||n[5]!==a||n[6]!==o?(s={queryKey:i,queryFn:a,enabled:o},n[4]=i,n[5]=a,n[6]=o,n[7]=s):s=n[7],r(s)};var z=o(),B=e(D(),1);const V=[`savedPosts`],H=e=>{let t=(0,z.c)(8),n;t[0]===e?n=t[1]:(n=[...V,e],t[0]=e,t[1]=n);let i=!!e,a;t[2]===e?a=t[3]:(a=async()=>{if(!e)return[];let{data:t,error:n}=await O.from(`saves`).select(`
            created_at,
            post:posts (
                *,
                likes (count),
                comments (count),
                user:profiles (
                    username, full_name, avatar_url, is_verified
                )
            )
        `).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n)throw n;return t.map(U).filter(Boolean)},t[2]=e,t[3]=a);let o;return t[4]!==n||t[5]!==i||t[6]!==a?(o={queryKey:n,enabled:i,queryFn:a},t[4]=n,t[5]=i,t[6]=a,t[7]=o):o=t[7],r(o)};function U(e){let t=e.post;return t?{id:t.id,user:{username:t.user?.username||`Unknown`,name:t.user?.full_name||``,avatar:t.user?.avatar_url||``,isVerified:t.user?.is_verified||!1},content:{type:`image`,src:t.image_url},likes:t.likes?.[0]?.count||0,caption:t.caption||``,comments:t.comments?.[0]?.count||0,time:(0,B.default)(t.created_at).fromNow(),hasLiked:!1,hasSaved:!0,isVerified:t.user?.is_verified||!1}:null}var se=o(),ce=e(D(),1);const le=[`taggedPosts`],ue=e=>{let t=(0,se.c)(8),n;t[0]===e?n=t[1]:(n=[...le,e],t[0]=e,t[1]=n);let i=!!e,a;t[2]===e?a=t[3]:(a=async()=>{if(!e)return[];let{data:t,error:n}=await O.from(`post_tags`).select(`
            post:posts (
                *,
                likes (count),
                comments (count),
                user:profiles (
                    username, full_name, avatar_url, is_verified
                )
            )
        `).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n){if(n.code===`42P01`)return[];throw n}return t.map(de).filter(Boolean)},t[2]=e,t[3]=a);let o;return t[4]!==n||t[5]!==i||t[6]!==a?(o={queryKey:n,enabled:i,queryFn:a},t[4]=n,t[5]=i,t[6]=a,t[7]=o):o=t[7],r(o)};function de(e){let t=e.post;return t?{id:t.id,user:{username:t.user?.username||`Unknown`,name:t.user?.full_name||``,avatar:t.user?.avatar_url||``,isVerified:t.user?.is_verified||!1},content:{type:`image`,src:t.image_url},likes:t.likes?.[0]?.count||0,caption:t.caption||``,comments:t.comments?.[0]?.count||0,time:(0,ce.default)(t.created_at).fromNow(),hasLiked:!1,hasSaved:!1,isVerified:t.user?.is_verified||!1}:null}var fe=o(),pe=e=>{let t=(0,fe.c)(52),{onClose:n}=e,{theme:r,showToast:i}=ne(),{signOut:a}=ee(),o=r===`dark`?`bg-[#121212]/90 backdrop-blur-2xl border border-white/10`:`bg-white/90 backdrop-blur-2xl border border-black/10`,c;t[0]!==n||t[1]!==a?(c=async()=>{await a(),n()},t[0]=n,t[1]=a,t[2]=c):c=t[2];let l=c,u;t[3]===i?u=t[4]:(u=e=>{i(`${e} - Coming soon`)},t[3]=i,t[4]=u);let d=u,f,h,g;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(f={opacity:0},h={opacity:1},g={opacity:0},t[5]=f,t[6]=h,t[7]=g):(f=t[5],h=t[6],g=t[7]);let _,v,y;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(_={scale:.9,opacity:0},v={scale:1,opacity:1},y={scale:.9,opacity:0},t[8]=_,t[9]=v,t[10]=y):(_=t[8],v=t[9],y=t[10]);let b=`w-full max-w-sm rounded-xl overflow-hidden shadow-2xl ${o} ${r===`dark`?`text-white`:`text-black`}`,S=`p-4 border-b font-bold flex justify-between items-center ${r===`dark`?`border-zinc-800`:`border-zinc-200`}`,C;t[11]===Symbol.for(`react.memo_cache_sentinel`)?(C=(0,I.jsx)(`span`,{children:`Settings`}),t[11]=C):C=t[11];let T;t[12]===Symbol.for(`react.memo_cache_sentinel`)?(T=(0,I.jsx)(p,{className:`h-5 w-5`}),t[12]=T):T=t[12];let D;t[13]===n?D=t[14]:(D=(0,I.jsx)(j,{variant:`ghost`,size:`icon`,onClick:n,children:T}),t[13]=n,t[14]=D);let O;t[15]!==S||t[16]!==D?(O=(0,I.jsxs)(`div`,{className:S,children:[C,D]}),t[15]=S,t[16]=D,t[17]=O):O=t[17];let k;t[18]===d?k=t[19]:(k=()=>d(`Notifications`),t[18]=d,t[19]=k);let A,te;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(A=(0,I.jsx)(w,{size:20}),te=(0,I.jsx)(`span`,{children:`Notifications and Sounds`}),t[20]=A,t[21]=te):(A=t[20],te=t[21]);let M;t[22]===k?M=t[23]:(M=(0,I.jsxs)(j,{variant:`ghost`,onClick:k,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[A,te]}),t[22]=k,t[23]=M);let N;t[24]===d?N=t[25]:(N=()=>d(`Privacy`),t[24]=d,t[25]=N);let re,ie;t[26]===Symbol.for(`react.memo_cache_sentinel`)?(re=(0,I.jsx)(x,{size:20}),ie=(0,I.jsx)(`span`,{children:`Privacy and Security`}),t[26]=re,t[27]=ie):(re=t[26],ie=t[27]);let P;t[28]===N?P=t[29]:(P=(0,I.jsxs)(j,{variant:`ghost`,onClick:N,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[re,ie]}),t[28]=N,t[29]=P);let F;t[30]===d?F=t[31]:(F=()=>d(`Account`),t[30]=d,t[31]=F);let ae,L;t[32]===Symbol.for(`react.memo_cache_sentinel`)?(ae=(0,I.jsx)(s,{size:20}),L=(0,I.jsx)(`span`,{children:`Account Center`}),t[32]=ae,t[33]=L):(ae=t[32],L=t[33]);let R;t[34]===F?R=t[35]:(R=(0,I.jsxs)(j,{variant:`ghost`,onClick:F,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none border-b border-border`,children:[ae,L]}),t[34]=F,t[35]=R);let oe,z;t[36]===Symbol.for(`react.memo_cache_sentinel`)?(oe=(0,I.jsx)(E,{size:20}),z=(0,I.jsx)(`span`,{children:`Log Out`}),t[36]=oe,t[37]=z):(oe=t[36],z=t[37]);let B;t[38]===l?B=t[39]:(B=(0,I.jsxs)(j,{variant:`ghost`,onClick:l,className:`flex items-center justify-start gap-3 p-4 h-auto w-full rounded-none text-red-500 hover:text-red-600 hover:bg-red-500/10`,children:[oe,z]}),t[38]=l,t[39]=B);let V;t[40]!==O||t[41]!==M||t[42]!==P||t[43]!==R||t[44]!==B?(V=(0,I.jsxs)(`div`,{className:`flex flex-col`,children:[O,M,P,R,B]}),t[40]=O,t[41]=M,t[42]=P,t[43]=R,t[44]=B,t[45]=V):V=t[45];let H;t[46]!==V||t[47]!==b?(H=(0,I.jsx)(m.div,{initial:_,animate:v,exit:y,className:b,onClick:me,children:V}),t[46]=V,t[47]=b,t[48]=H):H=t[48];let U;return t[49]!==n||t[50]!==H?(U=(0,I.jsx)(m.div,{initial:f,animate:h,exit:g,className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4`,onClick:n,children:H}),t[49]=n,t[50]=H,t[51]=U):U=t[51],U};function me(e){return e.stopPropagation()}var he=o(),ge=e=>{let t=(0,he.c)(26),{onClose:n}=e,{theme:r}=ne(),i=r===`dark`?`bg-[#121212]/90 backdrop-blur-2xl border border-white/10`:`bg-white/90 backdrop-blur-2xl border border-black/10`,a,o,s;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(a={opacity:0},o={opacity:1},s={opacity:0},t[0]=a,t[1]=o,t[2]=s):(a=t[0],o=t[1],s=t[2]);let c,l,u;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(c={scale:.9,opacity:0},l={scale:1,opacity:1},u={scale:.9,opacity:0},t[3]=c,t[4]=l,t[5]=u):(c=t[3],l=t[4],u=t[5]);let d=`w-full max-w-sm rounded-xl overflow-hidden shadow-2xl ${i} ${r===`dark`?`text-white`:`text-black`}`,h=`p-4 border-b font-bold flex justify-between items-center ${r===`dark`?`border-zinc-800`:`border-zinc-200`}`,g;t[6]===Symbol.for(`react.memo_cache_sentinel`)?(g=(0,I.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,I.jsx)(`span`,{children:`Archive`}),(0,I.jsx)(f,{size:16,className:`opacity-50`})]}),t[6]=g):g=t[6];let _;t[7]===n?_=t[8]:(_=(0,I.jsx)(p,{className:`cursor-pointer`,onClick:n}),t[7]=n,t[8]=_);let v;t[9]!==_||t[10]!==h?(v=(0,I.jsxs)(`div`,{className:h,children:[g,_]}),t[9]=_,t[10]=h,t[11]=v):v=t[11];let y=`p-4 rounded-full mb-4 ${r===`dark`?`bg-zinc-800`:`bg-gray-100`}`,b;t[12]===Symbol.for(`react.memo_cache_sentinel`)?(b=(0,I.jsx)(f,{size:32}),t[12]=b):b=t[12];let x;t[13]===y?x=t[14]:(x=(0,I.jsx)(`div`,{className:y,children:b}),t[13]=y,t[14]=x);let S,C;t[15]===Symbol.for(`react.memo_cache_sentinel`)?(S=(0,I.jsx)(`h3`,{className:`font-bold text-lg mb-1`,children:`Archive is empty`}),C=(0,I.jsx)(`p`,{className:`text-sm`,children:`When you archive posts or stories, they will appear here.`}),t[15]=S,t[16]=C):(S=t[15],C=t[16]);let w;t[17]===x?w=t[18]:(w=(0,I.jsxs)(`div`,{className:`h-64 flex flex-col items-center justify-center p-6 text-center opacity-70`,children:[x,S,C]}),t[17]=x,t[18]=w);let T;t[19]!==v||t[20]!==w||t[21]!==d?(T=(0,I.jsxs)(m.div,{initial:c,animate:l,exit:u,className:d,onClick:_e,children:[v,w]}),t[19]=v,t[20]=w,t[21]=d,t[22]=T):T=t[22];let E;return t[23]!==n||t[24]!==T?(E=(0,I.jsx)(m.div,{initial:a,animate:o,exit:s,className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4`,onClick:n,children:T}),t[23]=n,t[24]=T,t[25]=E):E=t[25],E};function _e(e){return e.stopPropagation()}var ve=o(),ye=()=>{let e=(0,ve.c)(200),{currentUser:t,theme:r,setViewingPost:o,setEditProfileOpen:s,addStory:l,setCreateModalOpen:f}=ne(),{username:p}=y(),m=_(),{user:x}=ee(),w=!p||p===x?.user_metadata?.username,[E,D]=(0,F.useState)(`posts`),[P,L]=(0,F.useState)(null),[R,z]=(0,F.useState)(!1),[B,V]=(0,F.useState)(!1),{data:U,isLoading:se,isError:ce}=te(p||x?.user_metadata?.username||t.username,x?.id),{mutate:le}=re(),{data:de,isLoading:fe}=oe(U?.user?.id||``,P),me;e[0]===de?me=e[1]:(me=de===void 0?[]:de,e[0]=de,e[1]=me);let he=me,{data:_e}=H(w?x?.id:void 0),ye;e[2]===_e?ye=e[3]:(ye=_e===void 0?[]:_e,e[2]=_e,e[3]=ye);let xe=ye,{data:Se}=ue(U?.user?.id),Ce;e[4]===Se?Ce=e[5]:(Ce=Se===void 0?[]:Se,e[4]=Se,e[5]=Ce);let we=Ce,W=U?.user,Te;e[6]===U?.posts?Te=e[7]:(Te=U?.posts||[],e[6]=U?.posts,e[7]=Te);let Ee=Te,G=W?.isFollowing||!1,De;e[8]!==w||e[9]!==W?(De=()=>{W?.id&&!w&&O.rpc(`track_user_interaction`,{target_user_id:W.id,interaction_type:`visit`}).then(be)},e[8]=w,e[9]=W,e[10]=De):De=e[10];let Oe=W?.id,ke;e[11]!==w||e[12]!==Oe?(ke=[Oe,w],e[11]=w,e[12]=Oe,e[13]=ke):ke=e[13],F.useEffect(De,ke);let Ae=r===`dark`?`border-zinc-800`:`border-zinc-200`,K=r===`dark`?`text-[#a8a8a8]`:`text-zinc-500`,je=E===`saved`?xe:E===`tagged`?we:Ee,Me;e[14]===Symbol.for(`react.memo_cache_sentinel`)?(Me=e=>L(e),e[14]=Me):Me=e[14];let Ne=Me,Pe;e[15]===Symbol.for(`react.memo_cache_sentinel`)?(Pe=()=>L(null),e[15]=Pe):Pe=e[15];let Fe=Pe,Ie;e[16]===m?Ie=e[17]:(Ie=e=>{m(`/profile/${e.username}`)},e[16]=m,e[17]=Ie);let Le=Ie,Re;e[18]!==x||e[19]!==U?.user?.id||e[20]!==le||e[21]!==W||e[22]!==G?(Re=()=>{!W?.username||!x?.id||!W.id||le({targetUserId:U?.user?.id||``,currentUserId:x.id,isFollowing:G,targetUsername:W.username})},e[18]=x,e[19]=U?.user?.id,e[20]=le,e[21]=W,e[22]=G,e[23]=Re):Re=e[23];let ze=Re,Be;e[24]===l?Be=e[25]:(Be=e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],n=new FileReader;n.onload=e=>{l(e.target?.result)},n.readAsDataURL(t)}},e[24]=l,e[25]=Be);let Ve=Be;if(se){let t;return e[26]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,I.jsx)(`div`,{className:`flex justify-center p-10`,children:`Loading...`}),e[26]=t):t=e[26],t}if(ce||!W){let t;return e[27]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,I.jsx)(`div`,{className:`flex justify-center p-10`,children:`Profile not found`}),e[27]=t):t=e[27],t}let q;e[28]!==he||e[29]!==fe||e[30]!==P||e[31]!==Le||e[32]!==r?(q=P&&(0,I.jsx)(ae,{title:P===`followers`?`Followers`:`Following`,users:he,loading:fe,onClose:Fe,theme:r,onUserClick:e=>{Le(e),Fe()},glassModal:r===`dark`?`bg-[#121212]/90 backdrop-blur-2xl border border-white/10`:`bg-white/90 backdrop-blur-2xl border border-black/10`}),e[28]=he,e[29]=fe,e[30]=P,e[31]=Le,e[32]=r,e[33]=q):q=e[33];let J;e[34]===R?J=e[35]:(J=R&&(0,I.jsx)(pe,{onClose:()=>z(!1)}),e[34]=R,e[35]=J);let Y;e[36]===B?Y=e[37]:(Y=B&&(0,I.jsx)(ge,{onClose:()=>V(!1)}),e[36]=B,e[37]=Y);let He=`md:hidden sticky top-0 z-10 border-b ${Ae} px-4 h-[44px] flex items-center justify-between ${r===`dark`?`bg-black/90 backdrop-blur-md`:`bg-white/90 backdrop-blur-md`}`,X;e[38]!==w||e[39]!==m?(X=!w&&(0,I.jsx)(g,{size:24,onClick:()=>m(-1),className:`cursor-pointer mr-2`}),e[38]=w,e[39]=m,e[40]=X):X=e[40];let Z;e[41]===W.isVerified?Z=e[42]:(Z=W.isVerified&&(0,I.jsx)(A,{}),e[41]=W.isVerified,e[42]=Z);let Q;e[43]===w?Q=e[44]:(Q=w&&(0,I.jsx)(i,{size:16}),e[43]=w,e[44]=Q);let Ue;e[45]!==W.username||e[46]!==X||e[47]!==Z||e[48]!==Q?(Ue=(0,I.jsxs)(`div`,{className:`flex items-center gap-1 font-bold text-lg`,children:[X,W.username,Z,Q]}),e[45]=W.username,e[46]=X,e[47]=Z,e[48]=Q,e[49]=Ue):Ue=e[49];let We;e[50]!==w||e[51]!==f?(We=(0,I.jsx)(c,{size:24,onClick:()=>{w&&f(!0)}}),e[50]=w,e[51]=f,e[52]=We):We=e[52];let Ge;e[53]===Symbol.for(`react.memo_cache_sentinel`)?(Ge=(0,I.jsx)(b,{size:24}),e[53]=Ge):Ge=e[53];let Ke;e[54]===We?Ke=e[55]:(Ke=(0,I.jsxs)(`div`,{className:`flex gap-6`,children:[We,Ge]}),e[54]=We,e[55]=Ke);let qe;e[56]!==He||e[57]!==Ue||e[58]!==Ke?(qe=(0,I.jsxs)(`div`,{className:He,children:[Ue,Ke]}),e[56]=He,e[57]=Ue,e[58]=Ke,e[59]=qe):qe=e[59];let Je;e[60]===W.avatar?Je=e[61]:(Je=(0,I.jsx)(M,{src:W.avatar}),e[60]=W.avatar,e[61]=Je);let Ye;e[62]===W.username[0]?Ye=e[63]:(Ye=W.username[0].toUpperCase(),e[62]=W.username[0],e[63]=Ye);let Xe;e[64]===Ye?Xe=e[65]:(Xe=(0,I.jsx)(k,{className:`text-2xl`,children:Ye}),e[64]=Ye,e[65]=Xe);let Ze;e[66]!==Je||e[67]!==Xe?(Ze=(0,I.jsxs)(N,{className:`w-[77px] h-[77px] md:w-[150px] md:h-[150px] border border-zinc-800 cursor-pointer`,children:[Je,Xe]}),e[66]=Je,e[67]=Xe,e[68]=Ze):Ze=e[68];let Qe;e[69]!==Ve||e[70]!==w?(Qe=w&&(0,I.jsxs)(`label`,{className:`absolute bottom-0 right-10 md:right-16 bg-[#0095f6] rounded-full p-1 border-2 border-black cursor-pointer`,children:[(0,I.jsx)(v,{size:16,className:`text-white`}),(0,I.jsx)(`input`,{type:`file`,className:`hidden`,accept:`image/*`,onChange:Ve})]}),e[69]=Ve,e[70]=w,e[71]=Qe):Qe=e[71];let $e;e[72]!==Ze||e[73]!==Qe?($e=(0,I.jsxs)(`div`,{className:`flex-shrink-0 md:w-[290px] flex justify-start md:justify-center relative`,children:[Ze,Qe]}),e[72]=Ze,e[73]=Qe,e[74]=$e):$e=e[74];let et=W.stats?.posts||0,tt;e[75]===et?tt=e[76]:(tt=(0,I.jsx)(`span`,{className:`font-semibold text-lg`,children:et}),e[75]=et,e[76]=tt);let nt=`text-sm ${K}`,rt;e[77]===nt?rt=e[78]:(rt=(0,I.jsx)(`span`,{className:nt,children:`posts`}),e[77]=nt,e[78]=rt);let it;e[79]!==tt||e[80]!==rt?(it=(0,I.jsxs)(`div`,{className:`flex flex-col`,children:[tt,rt]}),e[79]=tt,e[80]=rt,e[81]=it):it=e[81];let at;e[82]===Symbol.for(`react.memo_cache_sentinel`)?(at=()=>Ne(`followers`),e[82]=at):at=e[82];let ot=W.stats?.followers||0,st;e[83]===ot?st=e[84]:(st=(0,I.jsx)(`span`,{className:`font-semibold text-lg`,children:ot}),e[83]=ot,e[84]=st);let ct=`text-sm ${K}`,lt;e[85]===ct?lt=e[86]:(lt=(0,I.jsx)(`span`,{className:ct,children:`followers`}),e[85]=ct,e[86]=lt);let ut;e[87]!==st||e[88]!==lt?(ut=(0,I.jsxs)(`div`,{className:`flex flex-col cursor-pointer`,onClick:at,children:[st,lt]}),e[87]=st,e[88]=lt,e[89]=ut):ut=e[89];let dt;e[90]===Symbol.for(`react.memo_cache_sentinel`)?(dt=()=>Ne(`following`),e[90]=dt):dt=e[90];let ft=W.stats?.following||0,pt;e[91]===ft?pt=e[92]:(pt=(0,I.jsx)(`span`,{className:`font-semibold text-lg`,children:ft}),e[91]=ft,e[92]=pt);let mt=`text-sm ${K}`,ht;e[93]===mt?ht=e[94]:(ht=(0,I.jsx)(`span`,{className:mt,children:`following`}),e[93]=mt,e[94]=ht);let gt;e[95]!==pt||e[96]!==ht?(gt=(0,I.jsxs)(`div`,{className:`flex flex-col cursor-pointer`,onClick:dt,children:[pt,ht]}),e[95]=pt,e[96]=ht,e[97]=gt):gt=e[97];let _t;e[98]!==it||e[99]!==ut||e[100]!==gt?(_t=(0,I.jsxs)(`div`,{className:`flex md:hidden justify-around flex-grow text-center`,children:[it,ut,gt]}),e[98]=it,e[99]=ut,e[100]=gt,e[101]=_t):_t=e[101];let vt;e[102]!==$e||e[103]!==_t?(vt=(0,I.jsxs)(`div`,{className:`flex flex-row md:flex-col items-center gap-8 md:gap-0 w-full md:w-auto`,children:[$e,_t]}),e[102]=$e,e[103]=_t,e[104]=vt):vt=e[104];let yt;e[105]===W.isVerified?yt=e[106]:(yt=W.isVerified&&(0,I.jsx)(A,{}),e[105]=W.isVerified,e[106]=yt);let bt;e[107]!==W.username||e[108]!==yt?(bt=(0,I.jsxs)(`h2`,{className:`text-xl font-normal mr-2 hidden md:flex items-center gap-1`,children:[W.username,yt]}),e[107]=W.username,e[108]=yt,e[109]=bt):bt=e[109];let xt;e[110]!==ze||e[111]!==w||e[112]!==m||e[113]!==W||e[114]!==s||e[115]!==G?(xt=(0,I.jsx)(`div`,{className:`flex gap-2 w-full md:w-auto`,children:w?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(j,{variant:`secondary`,onClick:()=>s(!0),className:`text-sm font-semibold h-8`,children:`Edit profile`}),(0,I.jsx)(j,{variant:`secondary`,onClick:()=>V(!0),className:`text-sm font-semibold h-8`,children:`View Archive`})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(j,{onClick:ze,className:`${G?`bg-secondary text-secondary-foreground hover:bg-secondary/80`:`bg-[#006a4e] text-white hover:bg-[#00523c]`} text-sm font-semibold h-8`,variant:G?`secondary`:`default`,children:G?`Following`:`Follow`}),(0,I.jsx)(j,{variant:`secondary`,onClick:()=>m(`/messages/${W.username}`,{state:{user:W}}),className:`text-sm font-semibold h-8`,children:`Message`})]})}),e[110]=ze,e[111]=w,e[112]=m,e[113]=W,e[114]=s,e[115]=G,e[116]=xt):xt=e[116];let St;e[117]!==w||e[118]!==r?(St=w&&(0,I.jsx)(j,{variant:`ghost`,size:`icon`,onClick:()=>z(!0),className:`hidden md:flex ${r===`dark`?`text-white`:`text-black`}`,children:(0,I.jsx)(u,{size:24})}),e[117]=w,e[118]=r,e[119]=St):St=e[119];let Ct;e[120]!==bt||e[121]!==xt||e[122]!==St?(Ct=(0,I.jsxs)(`div`,{className:`flex flex-col md:flex-row items-start md:items-center gap-4`,children:[bt,xt,St]}),e[120]=bt,e[121]=xt,e[122]=St,e[123]=Ct):Ct=e[123];let wt=W.stats?.posts||0,Tt;e[124]===wt?Tt=e[125]:(Tt=(0,I.jsxs)(`span`,{children:[(0,I.jsx)(`span`,{className:`font-semibold`,children:wt}),` `,`Posts`]}),e[124]=wt,e[125]=Tt);let Et;e[126]===Symbol.for(`react.memo_cache_sentinel`)?(Et=()=>Ne(`followers`),e[126]=Et):Et=e[126];let Dt=W.stats?.followers||0,Ot;e[127]===Dt?Ot=e[128]:(Ot=(0,I.jsxs)(`span`,{className:`cursor-pointer`,onClick:Et,children:[(0,I.jsx)(`span`,{className:`font-semibold`,children:Dt}),` `,`Followers`]}),e[127]=Dt,e[128]=Ot);let kt;e[129]===Symbol.for(`react.memo_cache_sentinel`)?(kt=()=>Ne(`following`),e[129]=kt):kt=e[129];let At=W.stats?.following||0,jt;e[130]===At?jt=e[131]:(jt=(0,I.jsxs)(`span`,{className:`cursor-pointer`,onClick:kt,children:[(0,I.jsx)(`span`,{className:`font-semibold`,children:At}),` `,`Following`]}),e[130]=At,e[131]=jt);let Mt;e[132]!==Tt||e[133]!==Ot||e[134]!==jt?(Mt=(0,I.jsxs)(`div`,{className:`hidden md:flex gap-10 text-base`,children:[Tt,Ot,jt]}),e[132]=Tt,e[133]=Ot,e[134]=jt,e[135]=Mt):Mt=e[135];let $;e[136]===W.name?$=e[137]:($=(0,I.jsx)(`div`,{className:`font-semibold`,children:W.name}),e[136]=W.name,e[137]=$);let Nt;e[138]!==w||e[139]!==W.isOnline||e[140]!==W.lastSeen?(Nt=!w&&(0,I.jsx)(ie,{isOnline:W.isOnline||!1,lastSeen:W.lastSeen||null}),e[138]=w,e[139]=W.isOnline,e[140]=W.lastSeen,e[141]=Nt):Nt=e[141];let Pt;e[142]!==$||e[143]!==Nt?(Pt=(0,I.jsxs)(`div`,{className:`flex items-center gap-2`,children:[$,Nt]}),e[142]=$,e[143]=Nt,e[144]=Pt):Pt=e[144];let Ft;e[145]===Symbol.for(`react.memo_cache_sentinel`)?(Ft=(0,I.jsx)(n,{size:10}),e[145]=Ft):Ft=e[145];let It;e[146]===Symbol.for(`react.memo_cache_sentinel`)?(It=(0,I.jsxs)(`div`,{className:`flex items-center gap-1 bg-[#262626] w-fit px-2 py-1 rounded-full text-xs text-[#a8a8a8] mt-1 mb-2 cursor-pointer hover:bg-[#363636]`,children:[Ft,` `,(0,I.jsx)(`span`,{children:`Threads`})]}),e[146]=It):It=e[146];let Lt=W.bio||``,Rt;e[147]===Lt?Rt=e[148]:(Rt=(0,I.jsx)(`div`,{className:`whitespace-pre-wrap`,children:Lt}),e[147]=Lt,e[148]=Rt);let zt;e[149]!==Pt||e[150]!==Rt?(zt=(0,I.jsxs)(`div`,{className:`text-sm px-1 md:px-0`,children:[Pt,It,Rt]}),e[149]=Pt,e[150]=Rt,e[151]=zt):zt=e[151];let Bt;e[152]!==Ct||e[153]!==Mt||e[154]!==zt?(Bt=(0,I.jsxs)(`div`,{className:`flex-grow flex flex-col gap-4 w-full`,children:[Ct,Mt,zt]}),e[152]=Ct,e[153]=Mt,e[154]=zt,e[155]=Bt):Bt=e[155];let Vt;e[156]!==vt||e[157]!==Bt?(Vt=(0,I.jsxs)(`header`,{className:`flex flex-col md:flex-row gap-6 md:gap-12 mb-4 md:mb-10 items-start md:items-stretch px-4 md:px-0 pt-4 md:pt-0`,children:[vt,Bt]}),e[156]=vt,e[157]=Bt,e[158]=Vt):Vt=e[158];let Ht;e[159]!==Ae||e[160]!==w||e[161]!==r?(Ht=w&&(0,I.jsx)(`div`,{className:`mb-10 flex gap-4 overflow-x-auto pb-2 scrollbar-hide px-4 md:px-0`,children:(0,I.jsxs)(`div`,{className:`flex flex-col items-center gap-2 cursor-pointer group`,children:[(0,I.jsx)(`div`,{className:`w-[64px] h-[64px] md:w-[77px] md:h-[77px] rounded-full border ${Ae} ${r===`dark`?`bg-black`:`bg-white`} flex items-center justify-center group-hover:bg-zinc-900 transition-colors`,children:(0,I.jsx)(`div`,{className:`w-[60px] h-[60px] md:w-[74px] md:h-[74px] rounded-full border-[2px] border-inherit flex items-center justify-center`,children:(0,I.jsx)(c,{size:24,strokeWidth:1,className:`text-zinc-400 md:w-8 md:h-8`})})}),(0,I.jsx)(`span`,{className:`text-xs font-semibold`,children:`New`})]})}),e[159]=Ae,e[160]=w,e[161]=r,e[162]=Ht):Ht=e[162];let Ut=`border-t ${Ae}`,Wt;e[163]===Symbol.for(`react.memo_cache_sentinel`)?(Wt=()=>D(`posts`),e[163]=Wt):Wt=e[163];let Gt=`flex items-center justify-center gap-2 h-[44px] md:h-[52px] border-t-2 md:border-t flex-1 md:flex-none text-xs font-semibold tracking-widest transition-colors ${E===`posts`?r===`dark`?`border-white text-white`:`border-black text-black`:`border-transparent text-[#a8a8a8]`}`,Kt,qt;e[164]===Symbol.for(`react.memo_cache_sentinel`)?(Kt=(0,I.jsx)(S,{size:12,className:`md:size-3 size-6`}),qt=(0,I.jsx)(`span`,{className:`hidden md:block`,children:`Posts`}),e[164]=Kt,e[165]=qt):(Kt=e[164],qt=e[165]);let Jt;e[166]===Gt?Jt=e[167]:(Jt=(0,I.jsxs)(`button`,{onClick:Wt,className:Gt,children:[Kt,qt]}),e[166]=Gt,e[167]=Jt);let Yt;e[168]!==E||e[169]!==w||e[170]!==r?(Yt=w&&(0,I.jsxs)(`button`,{onClick:()=>D(`saved`),className:`flex items-center justify-center gap-2 h-[44px] md:h-[52px] border-t-2 md:border-t flex-1 md:flex-none text-xs font-semibold tracking-widest transition-colors ${E===`saved`?r===`dark`?`border-white text-white`:`border-black text-black`:`border-transparent text-[#a8a8a8]`}`,children:[(0,I.jsx)(h,{size:12,className:`md:size-3 size-6`}),(0,I.jsx)(`span`,{className:`hidden md:block`,children:`Saved`})]}),e[168]=E,e[169]=w,e[170]=r,e[171]=Yt):Yt=e[171];let Xt;e[172]===Symbol.for(`react.memo_cache_sentinel`)?(Xt=()=>D(`tagged`),e[172]=Xt):Xt=e[172];let Zt=`flex items-center justify-center gap-2 h-[44px] md:h-[52px] border-t-2 md:border-t flex-1 md:flex-none text-xs font-semibold tracking-widest transition-colors ${E===`tagged`?r===`dark`?`border-white text-white`:`border-black text-black`:`border-transparent text-[#a8a8a8]`}`,Qt,$t;e[173]===Symbol.for(`react.memo_cache_sentinel`)?(Qt=(0,I.jsx)(d,{size:12,className:`md:size-3 size-6`}),$t=(0,I.jsx)(`span`,{className:`hidden md:block`,children:`Tagged`}),e[173]=Qt,e[174]=$t):(Qt=e[173],$t=e[174]);let en;e[175]===Zt?en=e[176]:(en=(0,I.jsxs)(`button`,{onClick:Xt,className:Zt,children:[Qt,$t]}),e[175]=Zt,e[176]=en);let tn;e[177]!==Jt||e[178]!==Yt||e[179]!==en?(tn=(0,I.jsxs)(`div`,{className:`flex justify-around md:justify-center gap-0 md:gap-12`,children:[Jt,Yt,en]}),e[177]=Jt,e[178]=Yt,e[179]=en,e[180]=tn):tn=e[180];let nn;e[181]!==Ut||e[182]!==tn?(nn=(0,I.jsx)(`div`,{className:Ut,children:tn}),e[181]=Ut,e[182]=tn,e[183]=nn):nn=e[183];let rn;e[184]!==E||e[185]!==je||e[186]!==w||e[187]!==o||e[188]!==K||e[189]!==r?(rn=je.length>0?(0,I.jsx)(`div`,{className:`grid grid-cols-3 gap-1 md:gap-8`,children:je.map(e=>(0,I.jsxs)(`div`,{className:`relative aspect-square group cursor-pointer overflow-hidden`,onClick:()=>o(e),children:[(0,I.jsx)(`img`,{src:e.content.src||e.content.poster,className:`w-full h-full object-cover transition-transform duration-300 group-hover:scale-110`,alt:`post grid`,loading:`lazy`}),(0,I.jsxs)(`div`,{className:`absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-6 text-white font-bold z-20`,children:[(0,I.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,I.jsx)(T,{fill:`white`,size:20}),` `,e.likes]}),(0,I.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,I.jsx)(C,{fill:`white`,size:20,className:`-scale-x-100`}),` `,e.comments]})]})]},e.id))}):(0,I.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-20 text-center`,children:[w&&(0,I.jsx)(`div`,{className:`w-16 h-16 rounded-full border-2 flex items-center justify-center mb-4 ${r===`dark`?`border-white`:`border-black`}`,children:(0,I.jsx)(a,{size:34,strokeWidth:1})}),(0,I.jsx)(`h2`,{className:`text-xl font-bold mb-2 text-[#a8a8a8]`,children:E===`saved`?`No saved posts`:`Nothing yet`}),w&&E===`posts`&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(`p`,{className:`text-sm ${K} mb-4`,children:`When you share photos, they will appear here.`}),(0,I.jsx)(j,{className:`bg-[#006a4e] text-white hover:bg-[#00523c] font-semibold text-sm h-9`,children:`Share your first photo`})]})]}),e[184]=E,e[185]=je,e[186]=w,e[187]=o,e[188]=K,e[189]=r,e[190]=rn):rn=e[190];let an;return e[191]!==q||e[192]!==J||e[193]!==Y||e[194]!==qe||e[195]!==Vt||e[196]!==Ht||e[197]!==nn||e[198]!==rn?(an=(0,I.jsxs)(`div`,{className:`w-full max-w-[935px] px-0 md:px-5 py-0 md:py-[30px]`,children:[q,J,Y,qe,Vt,Ht,nn,rn]}),e[191]=q,e[192]=J,e[193]=Y,e[194]=qe,e[195]=Vt,e[196]=Ht,e[197]=nn,e[198]=rn,e[199]=an):an=e[199],an};function be(e){let{error:t}=e;t&&console.error(`Tracking error`,t)}export{ye as default};