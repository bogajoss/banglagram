import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{B as t,Dt as n,Gt as r,Ht as ee,K as te,N as i,Pt as a,pt as o}from"./vendor-j4eAkL9f.js";import{_ as s,g as c,p as l}from"./index-BnmHHGy6.js";import{t as u}from"./useGetSuggestedUsers-Cr6lfybW.js";var d=n(),f=e(r(),1),p=a(),m=e=>{let t=(0,d.c)(27),{onClose:n,showToast:r,theme:ee,glassModal:te,shareUrl:i}=e,a=`w-full max-w-[300px] rounded-xl overflow-hidden shadow-2xl ${te} ${ee===`dark`?`text-white`:`text-black`}`,o;t[0]!==n||t[1]!==r?(o=(0,p.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`রিপোর্ট করা হয়েছে`),n()},children:`রিপোর্ট করুন`}),t[0]=n,t[1]=r,t[2]=o):o=t[2];let s;t[3]!==n||t[4]!==r?(s=(0,p.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`আনফলো করা হয়েছে`),n()},children:`আনফলো`}),t[3]=n,t[4]=r,t[5]=s):s=t[5];let c;t[6]!==n||t[7]!==r?(c=(0,p.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`ফেভারিটে যোগ করা হয়েছে`),n()},children:`ফেভারিটে যোগ করুন`}),t[6]=n,t[7]=r,t[8]=c):c=t[8];let l;t[9]!==n||t[10]!==i||t[11]!==r?(l=(0,p.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{let e=i||window.location.href;navigator.clipboard.writeText(e),r(`লিঙ্ক কপি করা হয়েছে`),n()},children:`লিঙ্ক কপি করুন`}),t[9]=n,t[10]=i,t[11]=r,t[12]=l):l=t[12];let u;t[13]===n?u=t[14]:(u=(0,p.jsx)(`button`,{className:`py-3.5 hover:bg-white/5 transition-colors`,onClick:n,children:`বাতিল করুন`}),t[13]=n,t[14]=u);let f;t[15]!==o||t[16]!==s||t[17]!==c||t[18]!==l||t[19]!==u?(f=(0,p.jsxs)(`div`,{className:`flex flex-col text-sm font-semibold`,children:[o,s,c,l,u]}),t[15]=o,t[16]=s,t[17]=c,t[18]=l,t[19]=u,t[20]=f):f=t[20];let m;t[21]!==a||t[22]!==f?(m=(0,p.jsx)(`div`,{className:a,onClick:h,children:f}),t[21]=a,t[22]=f,t[23]=m):m=t[23];let g;return t[24]!==n||t[25]!==m?(g=(0,p.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4`,onClick:n,children:m}),t[24]=n,t[25]=m,t[26]=g):g=t[26],g};function h(e){return e.stopPropagation()}var g=n(),_=e=>{let n=(0,g.c)(70),{onClose:r,theme:a,showToast:d,glassModal:m,shareUrl:h}=e,_=ee(),{user:ie}=s(),{data:v}=u(ie?.id),y;n[0]===v?y=n[1]:(y=v===void 0?[]:v,n[0]=v,n[1]=y);let b=y,[x,ae]=(0,f.useState)(``),S;n[2]===Symbol.for(`react.memo_cache_sentinel`)?(S=[],n[2]=S):S=n[2];let[oe,se]=(0,f.useState)(S),[ce,le]=(0,f.useState)(!1),C,w;n[3]===x?(C=n[4],w=n[5]):(C=()=>{let e=setTimeout(async()=>{if(x.trim().length>0){le(!0);let{data:e}=await l.from(`profiles`).select(`id, username, full_name, avatar_url, is_verified`).ilike(`username`,`%${x}%`).limit(10);e&&se(e.map(ne)),le(!1)}else se([])},300);return()=>clearTimeout(e)},w=[x],n[3]=x,n[4]=C,n[5]=w),(0,f.useEffect)(C,w);let T;n[6]!==x||n[7]!==oe||n[8]!==b?(T=x.trim()?oe:b.slice(0,8),n[6]=x,n[7]=oe,n[8]=b,n[9]=T):T=n[9];let E=T,ue=`w-full max-w-md rounded-xl overflow-hidden shadow-2xl ${m} ${a===`dark`?`text-white`:`text-black`}`,de=`p-3 border-b text-center font-bold relative ${a===`dark`?`border-zinc-800`:`border-zinc-200`}`,D;n[10]===r?D=n[11]:(D=(0,p.jsx)(i,{className:`absolute right-3 top-3 cursor-pointer`,onClick:r}),n[10]=r,n[11]=D);let O;n[12]!==de||n[13]!==D?(O=(0,p.jsxs)(`div`,{className:de,children:[`শেয়ার করুন`,D]}),n[12]=de,n[13]=D,n[14]=O):O=n[14];let k=`p-4 border-b ${a===`dark`?`border-zinc-700/50`:`border-zinc-200`}`,A=`flex items-center gap-2 px-3 py-2 rounded-lg ${a===`dark`?`bg-[#262626]`:`bg-gray-100`}`,j;n[15]===Symbol.for(`react.memo_cache_sentinel`)?(j=(0,p.jsx)(te,{size:18,className:`text-[#8e8e8e]`}),n[15]=j):j=n[15];let M;n[16]===Symbol.for(`react.memo_cache_sentinel`)?(M=e=>ae(e.target.value),n[16]=M):M=n[16];let N,P;n[17]===x?(N=n[18],P=n[19]):(N=(0,p.jsx)(`input`,{type:`text`,placeholder:`অনুসন্ধান`,value:x,onChange:M,className:`bg-transparent border-none outline-none text-sm w-full`}),P=x&&(0,p.jsx)(i,{size:18,className:`cursor-pointer text-[#8e8e8e]`,onClick:()=>ae(``)}),n[17]=x,n[18]=N,n[19]=P);let F;n[20]!==A||n[21]!==N||n[22]!==P?(F=(0,p.jsxs)(`div`,{className:A,children:[j,N,P]}),n[20]=A,n[21]=N,n[22]=P,n[23]=F):F=n[23];let I;n[24]!==k||n[25]!==F?(I=(0,p.jsx)(`div`,{className:k,children:F}),n[24]=k,n[25]=F,n[26]=I):I=n[26];let L;n[27]!==ce||n[28]!==_||n[29]!==r||n[30]!==d||n[31]!==a||n[32]!==E?(L=ce?(0,p.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`অনুসন্ধান করা হচ্ছে...`}):E.length===0?(0,p.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`কোনো ফলাফল পাওয়া যায়নি`}):E.map((e,t)=>(0,p.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded-lg ${a===`dark`?`hover:bg-white/5`:`hover:bg-black/5`} cursor-pointer transition-colors`,children:[(0,p.jsxs)(`div`,{className:`flex items-center gap-3 flex-grow`,onClick:()=>{r(),_(`/profile/${e.username}`)},children:[(0,p.jsx)(`div`,{className:`w-10 h-10 rounded-full overflow-hidden`,children:(0,p.jsx)(c,{src:e.avatar,className:`w-full h-full`,alt:e.username})}),(0,p.jsxs)(`div`,{className:`flex flex-col`,children:[(0,p.jsx)(`span`,{className:`text-sm font-semibold`,children:e.username}),(0,p.jsx)(`span`,{className:`text-xs opacity-70`,children:e.name||e.username})]})]}),(0,p.jsx)(`button`,{className:`px-4 py-1.5 rounded-lg text-sm font-semibold bg-[#006a4e] text-white hover:bg-[#00523c] transition-colors`,onClick:t=>{t.stopPropagation(),d(`${e.username}-কে পাঠানো হয়েছে`),r()},children:`পাঠান`})]},t)),n[27]=ce,n[28]=_,n[29]=r,n[30]=d,n[31]=a,n[32]=E,n[33]=L):L=n[33];let R;n[34]===L?R=n[35]:(R=(0,p.jsx)(`div`,{className:`h-64 overflow-y-auto p-2`,children:L}),n[34]=L,n[35]=R);let z=`p-4 border-t ${a===`dark`?`border-zinc-800`:`border-zinc-200`} flex gap-4 overflow-x-auto`,B;n[36]!==r||n[37]!==h||n[38]!==d?(B=()=>{let e=h||window.location.href;navigator.clipboard.writeText(e),d(`লিঙ্ক কপি করা হয়েছে`),r()},n[36]=r,n[37]=h,n[38]=d,n[39]=B):B=n[39];let V=`w-12 h-12 rounded-full border flex items-center justify-center ${a===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,H;n[40]===Symbol.for(`react.memo_cache_sentinel`)?(H=(0,p.jsx)(o,{size:20}),n[40]=H):H=n[40];let U;n[41]===V?U=n[42]:(U=(0,p.jsx)(`div`,{className:V,children:H}),n[41]=V,n[42]=U);let W;n[43]===Symbol.for(`react.memo_cache_sentinel`)?(W=(0,p.jsx)(`span`,{className:`text-xs`,children:`লিঙ্ক কপি`}),n[43]=W):W=n[43];let G;n[44]!==B||n[45]!==U?(G=(0,p.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:B,children:[U,W]}),n[44]=B,n[45]=U,n[46]=G):G=n[46];let K;n[47]!==r||n[48]!==d?(K=()=>{d(`আপনার স্টোরিতে যোগ করা হয়েছে`),r()},n[47]=r,n[48]=d,n[49]=K):K=n[49];let fe=`w-12 h-12 rounded-full border flex items-center justify-center ${a===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,q;n[50]===Symbol.for(`react.memo_cache_sentinel`)?(q=(0,p.jsx)(t,{size:20}),n[50]=q):q=n[50];let J;n[51]===fe?J=n[52]:(J=(0,p.jsx)(`div`,{className:fe,children:q}),n[51]=fe,n[52]=J);let Y;n[53]===Symbol.for(`react.memo_cache_sentinel`)?(Y=(0,p.jsx)(`span`,{className:`text-xs`,children:`স্টোরিতে দিন`}),n[53]=Y):Y=n[53];let X;n[54]!==K||n[55]!==J?(X=(0,p.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:K,children:[J,Y]}),n[54]=K,n[55]=J,n[56]=X):X=n[56];let Z;n[57]!==z||n[58]!==G||n[59]!==X?(Z=(0,p.jsxs)(`div`,{className:z,children:[G,X]}),n[57]=z,n[58]=G,n[59]=X,n[60]=Z):Z=n[60];let Q;n[61]!==O||n[62]!==I||n[63]!==R||n[64]!==Z||n[65]!==ue?(Q=(0,p.jsxs)(`div`,{className:ue,onClick:re,children:[O,I,R,Z]}),n[61]=O,n[62]=I,n[63]=R,n[64]=Z,n[65]=ue,n[66]=Q):Q=n[66];let $;return n[67]!==r||n[68]!==Q?($=(0,p.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4 animate-fade-in`,onClick:r,children:Q}),n[67]=r,n[68]=Q,n[69]=$):$=n[69],$};function ne(e){return{id:e.id,username:e.username,name:e.full_name||e.username,avatar:e.avatar_url||``,isVerified:e.is_verified||!1}}function re(e){return e.stopPropagation()}export{m as n,_ as t};