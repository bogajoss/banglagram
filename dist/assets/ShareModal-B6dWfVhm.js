import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{P as t,ct as n,et as r,ft as i,h as ee,l as a,q as o,r as s}from"./vendor-DiY0OKC1.js";import{d as c,f as l,u}from"./index-DaEsvuEM.js";import{t as d}from"./useGetSuggestedUsers-DgtXK9GP.js";var f=o(),p=e(i(),1),m=r(),h=e=>{let t=(0,f.c)(27),{onClose:n,showToast:r,theme:i,glassModal:ee,shareUrl:a}=e,o=`w-full max-w-[300px] rounded-xl overflow-hidden shadow-2xl ${ee} ${i===`dark`?`text-white`:`text-black`}`,s;t[0]!==n||t[1]!==r?(s=(0,m.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`রিপোর্ট করা হয়েছে`),n()},children:`রিপোর্ট করুন`}),t[0]=n,t[1]=r,t[2]=s):s=t[2];let c;t[3]!==n||t[4]!==r?(c=(0,m.jsx)(`button`,{className:`py-3.5 text-[#f42a41] border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`আনফলো করা হয়েছে`),n()},children:`আনফলো`}),t[3]=n,t[4]=r,t[5]=c):c=t[5];let l;t[6]!==n||t[7]!==r?(l=(0,m.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{r(`ফেভারিটে যোগ করা হয়েছে`),n()},children:`ফেভারিটে যোগ করুন`}),t[6]=n,t[7]=r,t[8]=l):l=t[8];let u;t[9]!==n||t[10]!==a||t[11]!==r?(u=(0,m.jsx)(`button`,{className:`py-3.5 border-b border-zinc-700/30 hover:bg-white/5 transition-colors`,onClick:()=>{let e=a||window.location.href;navigator.clipboard.writeText(e),r(`লিঙ্ক কপি করা হয়েছে`),n()},children:`লিঙ্ক কপি করুন`}),t[9]=n,t[10]=a,t[11]=r,t[12]=u):u=t[12];let d;t[13]===n?d=t[14]:(d=(0,m.jsx)(`button`,{className:`py-3.5 hover:bg-white/5 transition-colors`,onClick:n,children:`বাতিল করুন`}),t[13]=n,t[14]=d);let p;t[15]!==s||t[16]!==c||t[17]!==l||t[18]!==u||t[19]!==d?(p=(0,m.jsxs)(`div`,{className:`flex flex-col text-sm font-semibold`,children:[s,c,l,u,d]}),t[15]=s,t[16]=c,t[17]=l,t[18]=u,t[19]=d,t[20]=p):p=t[20];let h;t[21]!==o||t[22]!==p?(h=(0,m.jsx)(`div`,{className:o,onClick:g,children:p}),t[21]=o,t[22]=p,t[23]=h):h=t[23];let _;return t[24]!==n||t[25]!==h?(_=(0,m.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4`,onClick:n,children:h}),t[24]=n,t[25]=h,t[26]=_):_=t[26],_};function g(e){return e.stopPropagation()}var _=o(),v=e=>{let r=(0,_.c)(70),{onClose:i,theme:o,showToast:f,glassModal:h,shareUrl:g}=e,v=n(),{user:re}=l(),{data:y}=d(re?.id),b;r[0]===y?b=r[1]:(b=y===void 0?[]:y,r[0]=y,r[1]=b);let x=b,[S,ie]=(0,p.useState)(``),C;r[2]===Symbol.for(`react.memo_cache_sentinel`)?(C=[],r[2]=C):C=r[2];let[ae,oe]=(0,p.useState)(C),[se,ce]=(0,p.useState)(!1),w,T;r[3]===S?(w=r[4],T=r[5]):(w=()=>{let e=setTimeout(async()=>{if(S.trim().length>0){ce(!0);let{data:e}=await u.from(`profiles`).select(`id, username, full_name, avatar_url, is_verified`).ilike(`username`,`%${S}%`).limit(10);e&&oe(e.map(te)),ce(!1)}else oe([])},300);return()=>clearTimeout(e)},T=[S],r[3]=S,r[4]=w,r[5]=T),(0,p.useEffect)(w,T);let E;r[6]!==S||r[7]!==ae||r[8]!==x?(E=S.trim()?ae:x.slice(0,8),r[6]=S,r[7]=ae,r[8]=x,r[9]=E):E=r[9];let D=E,le=`w-full max-w-md rounded-xl overflow-hidden shadow-2xl ${h} ${o===`dark`?`text-white`:`text-black`}`,ue=`p-3 border-b text-center font-bold relative ${o===`dark`?`border-zinc-800`:`border-zinc-200`}`,O;r[10]===i?O=r[11]:(O=(0,m.jsx)(s,{className:`absolute right-3 top-3 cursor-pointer`,onClick:i}),r[10]=i,r[11]=O);let k;r[12]!==ue||r[13]!==O?(k=(0,m.jsxs)(`div`,{className:ue,children:[`শেয়ার করুন`,O]}),r[12]=ue,r[13]=O,r[14]=k):k=r[14];let de=`p-4 border-b ${o===`dark`?`border-zinc-700/50`:`border-zinc-200`}`,A=`flex items-center gap-2 px-3 py-2 rounded-lg ${o===`dark`?`bg-[#262626]`:`bg-gray-100`}`,j;r[15]===Symbol.for(`react.memo_cache_sentinel`)?(j=(0,m.jsx)(ee,{size:18,className:`text-[#8e8e8e]`}),r[15]=j):j=r[15];let M;r[16]===Symbol.for(`react.memo_cache_sentinel`)?(M=e=>ie(e.target.value),r[16]=M):M=r[16];let N,P;r[17]===S?(N=r[18],P=r[19]):(N=(0,m.jsx)(`input`,{type:`text`,placeholder:`অনুসন্ধান`,value:S,onChange:M,className:`bg-transparent border-none outline-none text-sm w-full`}),P=S&&(0,m.jsx)(s,{size:18,className:`cursor-pointer text-[#8e8e8e]`,onClick:()=>ie(``)}),r[17]=S,r[18]=N,r[19]=P);let F;r[20]!==A||r[21]!==N||r[22]!==P?(F=(0,m.jsxs)(`div`,{className:A,children:[j,N,P]}),r[20]=A,r[21]=N,r[22]=P,r[23]=F):F=r[23];let I;r[24]!==de||r[25]!==F?(I=(0,m.jsx)(`div`,{className:de,children:F}),r[24]=de,r[25]=F,r[26]=I):I=r[26];let L;r[27]!==se||r[28]!==v||r[29]!==i||r[30]!==f||r[31]!==o||r[32]!==D?(L=se?(0,m.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`অনুসন্ধান করা হচ্ছে...`}):D.length===0?(0,m.jsx)(`div`,{className:`p-4 text-center text-sm text-gray-500`,children:`কোনো ফলাফল পাওয়া যায়নি`}):D.map((e,t)=>(0,m.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded-lg ${o===`dark`?`hover:bg-white/5`:`hover:bg-black/5`} cursor-pointer transition-colors`,children:[(0,m.jsxs)(`div`,{className:`flex items-center gap-3 flex-grow`,onClick:()=>{i(),v(`/profile/${e.username}`)},children:[(0,m.jsx)(`div`,{className:`w-10 h-10 rounded-full overflow-hidden`,children:(0,m.jsx)(c,{src:e.avatar,className:`w-full h-full`,alt:e.username})}),(0,m.jsxs)(`div`,{className:`flex flex-col`,children:[(0,m.jsx)(`span`,{className:`text-sm font-semibold`,children:e.username}),(0,m.jsx)(`span`,{className:`text-xs opacity-70`,children:e.name||e.username})]})]}),(0,m.jsx)(`button`,{className:`px-4 py-1.5 rounded-lg text-sm font-semibold bg-[#006a4e] text-white hover:bg-[#00523c] transition-colors`,onClick:t=>{t.stopPropagation(),f(`${e.username}-কে পাঠানো হয়েছে`),i()},children:`পাঠান`})]},t)),r[27]=se,r[28]=v,r[29]=i,r[30]=f,r[31]=o,r[32]=D,r[33]=L):L=r[33];let R;r[34]===L?R=r[35]:(R=(0,m.jsx)(`div`,{className:`h-64 overflow-y-auto p-2`,children:L}),r[34]=L,r[35]=R);let z=`p-4 border-t ${o===`dark`?`border-zinc-800`:`border-zinc-200`} flex gap-4 overflow-x-auto`,B;r[36]!==i||r[37]!==g||r[38]!==f?(B=()=>{let e=g||window.location.href;navigator.clipboard.writeText(e),f(`লিঙ্ক কপি করা হয়েছে`),i()},r[36]=i,r[37]=g,r[38]=f,r[39]=B):B=r[39];let V=`w-12 h-12 rounded-full border flex items-center justify-center ${o===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,H;r[40]===Symbol.for(`react.memo_cache_sentinel`)?(H=(0,m.jsx)(t,{size:20}),r[40]=H):H=r[40];let U;r[41]===V?U=r[42]:(U=(0,m.jsx)(`div`,{className:V,children:H}),r[41]=V,r[42]=U);let W;r[43]===Symbol.for(`react.memo_cache_sentinel`)?(W=(0,m.jsx)(`span`,{className:`text-xs`,children:`লিঙ্ক কপি`}),r[43]=W):W=r[43];let G;r[44]!==B||r[45]!==U?(G=(0,m.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:B,children:[U,W]}),r[44]=B,r[45]=U,r[46]=G):G=r[46];let K;r[47]!==i||r[48]!==f?(K=()=>{f(`আপনার স্টোরিতে যোগ করা হয়েছে`),i()},r[47]=i,r[48]=f,r[49]=K):K=r[49];let fe=`w-12 h-12 rounded-full border flex items-center justify-center ${o===`dark`?`border-zinc-700 bg-black`:`border-gray-300 bg-white`}`,q;r[50]===Symbol.for(`react.memo_cache_sentinel`)?(q=(0,m.jsx)(a,{size:20}),r[50]=q):q=r[50];let J;r[51]===fe?J=r[52]:(J=(0,m.jsx)(`div`,{className:fe,children:q}),r[51]=fe,r[52]=J);let Y;r[53]===Symbol.for(`react.memo_cache_sentinel`)?(Y=(0,m.jsx)(`span`,{className:`text-xs`,children:`স্টোরিতে দিন`}),r[53]=Y):Y=r[53];let X;r[54]!==K||r[55]!==J?(X=(0,m.jsxs)(`div`,{className:`flex flex-col items-center gap-1 cursor-pointer min-w-[60px]`,onClick:K,children:[J,Y]}),r[54]=K,r[55]=J,r[56]=X):X=r[56];let Z;r[57]!==z||r[58]!==G||r[59]!==X?(Z=(0,m.jsxs)(`div`,{className:z,children:[G,X]}),r[57]=z,r[58]=G,r[59]=X,r[60]=Z):Z=r[60];let Q;r[61]!==k||r[62]!==I||r[63]!==R||r[64]!==Z||r[65]!==le?(Q=(0,m.jsxs)(`div`,{className:le,onClick:ne,children:[k,I,R,Z]}),r[61]=k,r[62]=I,r[63]=R,r[64]=Z,r[65]=le,r[66]=Q):Q=r[66];let $;return r[67]!==i||r[68]!==Q?($=(0,m.jsx)(`div`,{className:`fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4 animate-fade-in`,onClick:i,children:Q}),r[67]=i,r[68]=Q,r[69]=$):$=r[69],$};function te(e){return{id:e.id,username:e.username,name:e.full_name||e.username,avatar:e.avatar_url||``,isVerified:e.is_verified||!1}}function ne(e){return e.stopPropagation()}export{h as n,v as t};