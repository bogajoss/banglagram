import{D as e,k as t,u as n}from"./index-tjyykkff.js";var r=e();const i=[`suggestedUsers`],a=e=>{let a=(0,r.c)(2),s;return a[0]===e?s=a[1]:(s={queryKey:i,queryFn:async()=>{let t=[];if(e){t.push(e);let{data:r}=await n.from(`follows`).select(`following_id`).eq(`follower_id`,e);r&&r.forEach(e=>t.push(e.following_id))}let r=n.from(`profiles`).select(`id, username, full_name, avatar_url, is_verified`).limit(20);t.length>0&&t.length<50&&(r=r.not(`id`,`in`,`(${t.join(`,`)})`));let{data:i,error:a}=await r;if(a)throw a;return i.filter(e=>!t.includes(e.id)).slice(0,5).map(o)}},a[0]=e,a[1]=s),t(s)};function o(e){return{id:e.id,username:e.username,name:e.full_name||e.username,avatar:e.avatar_url||``,subtitle:`Suggested for you`,isVerified:e.is_verified||!1,isFollowing:!1}}export{a as t};