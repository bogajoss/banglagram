import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{$t as t,Ft as n,Ht as r,St as i,Xt as a,Zt as o}from"./vendor-BGrLWuzF.js";import"./libs-eJHw-jrC.js";import"./tanstack-CjdblyHw.js";import"./supabase-CBM4FLKd.js";import{C as s,a as c,w as l}from"./index-qR2YstvC.js";import{n as u,t as d}from"./PostItem-BjoY13Xp.js";import"./useViewTracker-D4u-iMqX.js";import"./useGetSuggestedUsers-BL8VlLqm.js";var f=n();t();var p=r(),m=()=>{let e=(0,f.c)(39),{id:t}=o(),{user:n}=s(),{theme:r,setViewingPost:m}=l(),{mutate:h}=c(),g=a(),{data:_,isLoading:v,error:y}=u(t,n?.id);if(v){let t=`min-h-screen w-full flex items-center justify-center ${r===`dark`?`bg-black text-white`:`bg-white text-black`}`,n;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,p.jsx)(`div`,{className:`w-8 h-8 border-4 border-[#006a4e] border-t-transparent rounded-full animate-spin`}),e[0]=n):n=e[0];let i;return e[1]===t?i=e[2]:(i=(0,p.jsx)(`div`,{className:t,children:n}),e[1]=t,e[2]=i),i}if(y||!_){let t=`min-h-screen w-full flex flex-col items-center justify-center ${r===`dark`?`bg-black text-white`:`bg-white text-black`}`,n;e[3]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,p.jsx)(`h2`,{className:`text-xl font-bold mb-4`,children:`Post not found`}),e[3]=n):n=e[3];let i;e[4]===g?i=e[5]:(i=(0,p.jsx)(`button`,{onClick:()=>g(`/`),className:`bg-[#006a4e] text-white px-4 py-2 rounded-lg font-semibold`,children:`Return Home`}),e[4]=g,e[5]=i);let a;return e[6]!==t||e[7]!==i?(a=(0,p.jsxs)(`div`,{className:t,children:[n,i]}),e[6]=t,e[7]=i,e[8]=a):a=e[8],a}let b=`min-h-screen w-full ${r===`dark`?`bg-black`:`bg-white`} pt-4 md:pt-8`,x;e[9]===g?x=e[10]:(x=()=>g(-1),e[9]=g,e[10]=x);let S=`p-2 rounded-full ${r===`dark`?`hover:bg-zinc-800`:`hover:bg-gray-100`}`,C;e[11]===Symbol.for(`react.memo_cache_sentinel`)?(C=(0,p.jsx)(i,{size:24}),e[11]=C):C=e[11];let w;e[12]!==x||e[13]!==S?(w=(0,p.jsx)(`button`,{onClick:x,className:S,children:C}),e[12]=x,e[13]=S,e[14]=w):w=e[14];let T;e[15]===Symbol.for(`react.memo_cache_sentinel`)?(T=(0,p.jsx)(`h1`,{className:`text-xl font-bold`,children:`Post`}),e[15]=T):T=e[15];let E;e[16]===w?E=e[17]:(E=(0,p.jsxs)(`div`,{className:`flex items-center gap-4 mb-6`,children:[w,T]}),e[16]=w,e[17]=E);let D=_.hasSaved||!1,O;e[18]!==_.hasSaved||e[19]!==_.id||e[20]!==h||e[21]!==n?(O=()=>{n&&h({postId:_.id,userId:n.id,hasSaved:_.hasSaved||!1})},e[18]=_.hasSaved,e[19]=_.id,e[20]=h,e[21]=n,e[22]=O):O=e[22];let k;e[23]===g?k=e[24]:(k=e=>g(`/profile/${e.username}`),e[23]=g,e[24]=k);let A;e[25]===m?A=e[26]:(A=e=>m(e),e[25]=m,e[26]=A);let j;e[27]!==_||e[28]!==A||e[29]!==D||e[30]!==O||e[31]!==k?(j=(0,p.jsx)(d,{post:_,isSaved:D,onToggleSave:O,onUserClick:k,onPostClick:A}),e[27]=_,e[28]=A,e[29]=D,e[30]=O,e[31]=k,e[32]=j):j=e[32];let M;e[33]!==j||e[34]!==E?(M=(0,p.jsxs)(`div`,{className:`max-w-[600px] mx-auto px-4`,children:[E,j]}),e[33]=j,e[34]=E,e[35]=M):M=e[35];let N;return e[36]!==b||e[37]!==M?(N=(0,p.jsx)(`div`,{className:b,children:M}),e[36]=b,e[37]=M,e[38]=N):N=e[38],N};export{m as default};